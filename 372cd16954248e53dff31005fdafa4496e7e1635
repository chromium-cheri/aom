{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "a3b8b0fc_8f413c6c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 13265
      },
      "writtenOn": "2022-03-15T13:06:22Z",
      "side": 1,
      "message": "Hi Yunqing,\n\nThis patch removes redundant updates in av1_init_plane_quantizers() so that the quant params are updated only when there is a change in qindex or segment index. Also, the update of cyclic refresh map in av1_cyclic_refresh_update_segment() is modified to use memset wherever applicable to reduce encode time.\n\nPlease find the detailed speed results below.\n\n                Instruction Count\n cpu    Test-set    Reduction(%)  \n  5         rtc      0.453        \n  5    rtc_derf      0.347        \n  5     Average      0.401    \n \n  6         rtc      0.539        \n  6    rtc_derf      0.451        \n  6     Average      0.496  \n \n  7         rtc      0.934        \n  7    rtc_derf      0.833        \n  7     Average      0.885  \n \n  8         rtc      0.964        \n  8    rtc_derf      0.975        \n  8     Average      0.969  \n \n  9         rtc      1.292        \n  9    rtc_derf      1.130        \n  9     Average      1.213  \n \n 10         rtc      0.478        \n 10    rtc_derf      0.510        \n 10     Average      0.493  \n\nThe instruction count reduction specified has been measured using command: $ perf stat -e instructions:u ./aomenc â€¦\n\nThe change has been verified to be bit-exact with no speed impact for good 2-pass encode and for multi-tile, multi-thread encode on a few clips.\nPlease review the patch.\n\nThanks,\nNithya",
      "revId": "372cd16954248e53dff31005fdafa4496e7e1635",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4f9f5e6c_c6c9e62d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5185
      },
      "writtenOn": "2022-03-15T17:06:47Z",
      "side": 1,
      "message": "Nice optimization. Looks good.",
      "revId": "372cd16954248e53dff31005fdafa4496e7e1635",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}