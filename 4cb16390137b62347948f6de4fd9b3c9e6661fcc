{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "8f42bdba_1f6752ef",
        "filename": "/COMMIT_MSG",
        "patchSetId": 5
      },
      "lineNbr": 9,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-07-18T21:08:43Z",
      "side": 1,
      "message": "It is also empty on macOS, although macOS allows -lpthread.",
      "revId": "4cb16390137b62347948f6de4fd9b3c9e6661fcc",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3ed54e2e_5337135a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 5020
      },
      "writtenOn": "2023-07-18T20:15:21Z",
      "side": 1,
      "message": "I\u0027ll merge this if there aren\u0027t any other comments.",
      "revId": "4cb16390137b62347948f6de4fd9b3c9e6661fcc",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "05e02a75_9ceacb3d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-07-18T21:08:43Z",
      "side": 1,
      "message": "I suggest some optional changes.\n\nI am very familiar with the compiler and linker flags for pthreads on various platforms, but I am not familiar with CMake\u0027s support for them, so my comments are based on quick perusal of https://cmake.org/cmake/help/v3.18/module/FindThreads.html.",
      "revId": "4cb16390137b62347948f6de4fd9b3c9e6661fcc",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "97ece83d_44ecc656",
        "filename": "build/cmake/aom_install.cmake",
        "patchSetId": 5
      },
      "lineNbr": 50,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-07-18T21:08:43Z",
      "side": 1,
      "message": "Optional: We may be able to delete this line. Please see my comment in build/cmake/pkg_config.cmake at line 63.",
      "revId": "4cb16390137b62347948f6de4fd9b3c9e6661fcc",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9629e801_c3d4071c",
        "filename": "build/cmake/aom_install.cmake",
        "patchSetId": 5
      },
      "lineNbr": 50,
      "author": {
        "id": 10176
      },
      "writtenOn": "2023-07-19T06:58:37Z",
      "side": 1,
      "message": "Looking at the CI, it seems to test the compilation with no threads: https://build.aomedia.org/jenkins/job/libaom__compile/57151/\n\nIt wouldn\u0027t hurt to link/add flag for pthread if it\u0027s not used. But it may hide problems when pthread is actually used when it should not.\n\nThe CI won\u0027t find these, because it probably doesn\u0027t use pkg-config. But other external programs may not notice such issues.\n\nIMO if there\u0027s an option to disable threads it should be done properly.",
      "parentUuid": "97ece83d_44ecc656",
      "revId": "4cb16390137b62347948f6de4fd9b3c9e6661fcc",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "741faa0d_624344dd",
        "filename": "build/cmake/pkg_config.cmake",
        "patchSetId": 5
      },
      "lineNbr": 63,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-07-18T21:08:43Z",
      "side": 1,
      "message": "Optional: We can probably test `CMAKE_THREAD_LIBS_INIT` instead of `CONFIG_MULTITHREAD` here to avoid having a space character at the end of `Libs.private`.\n\nActually, if we don\u0027t mind having a space character at the end of `Libs.private`, then we can replace lines 63-68 with\n\n```\nfile(APPEND \"${pkgconfig_file}\"\n     \"Libs.private: -lm ${CMAKE_THREAD_LIBS_INIT}\\n\")\n```",
      "revId": "4cb16390137b62347948f6de4fd9b3c9e6661fcc",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c70bef88_4138e96e",
        "filename": "build/cmake/pkg_config.cmake",
        "patchSetId": 5
      },
      "lineNbr": 63,
      "author": {
        "id": 10176
      },
      "writtenOn": "2023-07-19T06:58:37Z",
      "side": 1,
      "message": "Indeed, it seems that `CMAKE_THREAD_LIBS_INIT`  will only be if `CONFIG_MULTITHREAD` is true. The rest of the time it will just output an empty string. So we don\u0027t need an if() at all.",
      "parentUuid": "741faa0d_624344dd",
      "revId": "4cb16390137b62347948f6de4fd9b3c9e6661fcc",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}