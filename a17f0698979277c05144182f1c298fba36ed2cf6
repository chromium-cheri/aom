{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "956f4173_e1a12f67",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 10
      },
      "lineNbr": 0,
      "author": {
        "id": 9616
      },
      "writtenOn": "2022-09-22T15:38:31Z",
      "side": 1,
      "message": "Hi Wan-Teh, Frank,\n\nIn case of ALLINTRA encoding, the application of deblocking filters on the reconstructed frame can be avoided as they are not referenced. In this CL, we have introduced a new API parameter ‘apply_loopfilter’ which is 1 by default. When set to 0, the application of deblocking filters is skipped if there are no further in-loop filtering stages (cdef, superres scaling, loop restoration).\n\nWe have also modified the control calls that query a reconstructed frame to return an error ‘AOM_CODEC_UNSUP_FEATURE’ if ‘appy_loopfilter’ is set to 0. av1_get_preview_raw_frame() and av1_get_last_show_frame() are also modified to not return a reconstructed frame when ‘appy_loopfilter’ is set to 0.\n\nThis CL produces bit-exact stream. With this CL, for AVIF still-image encode, we observed encode time reduction of ~2.5% for ‘-s 9, --depth 10’ on an image dataset when ‘apply_loopfilter’ is set to 0.\n\nFor libaom AV1 video encode, bit-match is verified (w.r.t. parent commit) for \u0027GOOD\u0027, \u0027RT\u0027 and \u0027ALLINTRA\u0027 encoding modes for a few contents with different encoding configurations. It is verified that the CL is bit-exact for AVIF still-image encode for a typical image dataset.\n\nPlease review.\n\nRegards,\nRemya",
      "revId": "a17f0698979277c05144182f1c298fba36ed2cf6",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}