{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "01296d04_eec0079a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-05-15T16:30:16Z",
      "side": 1,
      "message": "Please reference patchset 2 of Yuan Tong\u0027s CL, which is the version we looked at yesterday:\nhttps://aomedia-review.googlesource.com/c/aom/+/171941/2\n\nThe reason is that Yuan\u0027s CL may be rebased on top of this CL.",
      "revId": "fb87921b8f64a6282dd3ca14fe91a50c2b6a13e8",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fcf38584_25ef2371",
        "filename": "av1/av1_cx_iface.c",
        "patchSetId": 1
      },
      "lineNbr": 1619,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-05-15T16:30:16Z",
      "side": 1,
      "message": "Note the definition of `cpi` in this function.\n\nAlso note that `ctx-\u003eppi-\u003ecpi` is equal to `ctx-\u003eppi-\u003eparallel_cpi[0]`.",
      "revId": "fb87921b8f64a6282dd3ca14fe91a50c2b6a13e8",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "13e311a1_73302dae",
        "filename": "av1/av1_cx_iface.c",
        "patchSetId": 1
      },
      "lineNbr": 1626,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-05-15T16:30:16Z",
      "side": 1,
      "message": "`av1_change_config()` has the following code:\n\n```\nvoid av1_change_config(struct AV1_COMP *cpi, const AV1EncoderConfig *oxcf,\n                       bool is_sb_size_changed) {\n  ...\n  cpi-\u003eoxcf \u003d *oxcf;\n```\n\nSo this `av1_change_config()` call does the following:\n\n```\n  cpi-\u003eoxcf \u003d ctx-\u003eoxcf;\n```",
      "revId": "fb87921b8f64a6282dd3ca14fe91a50c2b6a13e8",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "25a3bc0f_7dfc8b93",
        "filename": "av1/av1_cx_iface.c",
        "patchSetId": 1
      },
      "lineNbr": 1637,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-05-15T16:30:16Z",
      "side": 1,
      "message": "This `av1_change_config()` call does the following:\n\n```\n  cpi_lap-\u003eoxcf \u003d ctx-\u003eoxcf;\n```",
      "revId": "fb87921b8f64a6282dd3ca14fe91a50c2b6a13e8",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8d4a9d54_d795b885",
        "filename": "av1/av1_cx_iface.c",
        "patchSetId": 1
      },
      "lineNbr": 3620,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-05-15T16:30:16Z",
      "side": 1,
      "message": "IMPORTANT: The code in this function that modifies `oxcf` needs to be reviewed carefully.\n\nNote that it modifies `ctx-\u003eppi-\u003ecpi-\u003eoxcf`. I think it should modify `ctx-\u003eoxcf` instead, otherwise the new `update_encoder_cfg()` call will overwrite `ctx-\u003eppi-\u003ecpi-\u003eoxcf`.",
      "revId": "fb87921b8f64a6282dd3ca14fe91a50c2b6a13e8",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dd9dfc87_b2059024",
        "filename": "av1/av1_cx_iface.c",
        "patchSetId": 1
      },
      "lineNbr": 3661,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-05-15T16:30:16Z",
      "side": 1,
      "message": "IMPORTANT: Similar to `ctrl_set_scale_mode()`, I think this function should now modify `ctx-\u003eoxcf` instead, otherwise the new `update_encoder_cfg()` call will overwrite `ctx-\u003eppi-\u003ecpi-\u003eoxcf`.",
      "revId": "fb87921b8f64a6282dd3ca14fe91a50c2b6a13e8",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5904e8c3_f6ee9881",
        "filename": "av1/av1_cx_iface.c",
        "patchSetId": 1
      },
      "lineNbr": 3712,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-05-15T16:30:16Z",
      "side": 1,
      "message": "IMPORTANT: The code in this function needs to be reviewed carefully, because some of it may be redundant with the new `update_encoder_cfg()` call.\n\nFor example, `update_encoder_cfg()` calls `av1_change_config()`, which calls `av1_update_layer_context_change_config()` as follows:\n\n```\n  if (cpi-\u003eppi-\u003euse_svc)\n    av1_update_layer_context_change_config(cpi, rc_cfg-\u003etarget_bandwidth);\n```\n\nSo this `av1_update_layer_context_change_config()` call is now redundant.\n\nSimilarly, the `set_primary_rc_buffer_sizes()` call at line 3711 also seems redundant.",
      "revId": "fb87921b8f64a6282dd3ca14fe91a50c2b6a13e8",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}