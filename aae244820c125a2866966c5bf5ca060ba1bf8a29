{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "5384f8cc_f013abad",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 9611
      },
      "writtenOn": "2023-06-19T12:44:52Z",
      "side": 1,
      "message": "The speed feature \u0027adjust_num_frames_for_arf_filtering\u0027 is used to adjust the number of frames required for temporal filtering of ARF frames. Currently, the sf is enabled only for speed 6. This CL extends the sf for speed 5. Bit match is verified for presets \u003c\u003d 4.\n```\n                     Instruction Count        BD-Rate Loss(%)       \ncpu   Resolution      Reduction(%)      avg.psnr   ovr.psnr    ssim\n 5      LOWRES2         1.317          -0.2213    -0.1215     -0.2867\n 5      MIDRES2         1.478          -0.0433    -0.0249     -0.0206\n 5      HDRES2          1.714          -0.1642    -0.1232     -0.1022\n 5      Average         1.503          -0.1429    -0.0733     -0.1365\n```\n\nThe instruction count reduction specified has been measured using command:\n$ perf stat -e instructions:u ./aomenc â€¦ \n\nWhen tried to extend the sf for lower speeds 1 to 4, though the overall trade-off looks better, observed that 1 or 2 contents dropping in BD-rate \u003e 1%. Hence, we did not the extend the same for speeds \u003c\u003d 4.",
      "revId": "aae244820c125a2866966c5bf5ca060ba1bf8a29",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5bd4f055_d98de5a1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5185
      },
      "writtenOn": "2023-06-20T14:55:18Z",
      "side": 1,
      "message": "Looks good. Nice gain! Which clips got worse while extending this sf to speed 4?",
      "parentUuid": "5384f8cc_f013abad",
      "revId": "aae244820c125a2866966c5bf5ca060ba1bf8a29",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "056413bb_9c5a5e95",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 9611
      },
      "writtenOn": "2023-06-21T05:16:39Z",
      "side": 1,
      "message": "With the sf enabled for speeds 1 to 4, the following are the borg test results.\n```\n     Instruction Count        BD-Rate Loss(%)\ncpu    Reduction(%)    avg.psnr   ovr.psnr    ssim\n 1       0.253        -0.1528    -0.0789     -0.1435\n 2       0.222        -0.1755    -0.1021     -0.1923\n 3       0.299        -0.2065    -0.1367     -0.2118\n 4       0.903        -0.1969    -0.1215     -0.1751\n```\nThe below shows the contents which are affecting worse/best in the context of BD-rate(%).\n```\n                                   Instruction Count      BD-Rate Loss(%)\ncpu  Impact  content                  Reduction(%)    avg.psnr  ovr.psnr   ssim\n 1   worst  netflix_aerial             -2.998         3.0562     3.7786    5.3056   \n 1   worst  ToddlerFountain            -0.216         0.9817     1.1917    0.6346   \n 1   best   station2_240p               1.548        -1.7644    -1.7471   -2.7476    \n 1   best   into_tree_240p              1.000        -1.4798    -1.3289   -1.1643 \n    \n 2   worst  galleon_cif                -2.800         0.7550     0.9080    0.6185   \n 2   worst  into_tree_480p              0.405         0.6434     0.7086    0.6489    \n 2   best   into_tree_240p              1.039        -1.7362    -1.6354   -1.2793    \n 2   best   station2_240p               2.132        -1.6195    -1.6012   -2.7722 \n    \n 3   worst  Netflix_PierSeaside_1080p  -0.569         1.3662     1.2397    0.4030   \n 3   worst  galleon_cif                -0.558         0.8877     1.1144    1.0210   \n 3   best   station2_240p               2.355        -2.7491    -2.7862   -5.3174    \n 3   best   station2_1080p25            2.325        -1.5701    -1.7967   -1.8597 \n    \n 4   worst  Netflix_PierSeaside_1080p  -0.341         1.9194     1.3268    0.0914   \n 4   worst  galleon_cif                 0.465         1.1962     1.4001    1.1452    \n 4   worst  sunflower_720p25           -0.705         1.0203     1.2149    0.9943   \n 4   best   blue_sky_480p25             1.203        -3.3225    -3.0520   -3.3857    \n 4   best   station2_240p               3.664        -3.1356    -3.1837   -5.7909    \n``` \nSince the worst case BD-rate loss is \u003e 1%, we decided to not extend the sf for lower speeds.\n\nPlease let us know your opinion on the same.",
      "parentUuid": "5bd4f055_d98de5a1",
      "revId": "aae244820c125a2866966c5bf5ca060ba1bf8a29",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ],
  "submitRequirementResults": [
    {
      "submitRequirement": {
        "name": "Code-Review",
        "description": {
          "value": "At least one maximum vote for label \u0027Code-Review\u0027 is required"
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Code-Review\u003dMAX,user\u003dnon_uploader AND -label:Code-Review\u003dMIN"
        },
        "overrideExpression": {
          "value": {
            "expressionString": "label:Bot-Commit\u003d+1 AND -label:Code-Review\u003dMIN"
          }
        },
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Code-Review=MAX,user=non_uploader AND -label:Code-Review=MIN"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["label:Code-Review=MAX,user=non_uploader"],"failingAtoms":["label:Code-Review=MIN"]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"label:Bot-Commit=+1 AND -label:Code-Review=MIN"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Bot-Commit=+1","label:Code-Review=MIN"]}
      },
      "patchSetCommitId": "aae244820c125a2866966c5bf5ca060ba1bf8a29",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Review-Enforcement",
        "description": {
          "value": "Two Google employees must approve the change. Uploading the change or voting positively on Code-Review count as approval."
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "is:review-enforced_gerrit"
          }
        },
        "submittabilityExpression": {
          "expressionString": "is:review-enforcement-satisfied_gerrit"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforced_gerrit"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["is:review-enforced_gerrit"],"failingAtoms":[]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforcement-satisfied_gerrit"},"status":"NOT_EVALUATED","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":[]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforced_gerrit"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["is:review-enforcement-satisfied_gerrit"]}
      },
      "patchSetCommitId": "aae244820c125a2866966c5bf5ca060ba1bf8a29",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {
        "value": true
      }
    },
    {
      "submitRequirement": {
        "name": "Verified",
        "description": {
          "value": "CI or human verified the change"
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Verified\u003dMAX AND -label:Verified\u003dMIN"
        },
        "overrideExpression": {
          "value": {
            "expressionString": "label:Bot-Commit\u003d+1"
          }
        },
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Verified=MAX AND -label:Verified=MIN"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["label:Verified=MAX"],"failingAtoms":["label:Verified=MIN"]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"label:Bot-Commit=+1"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Bot-Commit=+1"]}
      },
      "patchSetCommitId": "aae244820c125a2866966c5bf5ca060ba1bf8a29",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    }
  ]
}