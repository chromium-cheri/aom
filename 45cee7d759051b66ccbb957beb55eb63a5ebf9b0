{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "c10c5cf7_52fa5adf",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 14993
      },
      "writtenOn": "2021-04-30T18:09:48Z",
      "side": 1,
      "message": "Hi Wan-Teh,\n\nThis CL adds unit test coverage for the sharpness parameter by testing the adherence to a given PSNR threshold.\n\nWe have added the following tests in the file test/sharpness_test.cc:\n1. SharpnessTestLarge\n2. SharpnessAllIntraTest\n3. SharpnessAllIntraTestLarge\n\nWe have currently limited the test cases for cpu-used and sharpness levels to limit the run-time of the tests. \n\nAs per our understanding the config parameter has applicability for kAllIntra mode, mainly. Hence we are testing for only kTwoPassGood  and kAllIntra modes. Please let us know your thoughts.\n\nPlease review.\n\nRegards,\nJayasanker.",
      "revId": "45cee7d759051b66ccbb957beb55eb63a5ebf9b0",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b43f95d9_db5c0506",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 9545
      },
      "writtenOn": "2021-04-30T22:51:27Z",
      "side": 1,
      "message": "Hi Jayasanker,\n\nThank you for adding a test for the sharpness parameter! I suggest some changes. Most of these are C++ coding style nits.",
      "revId": "45cee7d759051b66ccbb957beb55eb63a5ebf9b0",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "75f4d3ef_1ebadd79",
        "filename": "test/sharpness_test.cc",
        "patchSetId": 3
      },
      "lineNbr": 28,
      "author": {
        "id": 9545
      },
      "writtenOn": "2021-04-30T22:51:27Z",
      "side": 1,
      "message": "Declare this as const.",
      "revId": "45cee7d759051b66ccbb957beb55eb63a5ebf9b0",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cb86418c_b56bb97f",
        "filename": "test/sharpness_test.cc",
        "patchSetId": 3
      },
      "lineNbr": 39,
      "author": {
        "id": 9545
      },
      "writtenOn": "2021-04-30T22:51:27Z",
      "side": 1,
      "message": "Nit: Please add a class comment that this tests AOME_SET_SHARPNESS.",
      "revId": "45cee7d759051b66ccbb957beb55eb63a5ebf9b0",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "56b9827c_ebde75ca",
        "filename": "test/sharpness_test.cc",
        "patchSetId": 3
      },
      "lineNbr": 46,
      "author": {
        "id": 9545
      },
      "writtenOn": "2021-04-30T22:51:27Z",
      "side": 1,
      "message": "Move the encoding_mode_(GET_PARAM(1)) initializer before cpu_used_(GET_PARAM(2)). This is required by the change I suggested at line 110.",
      "revId": "45cee7d759051b66ccbb957beb55eb63a5ebf9b0",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "85c0b43b_d79528d6",
        "filename": "test/sharpness_test.cc",
        "patchSetId": 3
      },
      "lineNbr": 50,
      "author": {
        "id": 9545
      },
      "writtenOn": "2021-04-30T22:51:27Z",
      "side": 1,
      "message": "Please change \"virtual\" to \"override\" (a new C++11 keyword). Note that \"override\" needs to be placed right before the \u0027{\u0027.\n\nPlease make the same change to all the virtual methods that we override in this file.",
      "revId": "45cee7d759051b66ccbb957beb55eb63a5ebf9b0",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5fd51546_864a8cdb",
        "filename": "test/sharpness_test.cc",
        "patchSetId": 3
      },
      "lineNbr": 99,
      "author": {
        "id": 9545
      },
      "writtenOn": "2021-04-30T22:51:27Z",
      "side": 1,
      "message": "Nit: these two statements can be combined:\n\n    std::unique_ptr\u003clibaom_test::VideoSource\u003e video(\n        new libaom_test::Y4mVideoSource(\"paris_352_288_30.y4m\", 0, kFrames));",
      "range": {
        "startLine": 97,
        "startChar": 0,
        "endLine": 99,
        "endChar": 77
      },
      "revId": "45cee7d759051b66ccbb957beb55eb63a5ebf9b0",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "169ccb6c_6f48bd84",
        "filename": "test/sharpness_test.cc",
        "patchSetId": 3
      },
      "lineNbr": 105,
      "author": {
        "id": 9545
      },
      "writtenOn": "2021-04-30T22:51:27Z",
      "side": 1,
      "message": "Nit: print the test parameters in the order they are specified in AV1_INSTANTIATE_TEST_SUITE():\n\n        \u003c\u003c \"encoding mode \u003d \" \u003c\u003c encoding_mode_ \u003c\u003c \", cpu used \u003d \" \u003c\u003c cpu_used_",
      "range": {
        "startLine": 105,
        "startChar": 0,
        "endLine": 105,
        "endChar": 79
      },
      "revId": "45cee7d759051b66ccbb957beb55eb63a5ebf9b0",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a56cf6ab_a016e67b",
        "filename": "test/sharpness_test.cc",
        "patchSetId": 3
      },
      "lineNbr": 110,
      "author": {
        "id": 9545
      },
      "writtenOn": "2021-04-30T22:51:27Z",
      "side": 1,
      "message": "Move these two data members to the private section. In general data members should be private unless the tests need to access a data member directly.\n\nI suggest listing the following three data members first:\n  const libaom_test::TestMode encoding_mode_;\n  const int cpu_used_;\n  const int sharpness_level_;\n\nThese are initialized by test parameters, so we list them in the same order as the test parameters (see also the comment at line 27). We declare these as const because they don\u0027t change after initialization.",
      "range": {
        "startLine": 109,
        "startChar": 0,
        "endLine": 110,
        "endChar": 23
      },
      "revId": "45cee7d759051b66ccbb957beb55eb63a5ebf9b0",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "63a6d64d_bdb070b3",
        "filename": "test/sharpness_test.cc",
        "patchSetId": 3
      },
      "lineNbr": 142,
      "author": {
        "id": 9545
      },
      "writtenOn": "2021-04-30T22:51:27Z",
      "side": 1,
      "message": "Nit/optional: To shorten test time, we can test cpu_used 3, 6, 9 only.",
      "revId": "45cee7d759051b66ccbb957beb55eb63a5ebf9b0",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}