{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "4d8ee7a2_315e321f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 8893
      },
      "writtenOn": "2022-09-01T10:06:32Z",
      "side": 1,
      "message": "Hi Yunqing,\n\nFor non-svc use case, this patch allocates memory for only one instance of layer_context (i.e., number_spatial_layers\u003d1 and number_temporal_layers\u003d1). For svc use case, the memory usage is unchanged.\n\nThe peak memory reduction achieved for rt preset are as follows:\n```\n                   Peak Memory Reduction (%)\nResolution    cpu 6   cpu 7  cpu 8   cpu 9   cpu 10\n320x180       5.41    5.16   5.16    5.16    5.16\n320x240       4.47    4.70   4.88    4.64    4.64\n640x360       2.44    2.49   2.49    2.49    2.49\n640x480       2.03    2.06   2.06    2.06    2.06\n1280x720      0.83    0.84   0.84    0.84    0.84\n```\nMemory is measured using the command\n valgrind --tool\u003dmassif ./aomenc ...\n \nPlease review.\nThank you.\n\n",
      "revId": "923e208ff03a7872530afe6bc39f7ad9dad98389",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "163dc60e_409e0f92",
        "filename": "av1/av1_cx_iface.c",
        "patchSetId": 9
      },
      "lineNbr": 3377,
      "author": {
        "id": 5190
      },
      "writtenOn": "2022-09-01T19:37:21Z",
      "side": 1,
      "message": "can we allocate for (ppi-\u003enumber_spatial_layers * ppi-\u003enumber_temporal_layers), instead of AOM_MAX_LAYERS?",
      "revId": "923e208ff03a7872530afe6bc39f7ad9dad98389",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e291a4a5_3979a26c",
        "filename": "av1/av1_cx_iface.c",
        "patchSetId": 9
      },
      "lineNbr": 3377,
      "author": {
        "id": 8893
      },
      "writtenOn": "2022-09-02T17:09:42Z",
      "side": 1,
      "message": "Done. Also, corrected the function declaration of av1_alloc_layer_context() to match the function definition. This resolves visual studio build warning.",
      "parentUuid": "163dc60e_409e0f92",
      "revId": "923e208ff03a7872530afe6bc39f7ad9dad98389",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}