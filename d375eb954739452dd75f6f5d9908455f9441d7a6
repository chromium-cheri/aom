{
  "comments": [
    {
      "key": {
        "uuid": "7323ef26_3758e555",
        "filename": "av1/encoder/block.h",
        "patchSetId": 12
      },
      "lineNbr": 470,
      "author": {
        "id": 5185
      },
      "writtenOn": "2019-11-01T04:07:41Z",
      "side": 1,
      "message": "Seems predict_skip_level is unsigned int in other places. Better to use same type and be consistent.",
      "range": {
        "startLine": 470,
        "startChar": 2,
        "endLine": 470,
        "endChar": 5
      },
      "revId": "d375eb954739452dd75f6f5d9908455f9441d7a6",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1afcfa74_4e48ffbb",
        "filename": "av1/encoder/block.h",
        "patchSetId": 12
      },
      "lineNbr": 470,
      "author": {
        "id": 13265
      },
      "writtenOn": "2019-11-01T09:30:49Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "7323ef26_3758e555",
      "range": {
        "startLine": 470,
        "startChar": 2,
        "endLine": 470,
        "endChar": 5
      },
      "revId": "d375eb954739452dd75f6f5d9908455f9441d7a6",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "05dfb360_154344b1",
        "filename": "av1/encoder/rdopt.c",
        "patchSetId": 12
      },
      "lineNbr": 4025,
      "author": {
        "id": 5185
      },
      "writtenOn": "2019-11-01T04:07:41Z",
      "side": 1,
      "message": "Can these lines be combined?",
      "range": {
        "startLine": 4014,
        "startChar": 0,
        "endLine": 4025,
        "endChar": 33
      },
      "revId": "d375eb954739452dd75f6f5d9908455f9441d7a6",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cea3376d_f0defb00",
        "filename": "av1/encoder/rdopt.c",
        "patchSetId": 12
      },
      "lineNbr": 4025,
      "author": {
        "id": 13265
      },
      "writtenOn": "2019-11-01T09:37:54Z",
      "side": 1,
      "message": "Yunqing,\nWe are using *dist for the threshold check when (skip_pred_level \u003e\u003d 2) and mse otherwise. We chose *dist for the (skip_pred_level \u003e\u003d 2) so as to eliminate the truncation losses in the computation of mse. \nTo combine the lines, the *dist has to be changed to mse (or mse to *dist). However, this will not be bit-exact with the current patch for presets 3 and 4 when *dist is changed to mse (or for presets 0, 1, 2 if mse is changed to *dist). \nPlease let us know if we should change the condition to use mse instead of *dist.",
      "parentUuid": "05dfb360_154344b1",
      "range": {
        "startLine": 4014,
        "startChar": 0,
        "endLine": 4025,
        "endChar": 33
      },
      "revId": "d375eb954739452dd75f6f5d9908455f9441d7a6",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "128ceee0_6ad64bf0",
        "filename": "av1/encoder/rdopt.c",
        "patchSetId": 12
      },
      "lineNbr": 4025,
      "author": {
        "id": 5185
      },
      "writtenOn": "2019-11-01T16:21:34Z",
      "side": 1,
      "message": "Hi Nithya, thanks for the reply. I can see what you mean. using *dist instead of mse wouldn\u0027t give bit-exact result, but the impact should be negligible.\nAlso, in original code, *dist is used to terminate this test(if it is too large, skip\u003d0). Here, it is also used to force skip \u003d 1. mse_thresh * AOMMIN(bw, bh) - why multiply by AOMMIN(bw, bh)? Seems risky if bsize is large?",
      "parentUuid": "cea3376d_f0defb00",
      "range": {
        "startLine": 4014,
        "startChar": 0,
        "endLine": 4025,
        "endChar": 33
      },
      "revId": "d375eb954739452dd75f6f5d9908455f9441d7a6",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3472b51d_3489479f",
        "filename": "av1/encoder/rdopt.c",
        "patchSetId": 12
      },
      "lineNbr": 6225,
      "author": {
        "id": 5185
      },
      "writtenOn": "2019-11-01T16:21:34Z",
      "side": 1,
      "message": "this is not needed since x is already passed in?",
      "range": {
        "startLine": 6225,
        "startChar": 24,
        "endLine": 6225,
        "endChar": 45
      },
      "revId": "d375eb954739452dd75f6f5d9908455f9441d7a6",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    }
  ]
}