{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "c2ab9d89_5a9551f9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 25857
      },
      "writtenOn": "2021-06-02T16:03:53Z",
      "side": 1,
      "message": "Hi Yunqing,\n\nThis patch adds a unit test CpuUsedFirstpassTest, that validates the two pass encoding mode, when the first pass stats are generated with a different speed preset. In this test, the PSNR achieved  when using first pass stats of a different speed preset, is compared with, the PSNR achieved when the first pass stats of the same speed preset is used. A PSNR difference of greater than or equal to 0.1db , causes the test to fail.\n\nTo limit the duration of the test, we have restricted the resolution to 640x480 , the rate control mode to AOM_VBR and the different combinations of speed presets(2 ,4 , 6) as listed in table below. The lower speed presets (2, 4) have been added as part of Large tests (CpuUsedFirstpassTestLarge).\n\n\t      |    Reference encode     |     Test encode         |\nTest case No. | First pass  Second pass | First pass  Second pass |\n\t      |  cpu_used    cpu_used\t|  cpu_used    cpu_used   |\n------------- | ----------  ----------  | ----------  ----------  |\n       1      |     2\t   \t 2\t|     4\t\t  2       |\n       2      |     2\t   \t 2\t|     6\t\t  2       |\n       3      |     4\t   \t 4\t|     2\t\t  4       |\n       4      |     4\t   \t 4\t|     6\t\t  4       |\n       5      |     6\t   \t 6\t|     2\t\t  6       |\n       6      |     6\t   \t 6\t|     4\t\t  6       |\n\t \nPlease review the patch and let us know your opinion.\n\nThanks",
      "revId": "49e879d45449d2276e564ffddcd2fb229e019f63",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}