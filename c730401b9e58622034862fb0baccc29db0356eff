{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "fea4301c_81b2c6bb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 32
      },
      "lineNbr": 0,
      "author": {
        "id": 33496
      },
      "writtenOn": "2024-08-22T12:01:46Z",
      "side": 1,
      "message": "how to re run the test case which is failing . on my laptop. \nCould you please share the test case name and how to run it. I tried test_aom_rc, its passes for some of the interfaces . Some are failing, But the error is different on one mentioned here.  Hence exact test case name and how to reproduce is required.",
      "revId": "c730401b9e58622034862fb0baccc29db0356eff",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1c7fc5f0_9ad15289",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 32
      },
      "lineNbr": 0,
      "author": {
        "id": 5020
      },
      "writtenOn": "2024-08-23T02:38:07Z",
      "side": 1,
      "message": "\u003e how to re run the test case which is failing . on my laptop. \n\u003e Could you please share the test case name and how to run it. I tried test_aom_rc, its passes for some of the interfaces . Some are failing, But the error is different on one mentioned here.  Hence exact test case name and how to reproduce is required.\n\nYou can find the cmake command and tests run by looking at the console log (see the build failure comment). For example:\n\nhttps://build.aomedia.org/jenkins/job/libaom__commit_trigger/77316/ -\u003e https://build.aomedia.org/jenkins/job/libaom__per_commit-unit_test-sanitizers/29081/ -\u003e https://build.aomedia.org/jenkins/job/libaom__per_commit-unit_test-sanitizers/29081/GTEST_SHARD_INDEX\u003d0,sanitizer\u003daddress/ -\u003e https://build.aomedia.org/jenkins/job/libaom__per_commit-unit_test-sanitizers/29081/GTEST_SHARD_INDEX\u003d0,sanitizer\u003daddress/console\n\n```\ncmake /var/jenkins/workspace/libaom__per_commit-compile_sanitizers/sanitizer/address/aom   -DCMAKE_AR\u003d/usr/bin/llvm-ar   -DCMAKE_RANLIB\u003d/usr/bin/llvm-ranlib   -DCMAKE_C_COMPILER\u003dclang   -DCMAKE_CXX_COMPILER\u003dclang++   -DCMAKE_C_FLAGS\u003d\"-O2 -ffp-exception-behavior\u003dstrict\"   -DCMAKE_CXX_FLAGS\u003d\"-O2 -ffp-exception-behavior\u003dstrict\"   -DCMAKE_BUILD_TYPE\u003dDebug    -DENABLE_CCACHE\u003d1 -DSANITIZE\u003daddress\n```\n\n```\n+ ./test_aom_rc --gtest_output\u003dxml:test_aom_rc_detail.xml\n00:39:20 Note: This is test shard 1 of 20.\n00:39:20 [\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d] Running 2 tests from 2 test suites.\n00:39:20 [----------] Global test environment set-up.\n00:39:20 [----------] 1 test from AV1/RcInterfaceTest\n00:39:20 [ RUN      ] AV1/RcInterfaceTest.OneLayer/0\n...\n00:40:04 [  FAILED  ] AV1/RcInterfaceTest.OneLayer/0, where GetParam() \u003d (0x557e6fb063a0, 0) (43785 ms)\n```",
      "parentUuid": "fea4301c_81b2c6bb",
      "revId": "c730401b9e58622034862fb0baccc29db0356eff",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1019b221_76bfb814",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 32
      },
      "lineNbr": 0,
      "author": {
        "id": 33496
      },
      "writtenOn": "2024-08-27T08:16:04Z",
      "side": 1,
      "message": "I could use cmake like this :\ncmake ../ -DCMAKE_AR\u003d/usr/bin/llvm-ar  -DCMAKE_RANLIB\u003d/usr/bin/llvm-ranlib -DCMAKE_C_COMPILER\u003dclang -DCMAKE_CXX_COMPILER\u003dclang++ -DCMAKE_C_FLAGS\u003d\"-O2 -ffp-exception-behavior\u003dstrict\" -DCMAKE_CXX_FLAGS\u003d\"-O2 -ffp-exception-behavior\u003dstrict  -stdlib\u003dlibc++\" -DCMAKE_EXE_LINKER_FLAGS\u003d\"-stdlib\u003dlibc++ -lc++abi\" -DCMAKE_BUILD_TYPE\u003dDebug -DENABLE_CCACHE\u003d1 -DSANITIZE\u003daddress\n\nafter this : \n[address] $ /bin/bash -xe /var/jenkins/tmp/jenkins1298977864205605304.sh\n\nsince I dont have this path or the .sh file, I could not reproduce,\n\ncan you help here. to setup the system .",
      "parentUuid": "1c7fc5f0_9ad15289",
      "revId": "c730401b9e58622034862fb0baccc29db0356eff",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "26f323a2_e0a34fc5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 32
      },
      "lineNbr": 0,
      "author": {
        "id": 5020
      },
      "writtenOn": "2024-08-27T22:33:15Z",
      "side": 1,
      "message": "\u003e I could use cmake like this :\n\u003e cmake ../ -DCMAKE_AR\u003d/usr/bin/llvm-ar  -DCMAKE_RANLIB\u003d/usr/bin/llvm-ranlib -DCMAKE_C_COMPILER\u003dclang -DCMAKE_CXX_COMPILER\u003dclang++ -DCMAKE_C_FLAGS\u003d\"-O2 -ffp-exception-behavior\u003dstrict\" -DCMAKE_CXX_FLAGS\u003d\"-O2 -ffp-exception-behavior\u003dstrict  -stdlib\u003dlibc++\" -DCMAKE_EXE_LINKER_FLAGS\u003d\"-stdlib\u003dlibc++ -lc++abi\" -DCMAKE_BUILD_TYPE\u003dDebug -DENABLE_CCACHE\u003d1 -DSANITIZE\u003daddress\n\u003e \n\u003e after this : \n\u003e [address] $ /bin/bash -xe /var/jenkins/tmp/jenkins1298977864205605304.sh\n\u003e \n\u003e since I dont have this path or the .sh file, I could not reproduce,\n\u003e \n\u003e can you help here. to setup the system .\n\nThe script is just something temporary that\u0027s created to run the test. The executed commands are in the log prefixed by `+`:\n\n```\n00:39:20 + ./test_aom_rc --gtest_output\u003dxml:test_aom_rc_detail.xml\n00:39:20 Note: This is test shard 1 of 20.\n00:39:20 [\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d] Running 2 tests from 2 test suites.\n00:39:20 [----------] Global test environment set-up.\n00:39:20 [----------] 1 test from AV1/RcInterfaceTest\n00:39:20 [ RUN      ] AV1/RcInterfaceTest.OneLayer/0\n00:39:20 /var/jenkins/workspace/libaom__per_commit-compile_sanitizers/sanitizer/address/aom/test/encode_test_driver.h:109: Failure\n00:39:20 Expected equality of these values:\n00:39:20   AOM_CODEC_OK\n00:39:20     Which is: 0\n00:39:20   res\n00:39:20     Which is: 8\n00:39:20 content out of range [AOM_CONTENT_DEFAULT..AOM_CONTENT_INVALID - 1]\n...\n```",
      "parentUuid": "1019b221_76bfb814",
      "revId": "c730401b9e58622034862fb0baccc29db0356eff",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "20794f80_ccad62c9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 32
      },
      "lineNbr": 0,
      "author": {
        "id": 33496
      },
      "writtenOn": "2024-08-28T11:48:57Z",
      "side": 1,
      "message": "after cmake, make -j8, then run test_aom_rc I believe.",
      "parentUuid": "26f323a2_e0a34fc5",
      "revId": "c730401b9e58622034862fb0baccc29db0356eff",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "44c67a73_ab478fb8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 32
      },
      "lineNbr": 0,
      "author": {
        "id": 5020
      },
      "writtenOn": "2024-08-28T19:08:13Z",
      "side": 1,
      "message": "\u003e after cmake, make -j8, then run test_aom_rc I believe.\n\nYes. Given the test failures the cmake configuration may not matter, it doesn\u0027t look like it\u0027s specific to ASan, but if you follow the commands in the log you should be able to reproduce the failures.",
      "parentUuid": "20794f80_ccad62c9",
      "revId": "c730401b9e58622034862fb0baccc29db0356eff",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "785e9d3c_47e7014f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 32
      },
      "lineNbr": 0,
      "author": {
        "id": 33496
      },
      "writtenOn": "2024-09-11T14:19:48Z",
      "side": 1,
      "message": "pradeep4@pradeep4-NUC11PAHi7:~/Documents/pradeep/repos_and_other/aom_no_changes/aom/build$ ./test_aom_rc \n[\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d] Running 36 tests from 2 test suites.\n[----------] Global test environment set-up.\n[----------] 16 tests from AV1/RcInterfaceTest\n[ RUN      ] AV1/RcInterfaceTest.OneLayer/0\n/home/pradeep4/Documents/pradeep/repos_and_other/aom_no_changes/aom/test/yuv_video_source.h:47: Failure\nExpected: (input_file_) !\u003d (nullptr), actual: NULL vs (nullptr)\nInput file open failed. Filename: niklas_640_480_30.yuv\n/home/pradeep4/Documents/pradeep/repos_and_other/aom_no_changes/aom/test/encode_test_driver.cc:195: Failure\nExpected: video-\u003eBegin() doesn\u0027t generate new fatal failures in the current thread.\n  Actual: it does.\n/home/pradeep4/Documents/pradeep/repos_and_other/aom_no_changes/aom/test/ratectrl_rtc_test.cc:194: Failure\nExpected: RunLoop(\u0026video) doesn\u0027t generate new fatal failures in the current thread.\n  Actual: it does.\n[  FAILED  ] AV1/RcInterfaceTest.OneLayer/0, where GetParam() \u003d (0x5bf3308951a0, 0) (2 ms)\n[ RUN      ] AV1/RcInterfaceTest.OneLayer/1\n/home/pradeep4/Documents/pradeep/repos_and_other/aom_no_changes/aom/test/yuv_video_source.h:47: Failure\nExpected: (input_file_) !\u003d (nullptr), actual: NULL vs (nullptr)\nInput file open failed. Filename: niklas_640_480_30.yuv\n/home/pradeep4/Documents/pradeep/repos_and_other/aom_no_changes/aom/test/encode_test_driver.cc:195: Failure\nExpected: video-\u003eBegin() doesn\u0027t generate new fatal failures in the current thread.\n\n[----------] 20 tests from AV1/RcExternMethodsInterfaceTest\n[ RUN      ] AV1/RcExternMethodsInterfaceTest.CreateAV1RateControlAV1Test/0\n[       OK ] AV1/RcExternMethodsInterfaceTest.CreateAV1RateControlAV1Test/0 (0 ms)\n[ RUN      ] AV1/RcExternMethodsInterfaceTest.CreateAV1RateControlAV1Test/1\n[       OK ] AV1/RcExternMethodsInterfaceTest.CreateAV1RateControlAV1Test/1 (0 ms)\n[ RUN      ] AV1/RcExternMethodsInterfaceTest.UpdateRateControllerAV1Test/0\n[       OK ] AV1/RcExternMethodsInterfaceTest.UpdateRateControllerAV1Test/0 (0 ms)\n[ RUN      ] AV1/RcExternMethodsInterfaceTest.UpdateRateControllerAV1Test/1\n[       OK ] AV1/RcExternMethodsInterfaceTest.UpdateRateControllerAV1Test/1 (0 ms)\n[ RUN      ] AV1/RcExternMethodsInterfaceTest.GetQpRateControllerAV1Test/0\n[       OK ] AV1/RcExternMethodsInterfaceTest.GetQpRateControllerAV1Test/0 (0 ms)\n[ RUN      ] AV1/RcExternMethodsInterfaceTest.GetQpRateControllerAV1Test/1\n[       OK ] AV1/RcExternMethodsInterfaceTest.GetQpRateControllerAV1Test/1 (0 ms)\n[ RUN      ] AV1/RcExternMethodsInterfaceTest.ComputeQPRateControllerAV1Test/0\n[       OK ] AV1/RcExternMethodsInterfaceTest.ComputeQPRateControllerAV1Test/0 (0 ms)\n[ RUN      ] AV1/RcExternMethodsInterfaceTest.ComputeQPRateControllerAV1Test/1\n[       OK ] AV1/RcExternMethodsInterfaceTest.ComputeQPRateControllerAV1Test/1 (0 ms)\n[ RUN      ] AV1/RcExternMethodsInterfaceTest.GetLoopFilterLevelRateControllerAV1Test/0\n[       OK ] AV1/RcExternMethodsInterfaceTest.GetLoopFilterLevelRateControllerAV1Test/0 (0 ms)\n[ RUN      ] AV1/RcExternMethodsInterfaceTest.GetLoopFilterLevelRateControllerAV1Test/1\n[       OK ] AV1/RcExternMethodsInterfaceTest.GetLoopFilterLevelRateControllerAV1Test/1 (0 ms)\n[ RUN      ] AV1/RcExternMethodsInterfaceTest.PostEncodeUpdateRateControllerAV1Test/0\n[       OK ] AV1/RcExternMethodsInterfaceTest.PostEncodeUpdateRateControllerAV1Test/0 (0 ms)\n[ RUN      ] AV1/RcExternMethodsInterfaceTest.PostEncodeUpdateRateControllerAV1Test/1\n[       OK ] AV1/RcExternMethodsInterfaceTest.PostEncodeUpdateRateControllerAV1Test/1 (0 ms)\n[ RUN      ] AV1/RcExternMethodsInterfaceTest.GetSegmenationDataRateControllerAV1Test/0\n[       OK ] AV1/RcExternMethodsInterfaceTest.GetSegmenationDataRateControllerAV1Test/0 (0 ms)\n[ RUN      ] AV1/RcExternMethodsInterfaceTest.GetSegmenationDataRateControllerAV1Test/1\n[       OK ] AV1/RcExternMethodsInterfaceTest.GetSegmenationDataRateControllerAV1Test/1 (0 ms)\n[ RUN      ] AV1/RcExternMethodsInterfaceTest.GetCdedInfoRateControllerAV1Test/0\n[       OK ] AV1/RcExternMethodsInterfaceTest.GetCdedInfoRateControllerAV1Test/0 (0 ms)\n[ RUN      ] AV1/RcExternMethodsInterfaceTest.GetCdedInfoRateControllerAV1Test/1\n[       OK ] AV1/RcExternMethodsInterfaceTest.GetCdedInfoRateControllerAV1Test/1 (0 ms)\n[ RUN      ] AV1/RcExternMethodsInterfaceTest.CreateAV1RateControlConfigAV1Test/0\n[       OK ] AV1/RcExternMethodsInterfaceTest.CreateAV1RateControlConfigAV1Test/0 (0 ms)\n[ RUN      ] AV1/RcExternMethodsInterfaceTest.CreateAV1RateControlConfigAV1Test/1\n[       OK ] AV1/RcExternMethodsInterfaceTest.CreateAV1RateControlConfigAV1Test/1 (0 ms)\n[ RUN      ] AV1/RcExternMethodsInterfaceTest.DestoryAV1RateControlRTCAV1Test/0\n[       OK ] AV1/RcExternMethodsInterfaceTest.DestoryAV1RateControlRTCAV1Test/0 (0 ms)\n[ RUN      ] AV1/RcExternMethodsInterfaceTest.DestoryAV1RateControlRTCAV1Test/1\n[       OK ] AV1/RcExternMethodsInterfaceTest.DestoryAV1RateControlRTCAV1Test/1 (0 ms)\n[----------] 20 tests from AV1/RcExternMethodsInterfaceTest (1 ms total)\n\n[----------] Global test environment tear-down\n[\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d] 36 tests from 2 test suites ran. (7 ms total)\n[  PASSED  ] 20 tests.\n[  FAILED  ] 16 tests, listed below:\n[  FAILED  ] AV1/RcInterfaceTest.OneLayer/0, where GetParam() \u003d (0x5bf3308951a0, 0)\n[  FAILED  ] AV1/RcInterfaceTest.OneLayer/1, where GetParam() \u003d (0x5bf3308951a0, 3)\n[  FAILED  ] AV1/RcInterfaceTest.OneLayerDropFramesCBR/0, where GetParam() \u003d (0x5bf3308951a0, 0)\n[  FAILED  ] AV1/RcInterfaceTest.OneLayerDropFramesCBR/1, where GetParam() \u003d (0x5bf3308951a0, 3)\n[  FAILED  ] AV1/RcInterfaceTest.OneLayerPeriodicKey/0, where GetParam() \u003d (0x5bf3308951a0, 0)\n[  FAILED  ] AV1/RcInterfaceTest.OneLayerPeriodicKey/1, where GetParam() \u003d (0x5bf3308951a0, 3)\n[  FAILED  ] AV1/RcInterfaceTest.OneLayerScreen/0, where GetParam() \u003d (0x5bf3308951a0, 0)\n[  FAILED  ] AV1/RcInterfaceTest.OneLayerScreen/1, where GetParam() \u003d (0x5bf3308951a0, 3)\n[  FAILED  ] AV1/RcInterfaceTest.Svc/0, where GetParam() \u003d (0x5bf3308951a0, 0)\n[  FAILED  ] AV1/RcInterfaceTest.Svc/1, where GetParam() \u003d (0x5bf3308951a0, 3)\n[  FAILED  ] AV1/RcInterfaceTest.SvcPeriodicKey/0, where GetParam() \u003d (0x5bf3308951a0, 0)\n[  FAILED  ] AV1/RcInterfaceTest.SvcPeriodicKey/1, where GetParam() \u003d (0x5bf3308951a0, 3)\n[  FAILED  ] AV1/RcInterfaceTest.SvcDynamicTemporal/0, where GetParam() \u003d (0x5bf3308951a0, 0)\n[  FAILED  ] AV1/RcInterfaceTest.SvcDynamicTemporal/1, where GetParam() \u003d (0x5bf3308951a0, 3)\n[  FAILED  ] AV1/RcInterfaceTest.SvcDynamicSpatial/0, where GetParam() \u003d (0x5bf3308951a0, 0)\n[  FAILED  ] AV1/RcInterfaceTest.SvcDynamicSpatial/1, where GetParam() \u003d (0x5bf3308951a0, 3)\n-- not able to reproduce with test_aom_rc executable.",
      "parentUuid": "44c67a73_ab478fb8",
      "revId": "c730401b9e58622034862fb0baccc29db0356eff",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5585e783_a2b3e875",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 32
      },
      "lineNbr": 0,
      "author": {
        "id": 33496
      },
      "writtenOn": "2024-09-11T14:19:48Z",
      "side": 1,
      "message": "could you please let me know what is exact test setup need to have.",
      "revId": "c730401b9e58622034862fb0baccc29db0356eff",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c2716b8f_5d8681da",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 32
      },
      "lineNbr": 0,
      "author": {
        "id": 5020
      },
      "writtenOn": "2024-09-11T19:31:58Z",
      "side": 1,
      "message": "\u003e pradeep4@pradeep4-NUC11PAHi7:~/Documents/pradeep/repos_and_other/aom_no_changes/aom/build$ ./test_aom_rc \n\u003e [\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d] Running 36 tests from 2 test suites.\n\u003e [----------] Global test environment set-up.\n\u003e [----------] 16 tests from AV1/RcInterfaceTest\n\u003e [ RUN      ] AV1/RcInterfaceTest.OneLayer/0\n\u003e /home/pradeep4/Documents/pradeep/repos_and_other/aom_no_changes/aom/test/yuv_video_source.h:47: Failure\n\u003e Expected: (input_file_) !\u003d (nullptr), actual: NULL vs (nullptr)\n\u003e Input file open failed. Filename: niklas_640_480_30.yuv\n\u003e \n\nSee https://aomedia.googlesource.com/aom/#downloading-the-test-data.",
      "parentUuid": "785e9d3c_47e7014f",
      "revId": "c730401b9e58622034862fb0baccc29db0356eff",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1c713d57_320e958d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 32
      },
      "lineNbr": 0,
      "author": {
        "id": 5020
      },
      "writtenOn": "2024-09-11T19:33:15Z",
      "side": 1,
      "message": "\u003e could you please let me know what is exact test setup need to have.\n\nI was able to reproduce the issue with clang-16 locally. The presubmit uses clang-14, the version should be reported in the log.",
      "parentUuid": "5585e783_a2b3e875",
      "revId": "c730401b9e58622034862fb0baccc29db0356eff",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}