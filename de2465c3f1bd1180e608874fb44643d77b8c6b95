{
  "comments": [
    {
      "key": {
        "uuid": "e1bf8535_de5e421c",
        "filename": "av1/encoder/encoder.c",
        "patchSetId": 1
      },
      "lineNbr": 3750,
      "author": {
        "id": 9545
      },
      "writtenOn": "2018-10-04T17:51:36Z",
      "side": 1,
      "message": "In bug aomedia:2193, Bruno provided a test file assert2.y4m that causes the get_free_fb() call here (at line 3764) to fail. Note that we ignore that failure (and return immediately), rather than call aom_internal_error(). Is this OK?",
      "revId": "de2465c3f1bd1180e608874fb44643d77b8c6b95",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c257733c_c243987c",
        "filename": "av1/encoder/encoder.c",
        "patchSetId": 1
      },
      "lineNbr": 3750,
      "author": {
        "id": 5290
      },
      "writtenOn": "2018-10-04T18:02:35Z",
      "side": 1,
      "message": "Not sure about this myself. Thanks for adding a TODO.",
      "parentUuid": "e1bf8535_de5e421c",
      "revId": "de2465c3f1bd1180e608874fb44643d77b8c6b95",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "25f32cce_447c3819",
        "filename": "av1/encoder/encoder.h",
        "patchSetId": 1
      },
      "lineNbr": 597,
      "author": {
        "id": 9545
      },
      "writtenOn": "2018-10-04T17:51:36Z",
      "side": 1,
      "message": "This comment documents the current behavior. I find this a little confusing though.\n\nI would do one of the following:\n\n1. Reduce the scaled_ref_idx array size by one, so that there is no unused element.\n\n2. If we want the scaled_ref_idx array to have an unused element, make it the first element (corresponding to INTRA_FRAME), so that the array indexes map to the corresponding ref_frame numbers without any offset.\n\nDo you have any preference for doing #1, #2, or just documenting the current behavior?",
      "revId": "de2465c3f1bd1180e608874fb44643d77b8c6b95",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b5621093_92412c9d",
        "filename": "av1/encoder/encoder.h",
        "patchSetId": 1
      },
      "lineNbr": 597,
      "author": {
        "id": 5290
      },
      "writtenOn": "2018-10-04T18:02:35Z",
      "side": 1,
      "message": "My suggestion would be:\n- Just document current behavior for now, until all oss-fuzz issues related to the buffer pool get settled.\n- Later, you can go for either #1 or #2. #1 reduces array size (but it\u0027s only an int), while #2 may make the mapping easier to follow.",
      "parentUuid": "25f32cce_447c3819",
      "revId": "de2465c3f1bd1180e608874fb44643d77b8c6b95",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    }
  ]
}