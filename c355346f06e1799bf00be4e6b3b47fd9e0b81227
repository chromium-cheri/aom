{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "1d29034e_6967afc6",
        "filename": "av1/common/cdef_block_avx2.c",
        "patchSetId": 4
      },
      "lineNbr": 253,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-03-22T00:41:04Z",
      "side": 1,
      "message": "Hi Venkata and Yunqing,\n\nThis file causes compilation errors on Windows:\n\n[156/587] Building C object CMakeFiles\\aom_av1_common_avx2_intrinsics.dir\\av1\\common\\cdef_block_avx2.c.obj\nFAILED: CMakeFiles/aom_av1_common_avx2_intrinsics.dir/av1/common/cdef_block_avx2.c.obj\nC:\\PROGRA~2\\MICROS~1\\2019\\COMMUN~1\\VC\\Tools\\MSVC\\1429~1.301\\bin\\Hostx64\\x86\\cl.exe  /nologo  -IC:\\src\\aom.1\\aom\\third_party\\googletest\\src\\googletest\\include -IC:\\src\\aom.1\\aom\\third_party\\googletest\\src\\googletest -IC:\\src\\aom.1\\aom -I. -IC:\\src\\aom.1\\aom\\apps -IC:\\src\\aom.1\\aom\\common -IC:\\src\\aom.1\\aom\\examples -IC:\\src\\aom.1\\aom\\stats -IC:\\src\\aom.1\\aom\\third_party\\libyuv\\include -IC:\\src\\aom.1\\aom\\third_party\\libwebm /DWIN32 /D_WINDOWS /W3 /MDd /Zi /Ob0 /Od /RTC1 -D_WIN32_WINNT\u003d0x0601 -DNOMINMAX /W3 /wd4996 /arch:AVX2 /showIncludes /FoCMakeFiles\\aom_av1_common_avx2_intrinsics.dir\\av1\\common\\cdef_block_avx2.c.obj /FdCMakeFiles\\aom_av1_common_avx2_intrinsics.dir\\ /FS -c C:\\src\\aom.1\\aom\\av1\\common\\cdef_block_avx2.c\nC:\\src\\aom.1\\aom\\av1\\common\\cdef_block_avx2.c(141): error C2440: \u0027function\u0027: cannot convert from \u0027__m128i\u0027 to \u0027v128\u0027\nC:\\src\\aom.1\\aom\\av1\\common\\cdef_block_avx2.c(141): warning C4024: \u0027v128_store_unaligned\u0027: different types for formal and actual parameter 2\nC:\\src\\aom.1\\aom\\av1\\common\\cdef_block_avx2.c(142): error C2440: \u0027function\u0027: cannot convert from \u0027__m128i\u0027 to \u0027v128\u0027\nC:\\src\\aom.1\\aom\\av1\\common\\cdef_block_avx2.c(142): warning C4024: \u0027v128_store_unaligned\u0027: different types for formal and actual parameter 2\nC:\\src\\aom.1\\aom\\av1\\common\\cdef_block_avx2.c(223): error C2440: \u0027function\u0027: cannot convert from \u0027const __m128i\u0027 to \u0027v128\u0027\nC:\\src\\aom.1\\aom\\av1\\common\\cdef_block_avx2.c(223): warning C4024: \u0027v128_cmpeq_32\u0027: different types for formal and actual parameter 1\nC:\\src\\aom.1\\aom\\av1\\common\\cdef_block_avx2.c(223): error C2440: \u0027function\u0027: cannot convert from \u0027__m128i\u0027 to \u0027v128\u0027\nC:\\src\\aom.1\\aom\\av1\\common\\cdef_block_avx2.c(223): warning C4024: \u0027v128_cmpeq_32\u0027: different types for formal and actual parameter 2\nC:\\src\\aom.1\\aom\\av1\\common\\cdef_block_avx2.c(225): error C2440: \u0027function\u0027: cannot convert from \u0027const __m128i\u0027 to \u0027v128\u0027\nC:\\src\\aom.1\\aom\\av1\\common\\cdef_block_avx2.c(225): warning C4024: \u0027v128_cmpeq_32\u0027: different types for formal and actual parameter 1\nC:\\src\\aom.1\\aom\\av1\\common\\cdef_block_avx2.c(225): error C2440: \u0027function\u0027: cannot convert from \u0027__m128i\u0027 to \u0027v128\u0027\nC:\\src\\aom.1\\aom\\av1\\common\\cdef_block_avx2.c(225): warning C4024: \u0027v128_cmpeq_32\u0027: different types for formal and actual parameter 2\nC:\\src\\aom.1\\aom\\av1\\common\\cdef_block_avx2.c(227): error C2440: \u0027function\u0027: cannot convert from \u0027const __m128i\u0027 to \u0027v128\u0027\nC:\\src\\aom.1\\aom\\av1\\common\\cdef_block_avx2.c(227): warning C4024: \u0027v128_cmpeq_32\u0027: different types for formal and actual parameter 1\nC:\\src\\aom.1\\aom\\av1\\common\\cdef_block_avx2.c(227): error C2440: \u0027function\u0027: cannot convert from \u0027__m128i\u0027 to \u0027v128\u0027\nC:\\src\\aom.1\\aom\\av1\\common\\cdef_block_avx2.c(227): warning C4024: \u0027v128_cmpeq_32\u0027: different types for formal and actual parameter 2\nC:\\src\\aom.1\\aom\\av1\\common\\cdef_block_avx2.c(229): error C2440: \u0027function\u0027: cannot convert from \u0027const __m128i\u0027 to \u0027v128\u0027\nC:\\src\\aom.1\\aom\\av1\\common\\cdef_block_avx2.c(229): warning C4024: \u0027v128_cmpeq_32\u0027: different types for formal and actual parameter 1\nC:\\src\\aom.1\\aom\\av1\\common\\cdef_block_avx2.c(229): error C2440: \u0027function\u0027: cannot convert from \u0027__m128i\u0027 to \u0027v128\u0027\nC:\\src\\aom.1\\aom\\av1\\common\\cdef_block_avx2.c(229): warning C4024: \u0027v128_cmpeq_32\u0027: different types for formal and actual parameter 2\nC:\\src\\aom.1\\aom\\av1\\common\\cdef_block_avx2.c(230): error C2440: \u0027function\u0027: cannot convert from \u0027const __m128i\u0027 to \u0027v128\u0027\nC:\\src\\aom.1\\aom\\av1\\common\\cdef_block_avx2.c(230): warning C4024: \u0027v128_pack_s32_s16\u0027: different types for formal and actual parameter 1\nC:\\src\\aom.1\\aom\\av1\\common\\cdef_block_avx2.c(230): warning C4024: \u0027v128_pack_s32_s16\u0027: different types for formal and actual parameter 2\nC:\\src\\aom.1\\aom\\av1\\common\\cdef_block_avx2.c(231): error C2440: \u0027function\u0027: cannot convert from \u0027const __m128i\u0027 to \u0027v128\u0027\nC:\\src\\aom.1\\aom\\av1\\common\\cdef_block_avx2.c(231): warning C4024: \u0027v128_pack_s32_s16\u0027: different types for formal and actual parameter 1\nC:\\src\\aom.1\\aom\\av1\\common\\cdef_block_avx2.c(231): warning C4024: \u0027v128_pack_s32_s16\u0027: different types for formal and actual parameter 2\nC:\\src\\aom.1\\aom\\av1\\common\\cdef_block_avx2.c(233): error C2440: \u0027function\u0027: cannot convert from \u0027__m128i\u0027 to \u0027v128\u0027\nC:\\src\\aom.1\\aom\\av1\\common\\cdef_block_avx2.c(233): warning C4024: \u0027v128_low_u32\u0027: different types for formal and actual parameter 1\nC:\\src\\aom.1\\aom\\av1\\common\\cdef_block_avx2.c(234): error C2440: \u0027function\u0027: cannot convert from \u0027const __m128i\u0027 to \u0027v128\u0027\nC:\\src\\aom.1\\aom\\av1\\common\\cdef_block_avx2.c(234): warning C4024: \u0027v128_low_u32\u0027: different types for formal and actual parameter 1\nC:\\src\\aom.1\\aom\\av1\\common\\cdef_block_avx2.c(222): error C2440: \u0027initializing\u0027: cannot convert from \u0027v128\u0027 to \u0027const __m128i\u0027\nC:\\src\\aom.1\\aom\\av1\\common\\cdef_block_avx2.c(224): error C2440: \u0027initializing\u0027: cannot convert from \u0027v128\u0027 to \u0027const __m128i\u0027\nC:\\src\\aom.1\\aom\\av1\\common\\cdef_block_avx2.c(226): error C2440: \u0027initializing\u0027: cannot convert from \u0027v128\u0027 to \u0027const __m128i\u0027\nC:\\src\\aom.1\\aom\\av1\\common\\cdef_block_avx2.c(228): error C2440: \u0027initializing\u0027: cannot convert from \u0027v128\u0027 to \u0027const __m128i\u0027\n[165/587] Building C object CMakeFiles\\aom_av1_common_avx2_intrinsics.dir\\av1\\common\\x86\\cfl_avx2.c.obj\nninja: build stopped: subcommand failed.",
      "revId": "c355346f06e1799bf00be4e6b3b47fd9e0b81227",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ebc641ec_a8e4f6da",
        "filename": "av1/common/cdef_block_avx2.c",
        "patchSetId": 4
      },
      "lineNbr": 253,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-03-22T01:08:14Z",
      "side": 1,
      "message": "I found that I did a 32-bit build on Windows, and the compilation error is caused by the following code in \"aom_dsp/aom_simd.h\":\n\n// VS compiling for 32 bit targets does not support vector types in\n// structs as arguments, which makes the v256 type of the intrinsics\n// hard to support, so optimizations for this target are disabled.\n#elif HAVE_SSE2 \u0026\u0026 (defined(_WIN64) || !defined(_MSC_VER) || defined(__clang__))\n#include \"simd/v256_intrinsics_x86.h\"\n\n64-bit builds on Windows have no compilation errors.",
      "parentUuid": "1d29034e_6967afc6",
      "revId": "c355346f06e1799bf00be4e6b3b47fd9e0b81227",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}