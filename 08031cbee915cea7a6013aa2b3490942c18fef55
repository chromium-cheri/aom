{
  "comments": [
    {
      "key": {
        "uuid": "71fda87c_ac10e602",
        "filename": "av1/decoder/decodeframe.c",
        "patchSetId": 20
      },
      "lineNbr": 3464,
      "author": {
        "id": 5200
      },
      "writtenOn": "2018-03-01T02:12:42Z",
      "side": 1,
      "message": "I would suggest to move the sanity check on cm-\u003eframe_refs[cm-\u003eprimary_ref_frame].idx right after cm-\u003eprimary_ref_frame is read, i.e.\n\n  if (!cm-\u003eerror_resilient_mode \u0026\u0026 !frame_is_intra_only(cm)) {\n    cm-\u003eprimary_ref_frame \u003d aom_rb_read_literal(rb, PRIMARY_REF_BITS);\n    if (cm-\u003eframe_refs[cm-\u003eprimary_ref_frame].idx \u003c 0) {\n      aom_internal_error(\u0026cm-\u003eerror, AOM_CODEC_CORRUPT_FRAME,\n                         \"Reference frame containing this frame\u0027s initial \"\n                         \"frame context is unavailable.\");\n    }\n  }",
      "revId": "08031cbee915cea7a6013aa2b3490942c18fef55",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    }
  ]
}