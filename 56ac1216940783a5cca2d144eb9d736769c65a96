{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "edad7b9d_62bb4569",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 10
      },
      "lineNbr": 0,
      "author": {
        "id": 5250
      },
      "writtenOn": "2021-03-22T22:41:34Z",
      "side": 1,
      "message": "\u003e Patch Set 10:\n\u003e \n\u003e WARNING: libaom__encoder_check/default detected a potential change:\n\u003e If your commit message contains STATS_CHANGED this is just fyi. If it does not,\n\u003e this is fatal.\n\u003e \n\u003e In order to highlight changes which cause the encoder output to change,\n\u003e you must update the commit message body with\n\u003e STATS_CHANGED:\n\u003e and a description of the expected behavior of the new encode process. For\n\u003e example, if the motion search has been changed, or rate distortion weighting\n\u003e changed, or a normative change to the bitstream has added or removed flags\n\u003e or a feature.\n\u003e \n\u003e bus_2_pass differs.\n\u003e \n\u003e md5sum of ivf output:\n\u003e current:  35519512c4d8a6fdb30c5182f18f5904\n\u003e previous: 9bb19880bb7513536202314d5b45e591\n\u003e \n\u003e file sizes:\n\u003e 120420 commit\u003dcurrent-low,config\u003dbus_2_pass/file.ivf\n\u003e 120456 commit\u003dprevious-low,config\u003dbus_2_pass/file.ivf\n\u003e \n\u003e current  PSNR (Overall/Avg/Y/U/V) 43.125 43.838 42.868 46.473 47.693  480112 bps   63459 ms\n\u003e previous PSNR (Overall/Avg/Y/U/V) 43.125 43.841 42.869 46.461 47.721  480256 bps   60963 ms\n\u003e \n\u003e \n\u003e city_2_pass differs.\n\u003e \n\u003e md5sum of ivf output:\n\u003e current:  0e3f95f361774c2066d3f37bfee2feba\n\u003e previous: 8e3bc014987ba959872c3b1bb9331571\n\u003e \n\u003e file sizes:\n\u003e 121876 commit\u003dcurrent-low,config\u003dcity_2_pass/file.ivf\n\u003e 121517 commit\u003dprevious-low,config\u003dcity_2_pass/file.ivf\n\u003e \n\u003e current  PSNR (Overall/Avg/Y/U/V) 49.435 49.721 49.045 51.305 51.904  485936 bps  108079 ms\n\u003e previous PSNR (Overall/Avg/Y/U/V) 49.432 49.718 49.046 51.287 51.881  484500 bps   81484 ms\n\u003e \n\u003e \n\u003e To see the encode process look up the libaom__encoder_run which triggered this.\n\u003e It is listed in the description here:\n\u003e https://build.aomedia.org/jenkins/job/libaom__encoder_check/default/18438/\n\nI will investigate why the encoding time increases here.",
      "revId": "56ac1216940783a5cca2d144eb9d736769c65a96",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9154c22c_4ef24a78",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 10
      },
      "lineNbr": 0,
      "author": {
        "id": 5250
      },
      "writtenOn": "2021-03-23T01:41:25Z",
      "side": 1,
      "message": "I can\u0027t produce this locally.\nFor no intra mode, the speed is about the same.",
      "parentUuid": "edad7b9d_62bb4569",
      "revId": "56ac1216940783a5cca2d144eb9d736769c65a96",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3a3ea351_a6a81f13",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 10
      },
      "lineNbr": 0,
      "author": {
        "id": 9545
      },
      "writtenOn": "2021-03-23T17:06:18Z",
      "side": 1,
      "message": "Angie: I am reviewing patchset 10 now. Please wait for me (about half an hour).",
      "revId": "56ac1216940783a5cca2d144eb9d736769c65a96",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "54b43f93_31148c88",
        "filename": "av1/encoder/intra_mode_search.c",
        "patchSetId": 10
      },
      "lineNbr": 370,
      "author": {
        "id": 9545
      },
      "writtenOn": "2021-03-23T17:32:10Z",
      "side": 1,
      "message": "Nit/optional: If we use the abs() function, the else-if and else could be combined as follows:\n\n  } else {\n    *cfl_sign \u003d (cfl_linear_idx \u003e 0) ? CFL_SIGN_POS : CFL_SIGN_NEG;\n    *cfl_alpha \u003d abs(cfl_linear_idx) - 1;\n  }\n\nThis is a matter of preference, so I leave it to you.",
      "range": {
        "startLine": 364,
        "startChar": 0,
        "endLine": 370,
        "endChar": 3
      },
      "revId": "56ac1216940783a5cca2d144eb9d736769c65a96",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b59b3c6f_761db746",
        "filename": "av1/encoder/intra_mode_search.c",
        "patchSetId": 10
      },
      "lineNbr": 519,
      "author": {
        "id": 9545
      },
      "writtenOn": "2021-03-23T17:32:10Z",
      "side": 1,
      "message": "These three lines do not depend on \u0027vi\u0027, so they can be moved outside the inner for loop, between line 514 and line 515.",
      "range": {
        "startLine": 517,
        "startChar": 0,
        "endLine": 519,
        "endChar": 63
      },
      "revId": "56ac1216940783a5cca2d144eb9d736769c65a96",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b27e3f5d_052d6ec5",
        "filename": "av1/encoder/intra_mode_search_utils.h",
        "patchSetId": 10
      },
      "lineNbr": 412,
      "author": {
        "id": 9545
      },
      "writtenOn": "2021-03-23T17:32:10Z",
      "side": 1,
      "message": "The comment says \u0027eob\u0027 is for inverse transforms only:\n\n  typedef struct txfm_param {\n    ..\n    // for inverse transforms only\n    int eob;\n  } TxfmParam;\n\nIf the comment is correct, then we don\u0027t need to set \u0027eob\u0027 here (because this struct is passed to av1_fwd_txfm()). Is the comment incorrect?",
      "revId": "56ac1216940783a5cca2d144eb9d736769c65a96",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}