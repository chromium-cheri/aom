{
  "comments": [
    {
      "key": {
        "uuid": "729f16d5_4507f9ca",
        "filename": "av1/encoder/encodemb.c",
        "patchSetId": 1
      },
      "lineNbr": 388,
      "author": {
        "id": 5290
      },
      "writtenOn": "2017-05-24T17:55:53Z",
      "side": 1,
      "message": "Note for posterity:\nThis greedy version doesn\u0027t seem to work correctly (at least for a unit test). But that seems unrelated as it fails on baseline as well.\n\nCan be reproed turning on USE_GREEDY_OPTIMIZE_B, and then:\n\nmake clean; ../../configure   \u0026\u0026 make -j\n\n./test_libaom --gtest_filter\u003dAV1/CpuSpeedTest.TestLowBitrate/1\nNote: Google Test filter \u003d AV1/CpuSpeedTest.TestLowBitrate/1\n[\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d] Running 1 test from 1 test case.\n[----------] Global test environment set-up.\n[----------] 1 test from AV1/CpuSpeedTest\n[ RUN      ] AV1/CpuSpeedTest.TestLowBitrate/1\n../../test/encode_test_driver.cc:204: Failure\nFailed\nEncode/Decode mismatch found:\n  pixel value enc/dec: 45/44\n                plane: 0\n              row/col: 0/7\n\n../../test/cpu_speed_test.cc:155: Failure\nExpected: RunLoop(\u0026video) doesn\u0027t generate new fatal failures in the current thread.\n  Actual: it does.\n[  FAILED  ] AV1/CpuSpeedTest.TestLowBitrate/1, where GetParam() \u003d (0xe600f0, 2, 2) (6485 ms)\n[----------] 1 test from AV1/CpuSpeedTest (6485 ms total)\n\n[----------] Global test environment tear-down\n[\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d] 1 test from 1 test case ran. (6485 ms total)\n[  PASSED  ] 0 tests.\n[  FAILED  ] 1 test, listed below:\n[  FAILED  ] AV1/CpuSpeedTest.TestLowBitrate/1, where GetParam() \u003d (0xe600f0, 2, 2)\n\n 1 FAILED TEST",
      "revId": "3ba40431b4622670291a42158ac9ac8bb61d3c24",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1517a831_f66ed239",
        "filename": "av1/encoder/encodemb.c",
        "patchSetId": 1
      },
      "lineNbr": 388,
      "author": {
        "id": 5290
      },
      "writtenOn": "2017-05-24T18:31:06Z",
      "side": 1,
      "message": "Correction:\n- This test actually passes *without* TX64x64 on (with and without this patch), and\n- It fails *with* TX64x64 on (with and without this patch)\n\nSo something may need to be fixed?",
      "parentUuid": "729f16d5_4507f9ca",
      "revId": "3ba40431b4622670291a42158ac9ac8bb61d3c24",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "469279d1_570302e8",
        "filename": "av1/encoder/encodemb.c",
        "patchSetId": 1
      },
      "lineNbr": 388,
      "author": {
        "id": 5975
      },
      "writtenOn": "2017-05-25T09:18:02Z",
      "side": 1,
      "message": "I\u0027ve reproduced this issue with patch set 1, and patch set 2 fixes it on my end. Please can you retest with the new patch set?",
      "parentUuid": "1517a831_f66ed239",
      "revId": "3ba40431b4622670291a42158ac9ac8bb61d3c24",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d982aef2_b47962f3",
        "filename": "av1/encoder/encodemb.c",
        "patchSetId": 1
      },
      "lineNbr": 390,
      "author": {
        "id": 5290
      },
      "writtenOn": "2017-05-24T17:55:53Z",
      "side": 1,
      "message": "Should this be \"dqc_a \u003d ...\" (same below)?",
      "revId": "3ba40431b4622670291a42158ac9ac8bb61d3c24",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b9da479c_4089b21a",
        "filename": "av1/encoder/encodemb.c",
        "patchSetId": 1
      },
      "lineNbr": 390,
      "author": {
        "id": 5975
      },
      "writtenOn": "2017-05-25T09:18:02Z",
      "side": 1,
      "message": "Thanks for pointing that out - yes, we should be using dqc_a and x_a here. Fixed in patch set 2.",
      "parentUuid": "d982aef2_b47962f3",
      "revId": "3ba40431b4622670291a42158ac9ac8bb61d3c24",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bca66abb_fed0eae9",
        "filename": "av1/encoder/encodemb.c",
        "patchSetId": 1
      },
      "lineNbr": 735,
      "author": {
        "id": 5290
      },
      "writtenOn": "2017-05-24T17:55:53Z",
      "side": 1,
      "message": "FYI: This optimize_b_orig() now works correctly.",
      "revId": "3ba40431b4622670291a42158ac9ac8bb61d3c24",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    }
  ]
}