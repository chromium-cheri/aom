{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "95c49861_9ea135cb",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-10-11T20:39:37Z",
      "side": 1,
      "message": "libavm calls `aom_fast9_detect_nonmax()` as follows:\n\n```\n// Fast_9 wrapper\n#define FAST_BARRIER 18\nint av1_fast_corner_detect(unsigned char *buf, int width, int height,\n                           int stride, int *points, int max_points) {\n  int num_points;\n  xy *const frm_corners_xy \u003d aom_fast9_detect_nonmax(buf, width, height, stride,\n                                                     FAST_BARRIER, \u0026num_points);\n  num_points \u003d (num_points \u003c\u003d max_points ? num_points : max_points);\n  if (num_points \u003e 0 \u0026\u0026 frm_corners_xy) {\n    memcpy(points, frm_corners_xy, sizeof(*frm_corners_xy) * num_points);\n    free(frm_corners_xy);\n    return num_points;\n  }\n  free(frm_corners_xy);\n  return 0;\n}\n```\n\nSo `num_points` value -1 will be treated in the same way as 0.",
      "revId": "e2c60d53559d043248f2151b7ecc06b5632eca9c",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}