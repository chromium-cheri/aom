{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "6ac62856_2a4544b3",
        "filename": "aom_dsp/entenc.c",
        "patchSetId": 7
      },
      "lineNbr": 62,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-12-12T00:18:08Z",
      "side": 1,
      "message": "Could you explain why this is needed?\n\nIf we need this early return, we should do it before line 61.\n\nNote: In my testing, test_libaom passed without this change.",
      "revId": "b15b307297527b44caee19f5031761b0fd1c5220",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6d5d1d89_c761e2bb",
        "filename": "aom_dsp/entenc.c",
        "patchSetId": 7
      },
      "lineNbr": 62,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-12-12T02:15:47Z",
      "side": 1,
      "message": "I just realized that my testing did not have memory allocation failures because I only ran test_libaom. Perhaps this is needed after an out-of-memory error?",
      "parentUuid": "6ac62856_2a4544b3",
      "revId": "b15b307297527b44caee19f5031761b0fd1c5220",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a66a6979_926f7e27",
        "filename": "aom_dsp/entenc.c",
        "patchSetId": 7
      },
      "lineNbr": 62,
      "author": {
        "id": 33002
      },
      "writtenOn": "2023-12-12T13:22:00Z",
      "side": 1,
      "message": "When the allocation of `enc-\u003ebuf` fails, `enc-\u003estorage` is set to 0 (please refer `od_ec_enc_init()`). Because of this, the below condition in line number 82 becomes true which leads to the redundant reallocation of the same buffer. In order to avoid this, the status of `enc-\u003eerror` can be checked at the start of the function. As suggested, we have moved this early exit one line above.",
      "parentUuid": "6d5d1d89_c761e2bb",
      "revId": "b15b307297527b44caee19f5031761b0fd1c5220",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9dac3de2_bb4ac0b9",
        "filename": "aom_dsp/entenc.c",
        "patchSetId": 7
      },
      "lineNbr": 87,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-12-12T00:18:08Z",
      "side": 1,
      "message": "Optional: I think we should delete this line. It is not necessary.\n\nAre you trying to avoid unrelated cleanup in this CL?",
      "revId": "b15b307297527b44caee19f5031761b0fd1c5220",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5d6f7cf8_53c986cb",
        "filename": "aom_dsp/entenc.c",
        "patchSetId": 7
      },
      "lineNbr": 87,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-12-12T02:15:47Z",
      "side": 1,
      "message": "I\u0027d be happy to make this change in a separate CL if you want this CL to focus on reporting memory allocation failures.",
      "parentUuid": "9dac3de2_bb4ac0b9",
      "revId": "b15b307297527b44caee19f5031761b0fd1c5220",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c33b0150_46cff6fa",
        "filename": "aom_dsp/entenc.c",
        "patchSetId": 7
      },
      "lineNbr": 87,
      "author": {
        "id": 33002
      },
      "writtenOn": "2023-12-12T13:22:00Z",
      "side": 1,
      "message": "Done. We have taken care of this in the latest patchset.",
      "parentUuid": "5d6f7cf8_53c986cb",
      "revId": "b15b307297527b44caee19f5031761b0fd1c5220",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5cc3fbe2_12168f03",
        "filename": "av1/encoder/bitstream.c",
        "patchSetId": 7
      },
      "lineNbr": 3645,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-12-12T00:18:08Z",
      "side": 1,
      "message": "Please delete this line. (It was for debugging only.)",
      "revId": "b15b307297527b44caee19f5031761b0fd1c5220",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "37128d75_0ff2b480",
        "filename": "av1/encoder/bitstream.c",
        "patchSetId": 7
      },
      "lineNbr": 3645,
      "author": {
        "id": 33002
      },
      "writtenOn": "2023-12-12T13:22:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5cc3fbe2_12168f03",
      "revId": "b15b307297527b44caee19f5031761b0fd1c5220",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e9c04679_0180de5f",
        "filename": "av1/encoder/bitstream.c",
        "patchSetId": 7
      },
      "lineNbr": 3784,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-12-12T00:18:08Z",
      "side": 1,
      "message": "Delete this line.",
      "revId": "b15b307297527b44caee19f5031761b0fd1c5220",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "158c13ee_12b9030d",
        "filename": "av1/encoder/bitstream.c",
        "patchSetId": 7
      },
      "lineNbr": 3784,
      "author": {
        "id": 33002
      },
      "writtenOn": "2023-12-12T13:22:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e9c04679_0180de5f",
      "revId": "b15b307297527b44caee19f5031761b0fd1c5220",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}