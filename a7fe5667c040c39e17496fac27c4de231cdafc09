{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "f2da751c_481deb29",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 31012
      },
      "writtenOn": "2022-10-31T13:45:30Z",
      "side": 1,
      "message": "Hi Yunqing, \n\nThe aom_get_sse_sum_8x8_quad_avx2() function computes the sum and sse at 8x8 level for four 8x8 blocks and variance computation is done outside the function at 8x8 level. In this patch we modified the function to compute the variance along with sum and sse. Hence we renamed the function appropriately as aom_get_var_sse_sum_8x8_quad_avx2().\n\nWe also have taken care of relevant changes in the other SIMD functions and unit-test. Currently, SSE2 and NEON intrinsic use C code for variance computation and the same can be improved by using respective instructions. We will take up this work once this patch gets merged.\n\nPlease check the encoder speed-up measured (for AVX2) using instruction count as below.\n```\n               Instruction Count    \ncpu Resolution    Reduction(%)\n 7   rtc_1080p      0.590\n 7         rtc      0.456\n 7    rtc_derf      0.307\n 7  rtc_screen      0.270\n 8   rtc_1080p      0.517\n 8         rtc      0.352\n 8    rtc_derf      0.125\n 8  rtc_screen      0.282\n 9   rtc_1080p      0.401\n 9         rtc      0.362\n 9    rtc_derf      0.171\n 9  rtc_screen      0.147\n10   rtc_1080p      0.410\n10         rtc      0.298\n10    rtc_derf      0.170\n10  rtc_screen      0.153\n```\nThe instruction count reduction specified has been measured using command:\n$ perf stat -e instructions:u ./aomenc â€¦\n\nPlease review the CL.\n\nThanks \u0026 Regards,\nDiksha",
      "revId": "a7fe5667c040c39e17496fac27c4de231cdafc09",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "caf5c96a_16b15773",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 5185
      },
      "writtenOn": "2022-11-01T03:34:54Z",
      "side": 1,
      "message": "Looks good overall. Thanks.",
      "parentUuid": "f2da751c_481deb29",
      "revId": "a7fe5667c040c39e17496fac27c4de231cdafc09",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1938bbc8_bc481951",
        "filename": "aom_dsp/x86/variance_avx2.c",
        "patchSetId": 3
      },
      "lineNbr": 745,
      "author": {
        "id": 5185
      },
      "writtenOn": "2022-11-01T03:34:54Z",
      "side": 1,
      "message": "Move set_one_minusone to calc_sum_sse_for_8x32_block_avx2()?",
      "range": {
        "startLine": 745,
        "startChar": 10,
        "endLine": 745,
        "endChar": 26
      },
      "revId": "a7fe5667c040c39e17496fac27c4de231cdafc09",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ],
  "submitRequirementResults": [
    {
      "submitRequirement": {
        "name": "Code-Review",
        "description": {
          "value": "At least one maximum vote for label \u0027Code-Review\u0027 is required"
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Code-Review\u003dMAX,user\u003dnon_uploader AND -label:Code-Review\u003dMIN"
        },
        "overrideExpression": {
          "value": {
            "expressionString": "label:Bot-Commit\u003d+1 AND -label:Code-Review\u003dMIN"
          }
        },
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Code-Review=MAX,user=non_uploader AND -label:Code-Review=MIN"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["label:Code-Review=MAX,user=non_uploader"],"failingAtoms":["label:Code-Review=MIN"]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"label:Bot-Commit=+1 AND -label:Code-Review=MIN"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Bot-Commit=+1","label:Code-Review=MIN"]}
      },
      "patchSetCommitId": "a7fe5667c040c39e17496fac27c4de231cdafc09",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Review-Enforcement",
        "description": {
          "value": "Two Google employees must approve the change. Uploading the change or voting positively on Code-Review count as approval."
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "is:review-enforced_gerrit"
          }
        },
        "submittabilityExpression": {
          "expressionString": "is:review-enforcement-satisfied_gerrit"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforced_gerrit"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["is:review-enforced_gerrit"],"failingAtoms":[]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforcement-satisfied_gerrit"},"status":"NOT_EVALUATED","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":[]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforced_gerrit"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["is:review-enforcement-satisfied_gerrit"]}
      },
      "patchSetCommitId": "a7fe5667c040c39e17496fac27c4de231cdafc09",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {
        "value": true
      }
    },
    {
      "submitRequirement": {
        "name": "Verified",
        "description": {
          "value": "CI or human verified the change"
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Verified\u003dMAX AND -label:Verified\u003dMIN"
        },
        "overrideExpression": {
          "value": {
            "expressionString": "label:Bot-Commit\u003d+1"
          }
        },
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Verified=MAX AND -label:Verified=MIN"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["label:Verified=MAX"],"failingAtoms":["label:Verified=MIN"]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"label:Bot-Commit=+1"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Bot-Commit=+1"]}
      },
      "patchSetCommitId": "a7fe5667c040c39e17496fac27c4de231cdafc09",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    }
  ]
}