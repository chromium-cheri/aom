{
  "comments": [
    {
      "key": {
        "uuid": "6d2f4053_28ac5050",
        "filename": "av1/common/av1_txfm.h",
        "patchSetId": 1
      },
      "lineNbr": 128,
      "author": {
        "id": 8487
      },
      "writtenOn": "2018-03-01T08:18:33Z",
      "side": 1,
      "message": "Wouldn\u0027t it be simpler to not clamp when deriving result_64 and then compare result_64 with (int64_t)result_32?\nAlso shouldn\u0027t the range check be done after round_shift?",
      "revId": "45c7eebd95be6ec204c32d0c9ffbedef9015787f",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e0dfa1d7_a1667c72",
        "filename": "av1/common/av1_txfm.h",
        "patchSetId": 1
      },
      "lineNbr": 128,
      "author": {
        "id": 5250
      },
      "writtenOn": "2018-03-01T20:51:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6d2f4053_28ac5050",
      "revId": "45c7eebd95be6ec204c32d0c9ffbedef9015787f",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5e9b3c75_dbfff152",
        "filename": "av1/common/av1_txfm.h",
        "patchSetId": 1
      },
      "lineNbr": 128,
      "author": {
        "id": 6000
      },
      "writtenOn": "2018-03-02T08:52:24Z",
      "side": 1,
      "message": "I suggest to write instead: assert(result_64 \u003e\u003d INT32_MIN \u0026\u0026 result_64 \u003c\u003d INT32_MAX).\n\nAs it\u0027s written now, this range checking relies on C undefined behavior (we already had this discussion here: https://aomedia-review.googlesource.com/c/aom/+/27101).\n\nTo reliably check for overflows, one can never rely on the value of \u0027result_32\u0027: from the compiler point of view, \u0027result_32\u0027 *won\u0027t* overflow (because it\u0027s a signed integer).\nAnd a \"smart enough\" compiler would be legitimate to assume that \"result_64 \u003d\u003d result_32\" is always true.",
      "parentUuid": "e0dfa1d7_a1667c72",
      "revId": "45c7eebd95be6ec204c32d0c9ffbedef9015787f",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d504d8fb_f8d86cb8",
        "filename": "av1/common/av1_txfm.h",
        "patchSetId": 1
      },
      "lineNbr": 128,
      "author": {
        "id": 5250
      },
      "writtenOn": "2018-03-02T18:19:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5e9b3c75_dbfff152",
      "revId": "45c7eebd95be6ec204c32d0c9ffbedef9015787f",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    }
  ]
}