{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "cbaebbd7_d70aa88f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 13
      },
      "lineNbr": 0,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-12-04T02:58:18Z",
      "side": 1,
      "message": "Yuan: Thank you very much for tracking down and fixing the ASan errors.",
      "revId": "e09e474a593df64fd3c27cf3e2e1115c92098801",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "62fe26e5_82639225",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 13
      },
      "lineNbr": 0,
      "author": {
        "id": 26549
      },
      "writtenOn": "2022-12-06T04:07:50Z",
      "side": 1,
      "message": "Wan-Teh: Thanks for your review and update.\nI had a course report to prepare, so the late reply.",
      "revId": "e09e474a593df64fd3c27cf3e2e1115c92098801",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b3818cd1_2bcd8a64",
        "filename": "av1/common/resize.c",
        "patchSetId": 13
      },
      "lineNbr": 1234,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-12-04T02:58:18Z",
      "side": 1,
      "message": "Nit: These variables should be work_w and work_h, because they are the width and height of the actual working area.\n\nThe names \"work_w\" and \"work_h\" are not ideal because it\u0027s not clear what \"work\" means here, but I don\u0027t have a good suggestion now. I suggest adding a comment to say \"Width and height of the actual working area\".",
      "revId": "e09e474a593df64fd3c27cf3e2e1115c92098801",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d1852d6a_78b01327",
        "filename": "av1/common/resize.c",
        "patchSetId": 13
      },
      "lineNbr": 1234,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-12-05T19:20:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b3818cd1_2bcd8a64",
      "revId": "e09e474a593df64fd3c27cf3e2e1115c92098801",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "35d850bc_ac0f817b",
        "filename": "av1/common/resize.c",
        "patchSetId": 13
      },
      "lineNbr": 1235,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-12-04T02:58:18Z",
      "side": 1,
      "message": "Please add a comment to note why aom_scaled_2d_c is used in this case.\n\nDo you know if work_h also needs to be 16 for the SIMD version? Since the function name contains \"2d\", I guess it may have the same requirement for work_w and work_h, but I want to confirm that with you.",
      "revId": "e09e474a593df64fd3c27cf3e2e1115c92098801",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5cc347ab_3972a2de",
        "filename": "av1/common/resize.c",
        "patchSetId": 13
      },
      "lineNbr": 1235,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-12-05T19:20:23Z",
      "side": 1,
      "message": "\u003e Please add a comment to note why aom_scaled_2d_c is used in this case.\n\nDone. I coverted your description to a comment.\n\nNote that I still have a question about whether the SIMD versions of aom_scaled_2d can handle work_h !\u003d 16.",
      "parentUuid": "35d850bc_ac0f817b",
      "revId": "e09e474a593df64fd3c27cf3e2e1115c92098801",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "67563d69_faf9d1be",
        "filename": "av1/common/resize.c",
        "patchSetId": 13
      },
      "lineNbr": 1235,
      "author": {
        "id": 26549
      },
      "writtenOn": "2022-12-06T04:07:50Z",
      "side": 1,
      "message": "SIMD version filters in at least step 4 both horizontally and vertically. I randomly tested some images in different resolution, some are fine but some has wrong result at border. Didn\u0027t bother digging into it, as border cases are rare.",
      "parentUuid": "5cc347ab_3972a2de",
      "revId": "e09e474a593df64fd3c27cf3e2e1115c92098801",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0dc688cb_7495f733",
        "filename": "av1/common/resize.c",
        "patchSetId": 13
      },
      "lineNbr": 1235,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-12-06T21:03:16Z",
      "side": 1,
      "message": "Thanks for the reply. Since you didn\u0027t dig into it, I think the current code and comment is fine.",
      "parentUuid": "67563d69_faf9d1be",
      "revId": "e09e474a593df64fd3c27cf3e2e1115c92098801",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "befae979_48da834c",
        "filename": "av1/common/resize.h",
        "patchSetId": 13
      },
      "lineNbr": 110,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-12-04T02:58:18Z",
      "side": 1,
      "message": "Nit: scale \u003d\u003e scaling\n\nand add \"its\" before \"reciprocal\"",
      "revId": "e09e474a593df64fd3c27cf3e2e1115c92098801",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ed1f1e93_436c208c",
        "filename": "av1/common/resize.h",
        "patchSetId": 13
      },
      "lineNbr": 110,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-12-05T19:20:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "befae979_48da834c",
      "revId": "e09e474a593df64fd3c27cf3e2e1115c92098801",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b8d19241_5e8a7585",
        "filename": "av1/common/resize.h",
        "patchSetId": 13
      },
      "lineNbr": 111,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-12-04T03:41:56Z",
      "side": 1,
      "message": "It would be good to point out whether this is a specialized version of av1_resize_and_extend_frame or aom_scaled_2d.",
      "revId": "e09e474a593df64fd3c27cf3e2e1115c92098801",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4700a7eb_2ebe148e",
        "filename": "av1/common/resize.h",
        "patchSetId": 13
      },
      "lineNbr": 111,
      "author": {
        "id": 26549
      },
      "writtenOn": "2022-12-06T04:07:50Z",
      "side": 1,
      "message": "It\u0027s a specialized version of av1_resize_and_extend_frame.",
      "parentUuid": "b8d19241_5e8a7585",
      "revId": "e09e474a593df64fd3c27cf3e2e1115c92098801",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d0125bf8_f4e1cf55",
        "filename": "av1/common/resize.h",
        "patchSetId": 13
      },
      "lineNbr": 111,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-12-06T21:03:16Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4700a7eb_2ebe148e",
      "revId": "e09e474a593df64fd3c27cf3e2e1115c92098801",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4bf8e3e3_71b7aac0",
        "filename": "av1/common/resize.h",
        "patchSetId": 13
      },
      "lineNbr": 112,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-12-04T02:58:18Z",
      "side": 1,
      "message": "Nit: do \u003d\u003e does",
      "revId": "e09e474a593df64fd3c27cf3e2e1115c92098801",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "033728a9_8f8575ad",
        "filename": "av1/common/resize.h",
        "patchSetId": 13
      },
      "lineNbr": 112,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-12-05T19:20:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4bf8e3e3_71b7aac0",
      "revId": "e09e474a593df64fd3c27cf3e2e1115c92098801",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c78826be_8e1af29c",
        "filename": "av1/common/resize.h",
        "patchSetId": 13
      },
      "lineNbr": 115,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-12-04T02:58:18Z",
      "side": 1,
      "message": "Yuan: Do you think \"av1_has_optimized_scaler\" is still an appropriate name for how this function is used in the new code?",
      "revId": "e09e474a593df64fd3c27cf3e2e1115c92098801",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2a5a0bdd_e3595a22",
        "filename": "av1/common/resize.h",
        "patchSetId": 13
      },
      "lineNbr": 115,
      "author": {
        "id": 26549
      },
      "writtenOn": "2022-12-06T04:07:50Z",
      "side": 1,
      "message": "I feel \"can use\" is better describing the situation than \"has\".",
      "parentUuid": "c78826be_8e1af29c",
      "revId": "e09e474a593df64fd3c27cf3e2e1115c92098801",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "818abd28_d9f64325",
        "filename": "av1/common/resize.h",
        "patchSetId": 13
      },
      "lineNbr": 115,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-12-06T21:03:16Z",
      "side": 1,
      "message": "My previous question was not clear. The reason I asked about the name of this function is that this function and the new `av1_has_optimized_scaler_neon/ssse3` functions have different meanings even though they have essentially the same name.\n\nThis function determines whether `av1_resize_and_extend_frame` or `av1_resize_and_extend_frame_nonnormative` should be used.\n\nThe `av1_has_optimized_scaler_neon/ssse3` functions determine whether the SIMD or C version of `av1_resize_and_extend_frame` should be used.\n\nSo I am wondering whether the \"optimized_scaler\" part of this function\u0027s name is still appropriate.",
      "parentUuid": "2a5a0bdd_e3595a22",
      "revId": "e09e474a593df64fd3c27cf3e2e1115c92098801",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a244f710_d855a3b0",
        "filename": "av1/common/resize.h",
        "patchSetId": 13
      },
      "lineNbr": 115,
      "author": {
        "id": 5960
      },
      "writtenOn": "2022-12-08T00:14:19Z",
      "side": 1,
      "message": "The whole situation is a bit complicated.\n\nSo the condition here is used to determine using _nonnormative or not. By \"normative\" or \"nonnormative\", I believe it means whether it\u0027s 1/2, 1/4, 3/4 or 2x 4x something similar (i.e. not some arbitrary ratio). But then av1_resize_and_extend_frame can actually handle more than those \"normative\" ones by using SIMD version of aom_scaled_2d.\n\nav1_has_optimized_scaler_neon/ssse3 actually sounds more like it\u0027s determining whether those scale ratios are normative.\n\nSo I think the better names here is to still use av1_has_optimized_scaler here, but change av1_has_optimized_scaler_neon/ssse3 to has_normative_scaler_neon/ssse3 (by dropping the av1_ prefix as I mentioned in other comments.",
      "parentUuid": "818abd28_d9f64325",
      "revId": "e09e474a593df64fd3c27cf3e2e1115c92098801",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ddd98914_fdff2bb1",
        "filename": "av1/common/resize.h",
        "patchSetId": 13
      },
      "lineNbr": 115,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-12-08T00:53:38Z",
      "side": 1,
      "message": "Done. I have to admit I don\u0027t know what \"normative\" means regarding scalers. I\u0027ve renamed based on your suggestion, as follows:\n\n* The \"optimized scaler\" refers to `av1_resize_and_extend_frame()`.\n* The \"normative scaler\" refers to the code for the scaling ratios 1/2, 1/4, 3/4 in `av1_resize_and_extend_frame_neon()` and `av1_resize_and_extend_frame_ssse3()`\n* The \"non-normative scaler\" refers to `av1_resize_and_extend_frame_nonnormative()`.",
      "parentUuid": "a244f710_d855a3b0",
      "revId": "e09e474a593df64fd3c27cf3e2e1115c92098801",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}