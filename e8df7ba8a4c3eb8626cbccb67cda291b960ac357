{
  "comments": [
    {
      "key": {
        "uuid": "dc1ee81a_f2c359bd",
        "filename": "av1/decoder/decoder.c",
        "patchSetId": 2
      },
      "lineNbr": 299,
      "author": {
        "id": 5185
      },
      "writtenOn": "2018-06-08T17:03:18Z",
      "side": 1,
      "message": "What is the purpose of doing this way? It seems it delays the new_fb buffer ref_count reducing until the next frame is done, right? Does that mean one more buffer is held? I am modifying this part for ext-tile, and want to know what is the difference before and after the above change. Thanks.",
      "range": {
        "startLine": 297,
        "startChar": 0,
        "endLine": 299,
        "endChar": 7
      },
      "revId": "e8df7ba8a4c3eb8626cbccb67cda291b960ac357",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "259eea0b_48a87d38",
        "filename": "av1/decoder/decoder.c",
        "patchSetId": 2
      },
      "lineNbr": 299,
      "author": {
        "id": 5975
      },
      "writtenOn": "2018-06-14T10:46:35Z",
      "side": 1,
      "message": "Sorry for taking a while to reply - I was unfortunately ill for a few days.\n\nThis is a temporary change in preparation for https://aomedia-review.googlesource.com/c/aom/+/60683 - so for the ext-tile implementation you\u0027ll want to look at that commit.\n\n\nFor completeness: With this change alone, we hold onto one extra *reference* compared to before (though it\u0027s relatively rare for this to translate into using an extra buffer). This could be avoided, but commit #60683 changes things again so it\u0027s not a major concern.\n\nAs of commit #60683, we do the right thing - in the non-all-layers case, we hold at most the same number of buffers as before this commit, while in all-layers mode we hold up to 3 extra buffers (which are necessary for correct ouput). Either way, the references to the output frames are released as early as possible.",
      "parentUuid": "dc1ee81a_f2c359bd",
      "range": {
        "startLine": 297,
        "startChar": 0,
        "endLine": 299,
        "endChar": 7
      },
      "revId": "e8df7ba8a4c3eb8626cbccb67cda291b960ac357",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    }
  ]
}