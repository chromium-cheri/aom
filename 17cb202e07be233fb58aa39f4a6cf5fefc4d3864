{
  "comments": [
    {
      "key": {
        "uuid": "cfc1a752_b06358d8",
        "filename": "av1/av1_dx_iface.c",
        "patchSetId": 1
      },
      "lineNbr": 707,
      "author": {
        "id": 9545
      },
      "writtenOn": "2018-11-21T01:08:53Z",
      "side": 1,
      "message": "I reproduced the av1_get_raw_frame() code here (from av1/decoder/decoder.c):\n\nint av1_get_raw_frame(AV1Decoder *pbi, size_t index, YV12_BUFFER_CONFIG **sd,\n                      aom_film_grain_t **grain_params) {\n  RefCntBuffer *const frame_bufs \u003d pbi-\u003ecommon.buffer_pool-\u003eframe_bufs;\n\n  if (index \u003e\u003d pbi-\u003enum_output_frames) return -1;\n  *sd \u003d pbi-\u003eoutput_frames[index];\n  *grain_params \u003d \u0026frame_bufs[pbi-\u003eoutput_frame_index[index]].film_grain_params;\n  aom_clear_system_state();\n  return 0;\n}\n\nNote that the index to the frame_bufs[] array is pbi-\u003eoutput_frame_index[index]. This is what we will use at line 711 below.",
      "revId": "17cb202e07be233fb58aa39f4a6cf5fefc4d3864",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    }
  ]
}