{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "f403bb33_2689b89e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 21727
      },
      "writtenOn": "2021-11-24T05:49:38Z",
      "side": 1,
      "message": "Hi Yunqing,\nWe have fine tuned the \u0027max_intra_bsize\u0027 speed feature based on frame zero mv count and block source variance for RTC encoding in this CL. We also introduced a speed feature ‘prune_intra_mode_based_on_zeromv’ to control additional logic to prune intra modes in speed 5 and 6 for RTC encoding.\n\nWe observed that the available \u0027avg_frame_low_motion\u0027 is not sufficient to estimate the motion in the past frames. So, we have introduced the concept of motion zones, i.e., dividing the frame into multiple zones and computing the average zero mv count separately for each zone. We have decided the size of the motion zone empirically(2x2). This zone wise \u0027avg_frame_low_motion_zones\u0027 is utilized in gating the intra block size evaluation in inter frames.\n\nPlease check the resolution-wise speed and quality results as mentioned below.\n                     Instruction Count     BD-Rate Loss(%)\ncpu-used  Resolution   Reduction(%)     avg.psnr  ovr.psnr   ssim   \n   5         rtc          1.445          0.0187   -0.0141    0.0103\n   5       rtc_derf       1.126          0.0903    0.0726    0.1482\n   5       Average        1.289          0.0485    0.0220    0.0678\n   6         rtc          1.012          0.1088    0.0831    0.1259\n   6       rtc_derf       0.814         -0.0448   -0.0322    0.0009\n   6       Average        0.912          0.0448    0.0350    0.0738\n    \nIn the commit message: \n[-] sign indicates encode time increase\n[+] sign indicates encode time reduction\n\nThe instruction count reduction specified has been measured using command: \n$ perf stat -e instructions:u ./aomenc …\n\nPlease review the patch.\nThank you.",
      "revId": "d858c48d59673e3dfe1d830f3813c08feeda6faa",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8d15b615_f6e7c80c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 5185
      },
      "writtenOn": "2021-11-24T19:29:54Z",
      "side": 1,
      "message": "It is good to consider sub-frame characteristics. Could we handle it differently instead of dividing the frame into 4 pieces (right?)? E.g. Consider foreground/background? The segmentation is already used in real-time. Would that be any useful?",
      "parentUuid": "f403bb33_2689b89e",
      "revId": "d858c48d59673e3dfe1d830f3813c08feeda6faa",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "92e0193b_4e417b49",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 21727
      },
      "writtenOn": "2021-11-25T16:25:57Z",
      "side": 1,
      "message": "Hi Yunqing,\nWe are investigating further considering your suggestions.",
      "parentUuid": "8d15b615_f6e7c80c",
      "revId": "d858c48d59673e3dfe1d830f3813c08feeda6faa",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}