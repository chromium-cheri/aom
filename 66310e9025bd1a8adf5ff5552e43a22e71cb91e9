{
  "comments": [
    {
      "key": {
        "uuid": "d6a2f33d_a9f0f9b9",
        "filename": "av1/decoder/obu.c",
        "patchSetId": 5
      },
      "lineNbr": 651,
      "author": {
        "id": 9545
      },
      "writtenOn": "2019-05-23T18:26:26Z",
      "side": 1,
      "message": "I wrote the loop this way to avoid casting \u0027sz\u0027 (which is size_t) to a signed int.\n\nI originally wrote the following code:\n\n  if (sz \u003d\u003d 0) return 0;\n  for (size_t i \u003d sz - 1; i \u003e\u003d 0; --i) {\n    if (data[i] !\u003d 0) return data[i];\n  }\n  return 0;\n\nThis code has a bug, because the condition i \u003e\u003d 0 is always true. A fix is to declare \u0027i\u0027 as a signed int, but that requires casting \u0027sz\u0027 to an int and I am worried that the compiler may warn about truncating a size_t to int.",
      "revId": "66310e9025bd1a8adf5ff5552e43a22e71cb91e9",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    }
  ]
}