{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "bec96981_bf2f03f6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 24958
      },
      "writtenOn": "2021-11-19T21:20:35Z",
      "side": 1,
      "message": "Hi Yunqing,\n\nThis patch disables FPMT when unsupported configurations are set through control\ncalls and re-computes the maximum number of parallel contexts if supported configuration changes. The re-compute of the maximum number of parallel frame contexts happens at the beginning of each sub-gop.\n\nThis is a bit-exact change for borg recipe (with FPMT enabled) with no speed impact.\n\nPlease review.\n",
      "revId": "e2df9263cc15605e27f78f8b9859c03174ce3292",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "71f74595_09bfbc14",
        "filename": "av1/encoder/ethread.c",
        "patchSetId": 1
      },
      "lineNbr": 873,
      "author": {
        "id": 5185
      },
      "writtenOn": "2021-11-19T22:34:44Z",
      "side": 1,
      "message": "Not sure I understand the purpose of this function? Looks like is_fpmt_config() is only called during encoder initialization. If we know fpmt is disabled, should everything work accordingly from the beginning? Why do we need to reset these values here?",
      "range": {
        "startLine": 873,
        "startChar": 4,
        "endLine": 873,
        "endChar": 25
      },
      "revId": "e2df9263cc15605e27f78f8b9859c03174ce3292",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8bb301be_20eccbe0",
        "filename": "av1/encoder/ethread.c",
        "patchSetId": 1
      },
      "lineNbr": 873,
      "author": {
        "id": 24958
      },
      "writtenOn": "2021-11-22T06:20:44Z",
      "side": 1,
      "message": "Hi Yunqing,\n\nIf FPMT is enabled at the time of initialization and the configuration later changes to one where FPMT is not supported, this function ensures that FPMT is turned off in such cases. Also, if the supported configuration changes so that the no. of parallel frames are to be recomputed, this function will modify num_fp_contexts accordingly. This function does not have an impact when FPMT is disabled from the beginning of encode.\n\nThanks.",
      "parentUuid": "71f74595_09bfbc14",
      "range": {
        "startLine": 873,
        "startChar": 4,
        "endLine": 873,
        "endChar": 25
      },
      "revId": "e2df9263cc15605e27f78f8b9859c03174ce3292",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6221584c_b056f11c",
        "filename": "av1/encoder/ethread.c",
        "patchSetId": 1
      },
      "lineNbr": 873,
      "author": {
        "id": 5185
      },
      "writtenOn": "2021-11-24T04:44:01Z",
      "side": 1,
      "message": "Thanks for the explanation.",
      "parentUuid": "8bb301be_20eccbe0",
      "range": {
        "startLine": 873,
        "startChar": 4,
        "endLine": 873,
        "endChar": 25
      },
      "revId": "e2df9263cc15605e27f78f8b9859c03174ce3292",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}