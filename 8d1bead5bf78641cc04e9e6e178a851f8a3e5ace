{
  "comments": [
    {
      "key": {
        "uuid": "b56b9268_e0260bff",
        "filename": "av1/decoder/decoder.c",
        "patchSetId": 1
      },
      "lineNbr": 44,
      "author": {
        "id": 5215
      },
      "writtenOn": "2018-07-10T18:29:47Z",
      "side": 1,
      "message": "Agreed on the near uselessness of init_done.\n\nThe RTCD setup functions protect themselves from multiple calls internally via aom_once(). These two functions do not, and the calls should probably be wrapped.",
      "range": {
        "startLine": 43,
        "startChar": 0,
        "endLine": 44,
        "endChar": 25
      },
      "revId": "8d1bead5bf78641cc04e9e6e178a851f8a3e5ace",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "580ed775_151712ec",
        "filename": "av1/decoder/decoder.c",
        "patchSetId": 1
      },
      "lineNbr": 96,
      "author": {
        "id": 9545
      },
      "writtenOn": "2018-06-29T17:28:03Z",
      "side": 1,
      "message": "initialize_dec() is only called here, via once().",
      "range": {
        "startLine": 96,
        "startChar": 2,
        "endLine": 96,
        "endChar": 23
      },
      "revId": "8d1bead5bf78641cc04e9e6e178a851f8a3e5ace",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f306d233_7e754be5",
        "filename": "av1/encoder/encoder.c",
        "patchSetId": 1
      },
      "lineNbr": 416,
      "author": {
        "id": 5215
      },
      "writtenOn": "2018-07-10T18:29:47Z",
      "side": 1,
      "message": "Ditto on the RTCD functions here, and the functions after not protecting themselves.",
      "range": {
        "startLine": 413,
        "startChar": 0,
        "endLine": 416,
        "endChar": 25
      },
      "revId": "8d1bead5bf78641cc04e9e6e178a851f8a3e5ace",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "47fe9c48_f41e9ea9",
        "filename": "av1/encoder/encoder.h",
        "patchSetId": 1
      },
      "lineNbr": 694,
      "author": {
        "id": 9545
      },
      "writtenOn": "2018-06-29T17:28:03Z",
      "side": 1,
      "message": "av1_initialize_enc() is only called by the encoder_init() function in av1/av1_cx_iface.c, via once():\n\n    once(av1_initialize_enc);",
      "range": {
        "startLine": 694,
        "startChar": 5,
        "endLine": 694,
        "endChar": 23
      },
      "revId": "8d1bead5bf78641cc04e9e6e178a851f8a3e5ace",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6290e6e0_342b19e6",
        "filename": "av1/encoder/encoder.h",
        "patchSetId": 1
      },
      "lineNbr": 694,
      "author": {
        "id": 5005
      },
      "writtenOn": "2018-07-03T16:06:20Z",
      "side": 1,
      "message": "What happens if an application substantiates more than one encoder or decoder instances?",
      "parentUuid": "47fe9c48_f41e9ea9",
      "range": {
        "startLine": 694,
        "startChar": 5,
        "endLine": 694,
        "endChar": 23
      },
      "revId": "8d1bead5bf78641cc04e9e6e178a851f8a3e5ace",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2ee2f7a0_2fec5aac",
        "filename": "av1/encoder/encoder.h",
        "patchSetId": 1
      },
      "lineNbr": 694,
      "author": {
        "id": 9545
      },
      "writtenOn": "2018-07-03T16:36:12Z",
      "side": 1,
      "message": "An application needs to make sure av1_initialize_enc() is called only once. If an application calls av1_initialize_enc() directly, it will need to call av1_initialize_enc() via aom_once(). But more likely, an application calls aom_codec_enc_init(), in which case av1_initialize_enc() is called via aom_once() under the hood.\n\nNote that the init_done local variable that this CL removes is not thread-safe, so it can only do one-time initialization in single-threaded mode.",
      "parentUuid": "6290e6e0_342b19e6",
      "range": {
        "startLine": 694,
        "startChar": 5,
        "endLine": 694,
        "endChar": 23
      },
      "revId": "8d1bead5bf78641cc04e9e6e178a851f8a3e5ace",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    }
  ]
}