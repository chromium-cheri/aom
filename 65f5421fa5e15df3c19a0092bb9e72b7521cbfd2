{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "6ba496be_d1b7a267",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 13
      },
      "lineNbr": 0,
      "author": {
        "id": 29295
      },
      "writtenOn": "2023-09-13T07:13:00Z",
      "side": 1,
      "message": "Thanks for the questions!",
      "revId": "65f5421fa5e15df3c19a0092bb9e72b7521cbfd2",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1b96c530_57f48fc8",
        "filename": "aom_dsp/entenc.h",
        "patchSetId": 13
      },
      "lineNbr": 87,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-09-12T23:59:51Z",
      "side": 1,
      "message": "Neeraj and Chi Yo,\n\nhttps://crbug.com/aomedia/3487 brought me to this CL. I have two questions.\n\nCan we prove `offs \u003e\u003d 0` must be true if `carry` is nonzero here?",
      "revId": "65f5421fa5e15df3c19a0092bb9e72b7521cbfd2",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c8b7350a_e3068141",
        "filename": "aom_dsp/entenc.h",
        "patchSetId": 13
      },
      "lineNbr": 87,
      "author": {
        "id": 29295
      },
      "writtenOn": "2023-09-13T07:13:00Z",
      "side": 1,
      "message": "Since the assert() in line 100 holds, there will never be `offs \u003c 0` at this point with a nonzero `carry`. In other words, `carry` would have been consumed at most with the coded-byte at `offs \u003d 0`, as we propagate it backwards.",
      "parentUuid": "1b96c530_57f48fc8",
      "revId": "65f5421fa5e15df3c19a0092bb9e72b7521cbfd2",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f0276554_8fa5774b",
        "filename": "aom_dsp/entenc.h",
        "patchSetId": 13
      },
      "lineNbr": 100,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-09-12T23:59:51Z",
      "side": 1,
      "message": "Can we prove this must be true if `carry` is nonzero?",
      "revId": "65f5421fa5e15df3c19a0092bb9e72b7521cbfd2",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9555d2bb_9b704c3c",
        "filename": "aom_dsp/entenc.h",
        "patchSetId": 13
      },
      "lineNbr": 100,
      "author": {
        "id": 29295
      },
      "writtenOn": "2023-09-13T07:13:00Z",
      "side": 1,
      "message": "We can prove this by contradiction. Assume a nonzero `carry` and `offs \u003c\u003d 0`. Now, `offs` cannot be less than 0, since it is the index of a range-coded byte. So, the assumption now is that there exists a nonzero `carry` for `offs \u003d 0` i.e. for the first coded byte. However, this violates the core range coding principle (as detailed in `\\cite{Mar79}`) since we are asked to signal an event that has probability \u003e 1. Therefore, `offs \u003e 0` must be true if `carry` is nonzero. \n\nThis logic is discussed earlier by Chi Yo in here: https://aomedia-review.googlesource.com/c/aom/+/167581/comment/863b121c_f4f85f75/",
      "parentUuid": "f0276554_8fa5774b",
      "revId": "65f5421fa5e15df3c19a0092bb9e72b7521cbfd2",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}