{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "b8a54b2c_087ae99a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 13
      },
      "lineNbr": 0,
      "author": {
        "id": 33496
      },
      "writtenOn": "2024-05-23T10:47:57Z",
      "side": 1,
      "message": "Removed BUILD_SHARED_LIBS for aom_static lib. Hoping that this will solve. Please review and let me know if this needs any improvement. Thanks",
      "revId": "282be958e227d4f487f74227db105cc73506c07a",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "66dd3724_93395384",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 13
      },
      "lineNbr": 0,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-05-23T19:02:41Z",
      "side": 1,
      "message": "This change may be incorrect. It should be attempted carefully and Windows build needs to be considered.\n\nI wonder if it would be simpler if you could tell us what you need to do and let us make the change that meets your requirements.",
      "parentUuid": "b8a54b2c_087ae99a",
      "revId": "282be958e227d4f487f74227db105cc73506c07a",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "538cdbda_bb42ae8e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 13
      },
      "lineNbr": 0,
      "author": {
        "id": 33496
      },
      "writtenOn": "2024-05-27T15:55:03Z",
      "side": 1,
      "message": "Hi, need to build aom_av1_rc lib in a shared fashion. libaom_av1_rc.so. Please let me know what changes are required. or what kind of tests needs to be done. At my system it builds. I used ubuntu.\nWill also build in Windows. And update here.",
      "parentUuid": "66dd3724_93395384",
      "revId": "282be958e227d4f487f74227db105cc73506c07a",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8a58e044_d802df0f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 13
      },
      "lineNbr": 0,
      "author": {
        "id": 33496
      },
      "writtenOn": "2024-05-27T15:56:13Z",
      "side": 1,
      "message": "I will rectify it, please let me know what tests needs to be done.",
      "parentUuid": "538cdbda_bb42ae8e",
      "revId": "282be958e227d4f487f74227db105cc73506c07a",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "77caf26b_ff9b96c7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 13
      },
      "lineNbr": 0,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-05-29T18:05:51Z",
      "side": 1,
      "message": "Hi Pradeep,\n\nThank you for telling us what you need to do. Since the aom_av1_rc library uses libaom\u0027s internal functions, which are not exported from the libaom shared library, we will need to link the aom_av1_rc library with the libaom static library, whether BUILD_SHARED_LIBS is ON (1) or OFF (0).\n\nIf BUILD_SHARED_LIBS is ON, the \"aom\" library is a shared library, and we build an additional library \"aom_static\" that is a static library.\n\nIf BUILD_SHARED_LIBS is OFF, the \"aom\" library is a static library.\n\nSo the aom_av1_rc library needs to be linked with either the \"aom_static\" library or the \"aom\" library depending on whether BUILD_SHARED_LIBS is ON or OFF.\n\nThe next thing is to modify test/test.cmake so that test_av1_rc is built when BUILD_SHARED_LIBS is ON.\n\nI wrote a CL that does all the above at https://aomedia-review.googlesource.com/c/aom/+/190623. It works on Linux and macOS. But it needs more work on Windows -- we need to export the function symbols from aom_av1_rc.dll. Apparently functions symbols are exported by default in Linux and macOS and are hidden (not exported) by default in Windows. I found a solution by Web search; I will test it on my Windows laptop when I get home tonight.\n\nPlease feel free to incorporate my CL into your CL.",
      "parentUuid": "8a58e044_d802df0f",
      "revId": "282be958e227d4f487f74227db105cc73506c07a",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}