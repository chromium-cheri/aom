{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "34285b21_4aa31e8c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 31817
      },
      "writtenOn": "2023-04-21T08:49:38Z",
      "side": 1,
      "message": "Hi! I spotted this review going past, I hope you don\u0027t mind the drive-by comments, thanks!",
      "revId": "3cb146314fbbbe1d06b6bd6d0a519fcd7b0d692e",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b596fd12_7ec14fb0",
        "filename": "av1/encoder/arm/neon/av1_k_means_neon.c",
        "patchSetId": 3
      },
      "lineNbr": 49,
      "author": {
        "id": 31817
      },
      "writtenOn": "2023-04-21T08:49:38Z",
      "side": 1,
      "message": "hi! i think you can replace this snippet with something like:\n\n    vbslq_u16(cmp, ind1, ind);\n\nThankfully most compilers will already do this transformation, but not all: https://godbolt.org/z/obqhfEK8h",
      "range": {
        "startLine": 49,
        "startChar": 6,
        "endLine": 49,
        "endChar": 76
      },
      "revId": "3cb146314fbbbe1d06b6bd6d0a519fcd7b0d692e",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fee06c4d_80b53583",
        "filename": "av1/encoder/arm/neon/av1_k_means_neon.c",
        "patchSetId": 3
      },
      "lineNbr": 65,
      "author": {
        "id": 31817
      },
      "writtenOn": "2023-04-21T08:49:38Z",
      "side": 1,
      "message": "i think you can do this in one instruction with vpadalq_s32, see https://developer.arm.com/architectures/instruction-sets/intrinsics/vpadalq_s32",
      "range": {
        "startLine": 63,
        "startChar": 6,
        "endLine": 65,
        "endChar": 36
      },
      "revId": "3cb146314fbbbe1d06b6bd6d0a519fcd7b0d692e",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f301813e_71d82f57",
        "filename": "av1/encoder/arm/neon/av1_k_means_neon.c",
        "patchSetId": 3
      },
      "lineNbr": 73,
      "author": {
        "id": 31817
      },
      "writtenOn": "2023-04-21T08:49:38Z",
      "side": 1,
      "message": "this should just be something like:\n\n    *total_dist \u003d vaddvq_s64(sum);\n    \nSince the reduction already returns a scalar.\nYou could also consider hiding the ifdef in aom_dsp/arm/sum_neon.h, since I see that horizontal_add_u64x2 already exists (just add a s64 version?)",
      "range": {
        "startLine": 73,
        "startChar": 4,
        "endLine": 73,
        "endChar": 24
      },
      "revId": "3cb146314fbbbe1d06b6bd6d0a519fcd7b0d692e",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d8d53344_48432ae7",
        "filename": "av1/encoder/arm/neon/av1_k_means_neon.c",
        "patchSetId": 3
      },
      "lineNbr": 109,
      "author": {
        "id": 31817
      },
      "writtenOn": "2023-04-21T08:49:38Z",
      "side": 1,
      "message": "this can use vbslq_u32? see the comment on line 49",
      "range": {
        "startLine": 108,
        "startChar": 9,
        "endLine": 109,
        "endChar": 79
      },
      "revId": "3cb146314fbbbe1d06b6bd6d0a519fcd7b0d692e",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "104fc94f_683dc020",
        "filename": "av1/encoder/arm/neon/av1_k_means_neon.c",
        "patchSetId": 3
      },
      "lineNbr": 115,
      "author": {
        "id": 31817
      },
      "writtenOn": "2023-04-21T08:49:38Z",
      "side": 1,
      "message": "i think you can do this in one instruction with vpadalq_s32, see https://developer.arm.com/architectures/instruction-sets/intrinsics/vpadalq_s32",
      "range": {
        "startLine": 113,
        "startChar": 9,
        "endLine": 115,
        "endChar": 38
      },
      "revId": "3cb146314fbbbe1d06b6bd6d0a519fcd7b0d692e",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "29045bdf_f62e0d0d",
        "filename": "av1/encoder/arm/neon/av1_k_means_neon.c",
        "patchSetId": 3
      },
      "lineNbr": 125,
      "author": {
        "id": 31817
      },
      "writtenOn": "2023-04-21T08:49:38Z",
      "side": 1,
      "message": "vget_high_s64 in this context is not free on aarch64, so it would be better to use a horizontal_add_s64x2 or whatever you end up doing for the comment on line 73",
      "range": {
        "startLine": 125,
        "startChar": 53,
        "endLine": 125,
        "endChar": 66
      },
      "revId": "3cb146314fbbbe1d06b6bd6d0a519fcd7b0d692e",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}