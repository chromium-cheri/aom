{
  "comments": [
    {
      "key": {
        "uuid": "7e422700_cfe45a64",
        "filename": "av1/encoder/rdopt.c",
        "patchSetId": 4
      },
      "lineNbr": 3296,
      "author": {
        "id": 5035
      },
      "writtenOn": "2019-03-21T17:13:51Z",
      "side": 1,
      "message": "I am afraid sse_diff is not what we wanted.\nBecause \u0027block_sse\u0027 is a distortion value that comes from pixel_diff_dist(), while \u0027this_rd_stats.sse\u0027 is a variance (not normalized) or energy of input source. I believe, we did not mean to derive any new info from those two different kinds.\nTo verify this, simply putting \"assert(sse_diff \u003e\u003d 0);\" right after this line and it will hit.\nHence, the below condition \"(sse_diff * 2) \u003c this_rd_stats.sse\" is undefined and will cause unpredictable behaviors.\n\nI\u0027ve been thinking that the name \u0027sse\u0027 always mislead us to think that it is any kind of distortion, but it is being used for two cases, 1) prediction error 2) energy or non-normalized variance of input source.",
      "range": {
        "startLine": 3296,
        "startChar": 8,
        "endLine": 3296,
        "endChar": 48
      },
      "revId": "39edc6a5c1555a4683693ad91cf00f7c1da55359",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f2de1430_9c997209",
        "filename": "av1/encoder/rdopt.c",
        "patchSetId": 4
      },
      "lineNbr": 3296,
      "author": {
        "id": 5035
      },
      "writtenOn": "2019-03-21T17:37:48Z",
      "side": 1,
      "message": "Otherwise, the author probably meant to use this_rd_stats.dist, i.e. sse_diff \u003d block_sse - this_rd_stats.dist; , to obtain the difference between tx and pixel domain distortions.",
      "revId": "39edc6a5c1555a4683693ad91cf00f7c1da55359",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "13e4a7d8_9d4e25c6",
        "filename": "av1/encoder/rdopt.c",
        "patchSetId": 4
      },
      "lineNbr": 3299,
      "author": {
        "id": 5035
      },
      "writtenOn": "2019-03-21T17:37:48Z",
      "side": 1,
      "message": "Also, I think abs() should be used over (sse_diff * 2), i.e. abs(sse_diff * 2) since sse_diff can be negative.",
      "revId": "39edc6a5c1555a4683693ad91cf00f7c1da55359",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0045a953_16c73865",
        "filename": "av1/encoder/rdopt.c",
        "patchSetId": 4
      },
      "lineNbr": 3300,
      "author": {
        "id": 5020
      },
      "writtenOn": "2019-03-21T17:34:16Z",
      "side": 1,
      "message": "this can be const",
      "revId": "39edc6a5c1555a4683693ad91cf00f7c1da55359",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2b52372c_fc0a5a1e",
        "filename": "av1/encoder/rdopt.c",
        "patchSetId": 4
      },
      "lineNbr": 3300,
      "author": {
        "id": 5005
      },
      "writtenOn": "2019-03-21T18:59:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "0045a953_16c73865",
      "revId": "39edc6a5c1555a4683693ad91cf00f7c1da55359",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "45a40515_8fd9ffdd",
        "filename": "av1/encoder/rdopt.c",
        "patchSetId": 4
      },
      "lineNbr": 3303,
      "author": {
        "id": 5020
      },
      "writtenOn": "2019-03-21T17:34:16Z",
      "side": 1,
      "message": "distortion",
      "range": {
        "startLine": 3303,
        "startChar": 66,
        "endLine": 3303,
        "endChar": 75
      },
      "revId": "39edc6a5c1555a4683693ad91cf00f7c1da55359",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "60ce3a6b_de2798c2",
        "filename": "av1/encoder/rdopt.c",
        "patchSetId": 4
      },
      "lineNbr": 3303,
      "author": {
        "id": 5005
      },
      "writtenOn": "2019-03-21T18:59:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "45a40515_8fd9ffdd",
      "range": {
        "startLine": 3303,
        "startChar": 66,
        "endLine": 3303,
        "endChar": 75
      },
      "revId": "39edc6a5c1555a4683693ad91cf00f7c1da55359",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "922e4220_7a299dea",
        "filename": "av1/encoder/rdopt.c",
        "patchSetId": 4
      },
      "lineNbr": 3304,
      "author": {
        "id": 5020
      },
      "writtenOn": "2019-03-21T17:34:16Z",
      "side": 1,
      "message": "clamping",
      "range": {
        "startLine": 3304,
        "startChar": 42,
        "endLine": 3304,
        "endChar": 51
      },
      "revId": "39edc6a5c1555a4683693ad91cf00f7c1da55359",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a0d879f2_d8e2eb00",
        "filename": "av1/encoder/rdopt.c",
        "patchSetId": 4
      },
      "lineNbr": 3304,
      "author": {
        "id": 5005
      },
      "writtenOn": "2019-03-21T18:59:13Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "922e4220_7a299dea",
      "range": {
        "startLine": 3304,
        "startChar": 42,
        "endLine": 3304,
        "endChar": 51
      },
      "revId": "39edc6a5c1555a4683693ad91cf00f7c1da55359",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    }
  ]
}