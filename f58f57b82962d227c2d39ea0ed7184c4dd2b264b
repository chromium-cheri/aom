{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "50281fde_be5ed6ae",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 5960
      },
      "writtenOn": "2022-03-10T21:29:00Z",
      "side": 1,
      "message": "I wonder if we should put everything under a new folder av1/ratectrl something like that...",
      "revId": "f58f57b82962d227c2d39ea0ed7184c4dd2b264b",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "548c1fcf_fcc2d95e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 10298
      },
      "writtenOn": "2022-03-10T22:04:56Z",
      "side": 1,
      "message": "Nice!",
      "revId": "f58f57b82962d227c2d39ea0ed7184c4dd2b264b",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5cba61b4_93283519",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 5960
      },
      "writtenOn": "2022-03-10T22:09:42Z",
      "side": 1,
      "message": "Adding James since Wan-Teh and Angie are both out today...",
      "revId": "f58f57b82962d227c2d39ea0ed7184c4dd2b264b",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b5d309bd_f885770a",
        "filename": "av1/reference_manager.cc",
        "patchSetId": 3
      },
      "lineNbr": 16,
      "author": {
        "id": 10298
      },
      "writtenOn": "2022-03-10T22:04:56Z",
      "side": 1,
      "message": "This should also clear all the queues and stacks. \n\nWhich leads me to think: there should be a unit test in ratectrl_qmode_test.cc which adds a second key frame (i.e., after another gop) and verifies the correct behavior (no references to frames before the key frame).",
      "range": {
        "startLine": 16,
        "startChar": 22,
        "endLine": 16,
        "endChar": 27
      },
      "revId": "f58f57b82962d227c2d39ea0ed7184c4dd2b264b",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ad1c1a3d_76313910",
        "filename": "av1/reference_manager.cc",
        "patchSetId": 3
      },
      "lineNbr": 23,
      "author": {
        "id": 10298
      },
      "writtenOn": "2022-03-10T22:04:56Z",
      "side": 1,
      "message": "I\u0027d find it clearer if this were called AllocateRefIdx, and returned free_ref_idx_list_.front(), rather than making it the caller\u0027s responsibility",
      "range": {
        "startLine": 23,
        "startChar": 22,
        "endLine": 23,
        "endChar": 32
      },
      "revId": "f58f57b82962d227c2d39ea0ed7184c4dd2b264b",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f7a3becd_48223a81",
        "filename": "av1/reference_manager.cc",
        "patchSetId": 3
      },
      "lineNbr": 40,
      "author": {
        "id": 10298
      },
      "writtenOn": "2022-03-10T22:04:56Z",
      "side": 1,
      "message": "You could reduce the nesting and make this easier to read by doing this instead:\n\n  if (!forward_stack_.empty()) {\n    return;\n  }\n\ngo/tott/455",
      "range": {
        "startLine": 40,
        "startChar": 0,
        "endLine": 40,
        "endChar": 32
      },
      "revId": "f58f57b82962d227c2d39ea0ed7184c4dd2b264b",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "027be085_96a3d22b",
        "filename": "av1/reference_manager.cc",
        "patchSetId": 3
      },
      "lineNbr": 83,
      "author": {
        "id": 10298
      },
      "writtenOn": "2022-03-10T22:04:56Z",
      "side": 1,
      "message": "(optional) This could be done with switch instead of if/else.\n\nOTOH, if you don\u0027t want to use switch, the last conditional is unnecessary, because all the other values have been ruled out. But you could add a comment in that case:\n\n  } else {  // RefUpdateType::kLast",
      "range": {
        "startLine": 79,
        "startChar": 0,
        "endLine": 83,
        "endChar": 57
      },
      "revId": "f58f57b82962d227c2d39ea0ed7184c4dd2b264b",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}