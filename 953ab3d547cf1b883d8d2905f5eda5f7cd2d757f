{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "3739f92c_cd3ed6c9",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 22433
      },
      "writtenOn": "2020-12-03T17:39:37Z",
      "side": 1,
      "message": "Hi Wan-Teh,\n\nIn this patch, we have added AVX2 variant for 5x5 convolve (for layer 0) in av1_cnn_convolve() function for the case of valid padding with no maxpool.\n\nWe have abstracted the code (related to each switch case in av1_cnn_convolve()) which is common to both C and intrinsic into separate functions.\n\nIntroduced unit test for av1_cnn_convolve() and at present it takes layer related parameters from \"av1_intra_mode_cnn_partition_cnn_config\" ( which is used in the encoder) for bit-match / speed tests. The output of C and intrinsic is matched using relative error percentage (0.1% just like av1_nn_predict() module). \n\nFor libaom AV1 encode, bit match is verified (w.r.t parent commit) for few videos for speed presets 0 to 6. Even though STATS_CHANGED at minimal is expected, we found that streams are bit-matching during our tests.\n\nIt was verified that output of AVIF encode is bit-exact with parent version for a typical image dataset. For speed 3 very minimal gains were seen and for speed 6 following are the gains observed.\n\n              Encode time reduction (%)      BD-Rate Loss (%)\nCpu-used     QP\u003d{18,33,48,63}     QP\u003d18      avg.psnr\tssim \n   6              1.73            0.65       0.00       0.00\n\nThe Encode time reduction specified has been measured using command:\n$ /usr/bin/time -v ./avifenc â€¦\n\nPlease review.\n\nThanks \u0026 Regards,\nAniket.\n \n",
      "revId": "953ab3d547cf1b883d8d2905f5eda5f7cd2d757f",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}