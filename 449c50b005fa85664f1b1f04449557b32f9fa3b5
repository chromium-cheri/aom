{
  "comments": [
    {
      "key": {
        "uuid": "06b823a3_d4220e28",
        "filename": "aom_util/aom_thread.c",
        "patchSetId": 2
      },
      "lineNbr": 19,
      "author": {
        "id": 9545
      },
      "writtenOn": "2018-09-20T17:24:09Z",
      "side": 1,
      "message": "Without this, I get a compiler warning:\n\n/usr/local/google/home/wtc/tmp/oss-fuzz-10555/aom/aom_util/aom_thread.c:48:15: warning: \n      implicit declaration of function \u0027pthread_setname_np\u0027 is invalid in C99\n      [-Wimplicit-function-declaration]\n    int res \u003d pthread_setname_np(pthread_self(), thread_name);\n              ^\n\nThis is because pthread_name_np() is declared as follows in the pthread.h header in glibc:\n\n#ifdef __USE_GNU\n/* Get thread name visible in the kernel and its interfaces.  */\nextern int pthread_getname_np (pthread_t __target_thread, char *__buf,\n                               size_t __buflen)\n     __THROW __nonnull ((2));\n\n/* Set thread name visible in the kernel and its interfaces.  */\nextern int pthread_setname_np (pthread_t __target_thread, const char *__name)\n     __THROW __nonnull ((2));\n#endif\n\nI found the solution in a StackOverflow article:\n\nhttps://stackoverflow.com/questions/22014397/c-implicit-declaration-of-the-function-pthread-timedjoin-np",
      "range": {
        "startLine": 17,
        "startChar": 0,
        "endLine": 19,
        "endChar": 21
      },
      "revId": "449c50b005fa85664f1b1f04449557b32f9fa3b5",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "710969b1_f1b3b286",
        "filename": "aom_util/aom_thread.c",
        "patchSetId": 2
      },
      "lineNbr": 19,
      "author": {
        "id": 5215
      },
      "writtenOn": "2018-09-20T17:31:06Z",
      "side": 1,
      "message": "The example from the pthread_setname_np() man page agrees with the fix:\n\nhttp://man7.org/linux/man-pages/man3/pthread_setname_np.3.html#EXAMPLE",
      "parentUuid": "06b823a3_d4220e28",
      "range": {
        "startLine": 17,
        "startChar": 0,
        "endLine": 19,
        "endChar": 21
      },
      "revId": "449c50b005fa85664f1b1f04449557b32f9fa3b5",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bdcaf5e7_490aab54",
        "filename": "aom_util/aom_thread.c",
        "patchSetId": 2
      },
      "lineNbr": 49,
      "author": {
        "id": 5215
      },
      "writtenOn": "2018-09-20T17:31:06Z",
      "side": 1,
      "message": "you\u0027ll need to do something more than assert on res (because NDEBUG).",
      "revId": "449c50b005fa85664f1b1f04449557b32f9fa3b5",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    }
  ]
}