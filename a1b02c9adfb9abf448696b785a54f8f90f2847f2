{
  "comments": [
    {
      "key": {
        "uuid": "52c86833_e2258b48",
        "filename": "av1/decoder/decoder.c",
        "patchSetId": 6
      },
      "lineNbr": 263,
      "author": {
        "id": 5975
      },
      "writtenOn": "2018-05-09T13:29:26Z",
      "side": 1,
      "message": "Is the idea of this code to avoid re-saving the ref slots when we have a decoded frame followed by a skipped frame?\n\nIt seems that the inverse case (a skipped frame followed by a decoded frame) doesn\u0027t work - this case can arise in an S2T1 scalable stream, where we have two spatial layers which are coded independently, and we can choose between decoding the first layer only or the second layer only.\n\nThe issue is that, currently, pbi-\u003edropped_obus is set if we\u0027ve dropped any OBUs so far within the current temporal unit. If we\u0027re decoding the higher layer of an S2T1 stream, this will *always* be the case, even immediately after decoding a real frame. This is because we skip the frames in the first layer and decode the frames in the second second layer.\n\nI think this should be solvable by resetting pbi-\u003edropped_obus to 0 when we actually decode a frame. Does this match your understanding of this code?",
      "range": {
        "startLine": 263,
        "startChar": 0,
        "endLine": 263,
        "endChar": 27
      },
      "revId": "a1b02c9adfb9abf448696b785a54f8f90f2847f2",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "65797d5b_1d3481db",
        "filename": "av1/decoder/decoder.c",
        "patchSetId": 6
      },
      "lineNbr": 263,
      "author": {
        "id": 8487
      },
      "writtenOn": "2018-05-09T13:34:36Z",
      "side": 1,
      "message": "Do you have a recipe for generating an S2T1 stream? It would be nice to test this with actual streams.",
      "parentUuid": "52c86833_e2258b48",
      "range": {
        "startLine": 263,
        "startChar": 0,
        "endLine": 263,
        "endChar": 27
      },
      "revId": "a1b02c9adfb9abf448696b785a54f8f90f2847f2",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    }
  ]
}