{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "754e7e6c_29c570e5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5190
      },
      "writtenOn": "2022-11-10T19:27:32Z",
      "side": 1,
      "message": "Looks like a bunch of tests (for video mode) are failing. I think its because those are using hantro clip, which has scene changes.\n\nMaybe its better to condition the reset change for screen content only for now, since that is where it has most effect, and avoid the issue with the failing video tests?",
      "revId": "a6b6b35a8d47a88df59b25f250a1c367f4bf67fe",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dadf18a8_8aff64bc",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5610
      },
      "writtenOn": "2022-11-11T09:08:31Z",
      "side": 1,
      "message": "I can do but of course what these tests dont show is the impact on data rate. Where this change is causing significantly lower data rate in the first few frames after a scene change then this may explain the drop in psnr. In fact there are also a couple of failures related to this lower rate. Also in these other cases are the changes also picked up as key frames? If so then we could also limit this change to only impact inter coded scene changes.",
      "parentUuid": "754e7e6c_29c570e5",
      "revId": "a6b6b35a8d47a88df59b25f250a1c367f4bf67fe",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "291e243f_8f36224a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5190
      },
      "writtenOn": "2022-11-11T18:25:17Z",
      "side": 1,
      "message": "Okay, I haven\u0027t looked at the tests, up to you if you prefer to keep the change as is or limit it, and adjust the thresholds in the tests.",
      "parentUuid": "dadf18a8_8aff64bc",
      "revId": "a6b6b35a8d47a88df59b25f250a1c367f4bf67fe",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "604d5044_706bc528",
        "filename": "av1/encoder/ratectrl.c",
        "patchSetId": 2
      },
      "lineNbr": 679,
      "author": {
        "id": 5190
      },
      "writtenOn": "2022-11-10T19:20:37Z",
      "side": 1,
      "message": "Can you add to comment something like: \"we don\u0027t update rc factor here since its reset in av1_encodedframe_overshoot_cbr().\"",
      "revId": "a6b6b35a8d47a88df59b25f250a1c367f4bf67fe",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e7c52495_ffa9a2f4",
        "filename": "av1/encoder/ratectrl.c",
        "patchSetId": 2
      },
      "lineNbr": 681,
      "author": {
        "id": 5190
      },
      "writtenOn": "2022-11-10T19:20:37Z",
      "side": 1,
      "message": "Maybe also add comment on why only under CYCLIC_REFRESH mode.",
      "revId": "a6b6b35a8d47a88df59b25f250a1c367f4bf67fe",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "77472f80_a2e15005",
        "filename": "av1/encoder/ratectrl.c",
        "patchSetId": 2
      },
      "lineNbr": 681,
      "author": {
        "id": 5610
      },
      "writtenOn": "2022-11-11T09:00:38Z",
      "side": 1,
      "message": "The scene change counter her is only reliable I believe when cyclic refresh is active.",
      "parentUuid": "e7c52495_ffa9a2f4",
      "revId": "a6b6b35a8d47a88df59b25f250a1c367f4bf67fe",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e5efd145_9eaa63f0",
        "filename": "av1/encoder/ratectrl.c",
        "patchSetId": 2
      },
      "lineNbr": 681,
      "author": {
        "id": 5190
      },
      "writtenOn": "2022-11-11T18:25:17Z",
      "side": 1,
      "message": "yeah you\u0027re right, so no need for comment.",
      "parentUuid": "77472f80_a2e15005",
      "revId": "a6b6b35a8d47a88df59b25f250a1c367f4bf67fe",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}