{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "0cc583b9_2607ffca",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-05-01T16:57:46Z",
      "side": 1,
      "message": "LGTM.",
      "revId": "65d544e40c0156126e81e50e5e44846d8ad719af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "37e9175b_b3a1d51e",
        "filename": "av1/encoder/arm/neon/temporal_filter_neon.c",
        "patchSetId": 2
      },
      "lineNbr": 61,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-05-01T16:57:46Z",
      "side": 1,
      "message": "Optional: `src` should be declared as const. We can make this change separately.",
      "revId": "65d544e40c0156126e81e50e5e44846d8ad719af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bc426906_20373b78",
        "filename": "av1/encoder/arm/neon/temporal_filter_neon.c",
        "patchSetId": 2
      },
      "lineNbr": 66,
      "author": {
        "id": 5020
      },
      "writtenOn": "2023-04-29T02:54:07Z",
      "side": 1,
      "message": "an alternative might be:\n\n```\n    uint8x8_t idx \u003d vcreate_u8(0x0302030203020100);\n    uint8x8_t shuffle_hi \u003d vtbl1_u8(vget_high_u8(vreinterpretq_u8_u16(s)), idx);\n    s \u003d vcombine_u16(vget_low_u16(s), vreinterpret_u16_u8(shuffle_hi));\n```\n\nand\n\n```\n    uint8x8_t idx \u003d vcreate_u8(0x0706050405040504);\n    uint8x8_t shuffle_lo \u003d vtbl1_u8(vget_low_u8(vreinterpretq_u8_u16(s)), idx);\n    s \u003d vcombine_u16(vreinterpret_u16_u8(shuffle_lo), vget_high_u16(s));    \n```\n\nbut that didn\u0027t seem worth it given the extra rodata and what gcc and clang were generating.\n\nA64 code generation might do a little better with the following or vcreate_u8\u0027s:\n\n```\n  static const uint8_t idx_buf[16] \u003d { 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 10, 11, 10, 11 };\n  uint8x16_t idx2 \u003d vld1q_u8(idx_buf);\n  s \u003d vreinterpretq_u16_u8(vqtbl1q_u8(vreinterpretq_u8_u16(s), idx));\n```",
      "revId": "65d544e40c0156126e81e50e5e44846d8ad719af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "48db459f_35bd1ada",
        "filename": "av1/encoder/arm/neon/temporal_filter_neon.c",
        "patchSetId": 2
      },
      "lineNbr": 66,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-05-01T16:57:46Z",
      "side": 1,
      "message": "Should we save `vget_lane_u8(s, 2)` in a local variable?",
      "revId": "65d544e40c0156126e81e50e5e44846d8ad719af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a22ae092_2fb98079",
        "filename": "av1/encoder/arm/neon/temporal_filter_neon.c",
        "patchSetId": 2
      },
      "lineNbr": 66,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-05-01T17:00:02Z",
      "side": 1,
      "message": "I am not familiar with these intrinsics, so I can\u0027t really comment on the alternative.",
      "parentUuid": "bc426906_20373b78",
      "revId": "65d544e40c0156126e81e50e5e44846d8ad719af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}