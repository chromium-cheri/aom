{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "666a7ddf_3c9cdbf8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 31322
      },
      "writtenOn": "2022-12-09T11:05:25Z",
      "side": 1,
      "message": "Hi Wan-Teh, Frank,\n \nThe buffers buf-\u003emvs and cm-\u003etpl_mvs hold the motion vector information that is required for motion vector projection and these buffers are allocated unconditionally in the parent version. In this CL, the allocation of these buffers is done only if temporal mv prediction is enabled (cm-\u003eseq_params-\u003eorder_hint_info.enable_ref_frame_mvs \u003d 1). This is a bit-exact change.\n\nFor AVIF still-image encode, an average encode time reduction of 0.69% (since calloc/memset is avoided) and average heap memory reduction of ~1% is observed on average across different resolutions with speed\u003d9 and threads\u003d4.\n\nWhen tested for real time video encode for speed\u003d10, for 720p and 1080p resolutions,  we observed an average heap memory reduction of ~2.2%.\n\nFor libaom AV1 video encode, bit-match is verified (w.r.t. parent commit) for \u0027GOOD\u0027, \u0027RT\u0027 and \u0027ALLINTRA\u0027 encoding modes for a few contents with different encoding configurations. \n\nPlease review.\n\nRegards,\nApurve",
      "revId": "a4fd227ad714223b03085a29f85e9bf2655e0ea5",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}