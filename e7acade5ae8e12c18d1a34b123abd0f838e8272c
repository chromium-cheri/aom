{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "fed05b5d_7862d49e",
        "filename": "av1/encoder/pickrst.c",
        "patchSetId": 3
      },
      "lineNbr": 1711,
      "author": {
        "id": 9545
      },
      "writtenOn": "2021-04-28T16:15:56Z",
      "side": 1,
      "message": "Hi Venkata,\n\nWhile reviewing this CL, I tried to study related code by searching for \"-\u003emode_costs, \" in the source tree. I found the following two calls to av1_fill_mode_rates(), whose second and third parameters are the same as the parameters of av1_fill_lr_rates():\n\nav1/encoder/encodeframe_utils.c:\n\n      av1_fill_mode_rates(cm, \u0026x-\u003emode_costs, xd-\u003etile_ctx);\n\nav1/encoder/rd.c:\n\n    av1_fill_mode_rates(cm, \u0026x-\u003emode_costs, cm-\u003efc);\n\nCould you please review these two av1_fill_mode_rates() calls and make sure we are passing the correct third argument to them?\n\nThank you!",
      "revId": "e7acade5ae8e12c18d1a34b123abd0f838e8272c",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "509a10b0_0ddffae6",
        "filename": "av1/encoder/pickrst.c",
        "patchSetId": 3
      },
      "lineNbr": 1711,
      "author": {
        "id": 9611
      },
      "writtenOn": "2021-04-29T14:47:28Z",
      "side": 1,
      "message": "Hi Wan-Teh,\n\nAs per our understanding, the arguments passed are correct. please find our observations below\n\n1. av1_fill_mode_rates() call in av1/encoder/encodeframe_utils.c:\n\nThe function is called during the encode stage, so it is correct to use the updated \u0027tile_ctx\u0027 at this stage as \u0027tile_ctx\u0027 would have been updated in encode stage.\n\n2. av1_fill_mode_rates() call in av1/encoder/rd.c:\n\nThis one is called at initialization stage (before encoding), hence using cm-\u003efc to update the mode_costs is correct as tile_ctx would not have been updated before encode stage.\n\nThanks \u0026 Regards,\nVenkata.",
      "parentUuid": "fed05b5d_7862d49e",
      "revId": "e7acade5ae8e12c18d1a34b123abd0f838e8272c",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}