{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "155085ad_b8bb3d16",
        "filename": "av1/common/convolve.h",
        "patchSetId": 2
      },
      "lineNbr": 102,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-10-28T20:57:00Z",
      "side": 1,
      "message": "The return value of this function is consumed by `av1_wiener_convolve_add_src()` and `av1_highbd_wiener_convolve_add_src()`. All versions of those functions use only the `round_0` and `round_1` members of the `ConvolveParams` struct. So this Coverity defect is a benign bug.\n\nThe `ConvolveParams` struct also has two other members that are not initialized by this function: `fwd_offset` and `bck_offset`. We should also initialize them.\n\nRather than initializing the unused members to 0 or NULL one by one, I suggest we first zero-initialize the entire struct, and then set the two members that will be used:\n\n```\n  ConvolveParams conv_params \u003d { 0 };\n  conv_params.round_0 \u003d WIENER_ROUND0_BITS;\n  conv_params.round_1 \u003d 2 * FILTER_BITS - conv_params.round_0;\n  const int intbufrange \u003d bd + FILTER_BITS - conv_params.round_0 + 2;\n  assert(IMPLIES(bd \u003c 12, intbufrange \u003c\u003d 16));\n  if (intbufrange \u003e 16) {\n    conv_params.round_0 +\u003d intbufrange - 16;\n    conv_params.round_1 -\u003d intbufrange - 16;\n  }\n  return conv_params;\n```",
      "revId": "5f056e2a28d4e9546db5437d7d2d88d3d7d4c0eb",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d6d06c6c_09e9d668",
        "filename": "av1/common/convolve.h",
        "patchSetId": 2
      },
      "lineNbr": 104,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-10-28T20:57:00Z",
      "side": 1,
      "message": "We can delete this line because `bd` is used by this function (line 110).",
      "revId": "5f056e2a28d4e9546db5437d7d2d88d3d7d4c0eb",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}