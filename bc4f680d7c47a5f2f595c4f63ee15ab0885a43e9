{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "04c93c12_e64fa775",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 13265
      },
      "writtenOn": "2022-03-08T09:52:15Z",
      "side": 1,
      "message": "Hi Yunqing,\n\nThis patch adjusts the speed feature hybrid_intra_pickmode in speed 10 so as to use nonrd pick intra mode search for all blocks in lowres contents and to select the use of rd or nonrd pick intra based on block variance and size for res \u003e\u003d 360p.\n\nPlease find the detailed speed-quality results below.\n\n                Instruction Count     BD-Rate Loss(%)    \ncpu   Test-set    Reduction(%)   avg.psnr   ovr.psnr    ssim \n10         rtc      0.513        -0.0446    -0.0191    0.0648    \n10    rtc_derf      0.991         0.1533     0.1077    0.3262    \n10     Average      0.746         0.0378     0.0337    0.1737\n\nIn the commit message, BD rate impact column: \n[+] sign is for BD-Rate drop \n[-] sign is for BD-Rate improvement \nThe instruction count reduction specified has been measured using command: $ perf stat -e instructions:u ./aomenc â€¦\n\nPlease find the clips with worst case quality drops below.\n\n cpu     Test-set  Max bd-rate drop(%)    Clip-name\n  10         rtc        0.6702          jimredvga_25fps\n  10    rtc_derf        1.1018          tac_narrows_320_240\n\nPlease review the patch.\n\nThanks,\nNithya",
      "revId": "bc4f680d7c47a5f2f595c4f63ee15ab0885a43e9",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a9586ca7_8ef98097",
        "filename": "av1/encoder/speed_features.c",
        "patchSetId": 1
      },
      "lineNbr": 1246,
      "author": {
        "id": 5190
      },
      "writtenOn": "2022-03-08T18:49:53Z",
      "side": 1,
      "message": "This speed feauture only affects the key frame, so prefer to keep it on (\u003d2) for all resolutions.",
      "revId": "bc4f680d7c47a5f2f595c4f63ee15ab0885a43e9",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c01a2d40_14b0ae86",
        "filename": "av1/encoder/speed_features.c",
        "patchSetId": 1
      },
      "lineNbr": 1246,
      "author": {
        "id": 13265
      },
      "writtenOn": "2022-03-09T16:26:37Z",
      "side": 1,
      "message": "Hi Marco, Yunqing,\n\nUsing value of 0 in lowres yielded best speed-up with quality in trade-off, while setting to 2 was increasing the worst case drop with very little speed-up. In patchset 2, lowres is modified to use a different (more aggressive) variance threshold than midres and hdres, so that the worst case drops are reduced. However, the speed-up in lowres has reduced to 0.29% compared to 0.99% in patchset 1, and the overall speed-up has reduced to 0.404% from 0.746%.\n\nDetailed speed-quality results with patchset 2:\n                Instruction Count     BD-Rate Loss(%)    \ncpu    Test-set    Reduction(%)  avg.psnr   ovr.psnr    ssim \n10         rtc      0.513        -0.0446    -0.0191    0.0648    \n10    rtc_derf      0.290        -0.0054    -0.0164    0.0211    \n10     Average      0.404        -0.0283    -0.0180    0.0466\n\nWorst case drops:\n cpu      Test-set  Max bd-rate drop(%)    Clip-name\n  10         rtc        0.6702          jimredvga_25fps\n  10    rtc_derf        0.4191          capture_nexus_320_240\n  \nPlease let us know if the logic of patchset 1 or 2 is preferred.\n\nThanks,\nNithya",
      "parentUuid": "a9586ca7_8ef98097",
      "revId": "bc4f680d7c47a5f2f595c4f63ee15ab0885a43e9",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}