{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "f54954ab_e4a2d378",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 25857
      },
      "writtenOn": "2023-09-06T14:11:03Z",
      "side": 1,
      "message": "The `jmp_buf` after a `setjmp()` call is valid only for the duration of the function that calls `setjmp()`. Therefore the function that calls `setjmp()` must reset the `setjmp` boolean field to 0 (to indicate that the `jmp_buf` is invalid) before it returns.\n\nIn the parent version, for some encoder MT modules (`fp_enc_row_mt_worker_hook()`, `enc_row_mt_worker_hook()`, and `gm_mt_worker_hook()`), if one of the workers encounter an error, the non-erroneous threads would exit the hook functions without resetting their corresponding `error_info-\u003esetjmp`. This CL fixes this issue. This CL also resets `worker[]-\u003ehad_error` inside `launch_workers()` to avoid using any stale values.\n\nThis change is bit-exact and has been verified using bitstream-match tests for a combination of various configuration values for --threads, --tile-rows, --tile-columns, --cpu-used, --end-usage, --row-mt, --fp-mt, etc.",
      "revId": "72dc46154e5d3fabff78025ad48184969d5ceb44",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "28330413_d53d0877",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5185
      },
      "writtenOn": "2023-09-06T15:41:15Z",
      "side": 1,
      "message": "Looks good to me. Thanks.",
      "parentUuid": "f54954ab_e4a2d378",
      "revId": "72dc46154e5d3fabff78025ad48184969d5ceb44",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}