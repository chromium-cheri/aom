{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "f81d70de_08d0cda8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 8893
      },
      "writtenOn": "2021-06-14T12:32:34Z",
      "side": 1,
      "message": "Hi Yunqing,\n\nIn this patch, we added a speed feature to skip motion search w.r.t. zeromv in first pass. In first pass, when the reference mv is not (0,0), motion search was performed twice with seed mvs as (0,0) and ref MV. This patch adds a speed feature to skip motion search with seed mv as (0,0) mv for speed 6. The results are as follows:\n\n cpu-used   Resolution  Instruction Count       BD-Rate Loss (%)\n                          Reduction (%)    avg.psnr   ovr.psnr    ssim       \n    6       LOWRES          0.666            0.0352     0.0330    0.0620\n    6       MIDRES          0.884           -0.0037    -0.0591    0.0244\n    6       HDRES           1.696            0.0681     0.0290    0.1074\n    6       Average         0.981            0.0338     0.0048    0.0648 \n\nWe also tried extending the sf to speed 5. The results are tabulated below. We have not enabled the sf for speed\u003d5 as the lowres-SSIM BD-Rate loss is high.\n\n cpu-used   Resolution  Instruction Count       BD-Rate Loss (%)\n                          Reduction (%)    avg.psnr   ovr.psnr   ssim       \n    5       LOWRES          0.481            0.0087   0.0123     0.1261\n    5       MIDRES          0.727            0.0253  -0.0091    -0.0143\n    5       HDRES           1.440           -0.0642  -0.0566    -0.1686\n    5       Average         0.785           -0.0087  -0.0150    -0.0048 \n\nIn the BD-Rate Loss column:\n[+] sign is for BD-Rate loss\n[-] sign is for BD-Rate improvement\nThe instruction count reduction specified has been measured using command:\n$ perf stat -e instructions:u ./aomenc â€¦  \n\nWe have verified that the first pass unit test merged recently, passes as well. Please review the patch.\n\nThanks\n\n\n",
      "revId": "aa6632015e19d252a1f27cab358566ed6cbb262a",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6b408158_28a93a30",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5185
      },
      "writtenOn": "2021-06-14T21:31:56Z",
      "side": 1,
      "message": "I think checking zeromv was added for a good reason. Did you see any clip got much worse after this change?",
      "parentUuid": "f81d70de_08d0cda8",
      "revId": "aa6632015e19d252a1f27cab358566ed6cbb262a",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e8297053_ae0f5048",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 8893
      },
      "writtenOn": "2021-06-16T14:30:14Z",
      "side": 1,
      "message": "Hi Yunqing,\n\nWe see that motion search w.r.t. zeromv in first pass was existing in the initial encoder version as well.\n\nThe maximum BD-Rate loss (snow_mnt_480p) is 1.08% (ovr.psnr) and 2.56% (ssim). Also, the maximum BD-Rate gain (crew_4cif_30fps) is 1.49% (ovr.psnr) and 0.94% (ssim).  \n\nWe also tested this patch with constant q mode of encoding for snow_mnt_480p content. We observed a  BD-Rate gain of 0.1% (ovr.psnr) and 0.2% (ssim). Thus, the BD-Rate fluctuation seems to be due to vbr mode of encoding for snow_mnt_480p content.",
      "parentUuid": "6b408158_28a93a30",
      "revId": "aa6632015e19d252a1f27cab358566ed6cbb262a",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}