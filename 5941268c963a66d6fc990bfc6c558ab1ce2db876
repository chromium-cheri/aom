{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "bb00be21_6a238e33",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-05-20T23:39:15Z",
      "side": 1,
      "message": "LGTM.",
      "revId": "5941268c963a66d6fc990bfc6c558ab1ce2db876",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3c545f54_2ecc6011",
        "filename": "test/film_grain_table_test.cc",
        "patchSetId": 1
      },
      "lineNbr": 195,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-05-20T23:39:15Z",
      "side": 1,
      "message": "```\nstatic FILE *GetTempOutFile(std::string *file_name) {\n  file_name-\u003eclear();\n#if defined(_WIN32)\n  ...\n#else\n  char name_template[] \u003d \"/tmp/libaomtest.XXXXXX\";\n  const int fd \u003d mkstemp(name_template);\n  *file_name \u003d name_template;\n  return fdopen(fd, \"wb+\");\n#endif\n}\n```\n\nIf mkstemp() returns -1, ideally we should return NULL without calling fdopen(). The fdopen() man page says it *may* return NULL (with errno\u003dEBADF) if -1 is passed:\n\nhttps://pubs.opengroup.org/onlinepubs/9699919799/functions/fdopen.html",
      "revId": "5941268c963a66d6fc990bfc6c558ab1ce2db876",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "56817457_b0082d6f",
        "filename": "test/film_grain_table_test.cc",
        "patchSetId": 1
      },
      "lineNbr": 195,
      "author": {
        "id": 5020
      },
      "writtenOn": "2022-05-21T02:21:02Z",
      "side": 1,
      "message": "\u003e ```\n\u003e static FILE *GetTempOutFile(std::string *file_name) {\n\u003e   file_name-\u003eclear();\n\u003e #if defined(_WIN32)\n\u003e   ...\n\u003e #else\n\u003e   char name_template[] \u003d \"/tmp/libaomtest.XXXXXX\";\n\u003e   const int fd \u003d mkstemp(name_template);\n\u003e   *file_name \u003d name_template;\n\u003e   return fdopen(fd, \"wb+\");\n\u003e #endif\n\u003e }\n\u003e ```\n\u003e \n\u003e If mkstemp() returns -1, ideally we should return NULL without calling fdopen(). The fdopen() man page says it *may* return NULL (with errno\u003dEBADF) if -1 is passed:\n\u003e \n\u003e https://pubs.opengroup.org/onlinepubs/9699919799/functions/fdopen.html\n\nI\u0027ll follow up with a change that addresses this and uses testing::TempDir() as you suggested.",
      "parentUuid": "3c545f54_2ecc6011",
      "revId": "5941268c963a66d6fc990bfc6c558ab1ce2db876",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d55c6ffc_af82943a",
        "filename": "test/y4m_test.cc",
        "patchSetId": 1
      },
      "lineNbr": 218,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-05-20T23:39:15Z",
      "side": 1,
      "message": "Optional: In this test and the test at line 244, we can check `f` instead:\n\n  ASSERT_NE(f, nullptr);",
      "revId": "5941268c963a66d6fc990bfc6c558ab1ce2db876",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "131fe589_5908d864",
        "filename": "test/y4m_test.cc",
        "patchSetId": 1
      },
      "lineNbr": 218,
      "author": {
        "id": 5020
      },
      "writtenOn": "2022-05-21T02:21:02Z",
      "side": 1,
      "message": "Done. Actually the FILE variable wasn\u0027t really necessary, but I\u0027ll keep the diff small.",
      "parentUuid": "d55c6ffc_af82943a",
      "revId": "5941268c963a66d6fc990bfc6c558ab1ce2db876",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b9f785ee_fa35a9e7",
        "filename": "test/y4m_test.cc",
        "patchSetId": 1
      },
      "lineNbr": 244,
      "author": {
        "id": 5020
      },
      "writtenOn": "2022-05-21T02:21:02Z",
      "side": 1,
      "message": "updated this one too",
      "revId": "5941268c963a66d6fc990bfc6c558ab1ce2db876",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}