{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "34672f86_4d08c13b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-03-17T18:35:01Z",
      "side": 1,
      "message": "Please see my comment in aom/aomcx.h on the pros and cons of the current approach and an alternative.",
      "revId": "278c5845670a89dfb29a38a3cd962f56a5f495b2",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "339c7121_a4852e61",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5020
      },
      "writtenOn": "2023-03-17T22:45:45Z",
      "side": 1,
      "message": "I\u0027ll let Marco take a look.",
      "revId": "278c5845670a89dfb29a38a3cd962f56a5f495b2",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3377278b_7f7c134f",
        "filename": "aom/aomcx.h",
        "patchSetId": 1
      },
      "lineNbr": 1520,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-03-17T18:35:01Z",
      "side": 1,
      "message": "In the current approach, the version of the `aom_svc_params_t` struct is encoded in the codec control id. If we rarely extend the `aom_svc_params_t` struct, this is simpler, because the `AOM_CTRL_AV1E_SET_SVC_PARAMS_V*` macro also indicates which new fields are present in `aom_svc_params_t`.\n\nOn the other hand, if we expect to add new fields to `aom_svc_params_t` frequently, then this approach will end up with many codec control ids such as `AV1E_SET_SVC_PARAMS_V2`, `AV1E_SET_SVC_PARAMS_V3`, and `AV1E_SET_SVC_PARAMS_V4`. In that case, a better alternative is to just add a `AV1E_SET_SVC_PARAMS_VERSIONED` codec control id and pass the version number to it. In this alternative approach, we will need a new macro (the current version of `aom_svc_params_t`) to indicate which new fields are present in `aom_svc_params_t`.",
      "revId": "278c5845670a89dfb29a38a3cd962f56a5f495b2",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1ba091b7_91196649",
        "filename": "av1/av1_cx_iface.c",
        "patchSetId": 1
      },
      "lineNbr": 3538,
      "author": {
        "id": 5020
      },
      "writtenOn": "2023-03-17T22:45:45Z",
      "side": 1,
      "message": "Marco, is this a reasonable default?",
      "revId": "278c5845670a89dfb29a38a3cd962f56a5f495b2",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e7e611fb_5ab68ee3",
        "filename": "av1/av1_cx_iface.c",
        "patchSetId": 1
      },
      "lineNbr": 3538,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-03-17T23:16:39Z",
      "side": 1,
      "message": "The default value of 0 emulates the zero-initialization of `aom_svc_params_t` in examples/svc_encoder_rtc.c and test/svc_datarate_test.cc. I annotated the code that zero-initializes `aom_svc_params_t` in those two files.",
      "parentUuid": "1ba091b7_91196649",
      "revId": "278c5845670a89dfb29a38a3cd962f56a5f495b2",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1b8d8ed5_3b0b89cc",
        "filename": "examples/svc_encoder_rtc.c",
        "patchSetId": 1
      },
      "lineNbr": 1228,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-03-17T23:16:39Z",
      "side": 1,
      "message": "Note that `svc_params` is zero-initalized here.",
      "revId": "278c5845670a89dfb29a38a3cd962f56a5f495b2",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0cd067dc_23b08401",
        "filename": "test/svc_datarate_test.cc",
        "patchSetId": 1
      },
      "lineNbr": 74,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-03-17T23:16:39Z",
      "side": 1,
      "message": "Note that `svc_params_` is zero-initialized here.",
      "revId": "278c5845670a89dfb29a38a3cd962f56a5f495b2",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c24c8f87_11897e67",
        "filename": "test/svc_datarate_test.cc",
        "patchSetId": 1
      },
      "lineNbr": 104,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-03-17T18:43:53Z",
      "side": 1,
      "message": "For simplicity, we can also just use `AV1E_SET_SVC_PARAMS_V1` unconditionally in this file. I wrote it this way so that `AV1E_SET_SVC_PARAMS` is also tested.\n\nPlease let me know what you prefer.",
      "revId": "278c5845670a89dfb29a38a3cd962f56a5f495b2",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7f0b9fed_e78d81a3",
        "filename": "test/svc_datarate_test.cc",
        "patchSetId": 1
      },
      "lineNbr": 104,
      "author": {
        "id": 5020
      },
      "writtenOn": "2023-03-17T22:45:45Z",
      "side": 1,
      "message": "\u003e For simplicity, we can also just use `AV1E_SET_SVC_PARAMS_V1` unconditionally in this file. I wrote it this way so that `AV1E_SET_SVC_PARAMS` is also tested.\n\u003e \n\u003e Please let me know what you prefer.\n\nI think this is fine. You might want to add a comment noting the purpose is to add coverage for both controls.",
      "parentUuid": "c24c8f87_11897e67",
      "revId": "278c5845670a89dfb29a38a3cd962f56a5f495b2",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "47e57c78_1a6396ed",
        "filename": "test/svc_datarate_test.cc",
        "patchSetId": 1
      },
      "lineNbr": 104,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-03-17T23:16:39Z",
      "side": 1,
      "message": "How about if I add the following comment?\n\n```\n    // We could use AV1E_SET_SVC_PARAMS_V1 unconditionally. To add test\n    // coverage for both codec controls, use AV1E_SET_SVC_PARAMS_V1 only when\n    // necessary.\n```",
      "parentUuid": "7f0b9fed_e78d81a3",
      "revId": "278c5845670a89dfb29a38a3cd962f56a5f495b2",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "acac70a8_5758ea12",
        "filename": "test/svc_datarate_test.cc",
        "patchSetId": 1
      },
      "lineNbr": 104,
      "author": {
        "id": 5020
      },
      "writtenOn": "2023-03-17T23:57:24Z",
      "side": 1,
      "message": "\u003e How about if I add the following comment?\n\u003e \n\u003e ```\n\u003e     // We could use AV1E_SET_SVC_PARAMS_V1 unconditionally. To add test\n\u003e     // coverage for both codec controls, use AV1E_SET_SVC_PARAMS_V1 only when\n\u003e     // necessary.\n\u003e ```\n\nSounds good.",
      "parentUuid": "47e57c78_1a6396ed",
      "revId": "278c5845670a89dfb29a38a3cd962f56a5f495b2",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}