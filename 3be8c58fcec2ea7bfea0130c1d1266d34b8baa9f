{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "a20e8f4c_1ea3cc4c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 24958
      },
      "writtenOn": "2021-07-26T17:48:59Z",
      "side": 1,
      "message": "Hi Yunqing,\nThis change fixes the update of temp_frame_probs. The update of temp_frame_probs is moved out of the check on frame\u0027s decision to update it\u0027s simulation probabilities and processed\nunconditionally in the end by the last frame of the parallel set.\n\nThe issue would occur in a configuration where last frame in a particular parallel set would decide not to update it\u0027s simulation probabilities and prevent the update of temp_frame_probs. This was observed for a clip during our tests.\n\nThis change is bit-exact for cqp and has been locally verified with bitstream match tests over a combination of various configuration values for --threads, --tile-rows, --tile-columns, --cpu-used,   --row-mt, etc. \n\nPlease review.",
      "revId": "3be8c58fcec2ea7bfea0130c1d1266d34b8baa9f",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}