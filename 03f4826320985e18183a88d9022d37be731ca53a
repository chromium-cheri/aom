{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "5cf8ac28_c0f14164",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 25857
      },
      "writtenOn": "2022-12-14T15:26:47Z",
      "side": 1,
      "message": "Hi Wan-Teh, Frank, \n\nIn this CL, we have introduced a speed feature enable_intra_mode_pruning_using_nb_info to prune specific nonrd intra modes based on source variance and best mode so far. V_PRED and H_PRED modes are pruned if source variance of the prediction block is less than or equal to 50 (empirically derived) and SMOOTH_PRED mode is pruned if the best mode so far is DC_PRED (probability of SMOOTH_PRED being the winner is less when best mode so far is DC_PRED as per the stats). This pruning logic is enabled only if current mode is not the winner mode of both the neighboring blocks (left/top). This speed feature is enabled for allintra, speed 9.\n\nFor AVIF still-image encode with tune\u003dssim,\n```\n                Encode Time      BD-Rate Loss(%)\n    cpu-used     Reduction(%)    psnr      ssim   \n       9           3.462        -0.0577   -0.2393\n```\n\nFollowing are the instruction count reduction results when libaom allintra frame encoding (50 frames) was tested for a borg setup. \n```\n               Instruction Count    BD-Rate Loss(%)      \n    cpu-used      Reduction(%)    avg.psnr  ovr.psnr  ssim\n       9            3.957         0.3829    0.3837    0.2422\n```\n\nFor libaom AV1 video encode, bit-match is verified (w.r.t. parent commit) for \u0027GOOD\u0027 and \u0027RT\u0027 encoding modes for a few contents with different encoding configurations. It is verified that the CL is bit-exact for allintra encode, speed \u003c 9 with no speed impact.\n\nIn the commit message, BD rate impact column:\n[+] sign is for BD-Rate drop\n[-] sign is for BD-Rate improvement\nThe instruction count reduction specified has been measured using the command:\n$ perf stat -e instructions:u ./aomenc â€¦\n\nPlease review.\n\nRegards,\nMudassir.",
      "revId": "03f4826320985e18183a88d9022d37be731ca53a",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}