{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "7e0fa716_836a5312",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 26549
      },
      "writtenOn": "2023-03-08T09:03:30Z",
      "side": 1,
      "message": "This is a bit weird since they are not fields in `extra_cfg`, but `update_extra_cfg()` do depends on these values.\n\nAlternatively we may move the init logic in `update_extra_cfg()` to somewhere early in `encoder_encode()`, but that will be a much larger change.",
      "revId": "4baf0d68cd4dff6b521c816ea5ffe0442e9cc61f",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0e6500dd_ec637b14",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-03-08T23:58:30Z",
      "side": 1,
      "message": "The change to `ctrl_set_scale_mode()` needs to be reviewed carefully because it will modify `ctx-\u003eoxcf` and the `oxcf` of all the `ctx-\u003eppi-\u003eparallel_cpi[i]`, not just `ctx-\u003eppi-\u003ecpi`. If we are not confident about the change, it is best to not change it.\n\nThe change to `ctrl_set_number_spatial_layers()` is safe.",
      "revId": "4baf0d68cd4dff6b521c816ea5ffe0442e9cc61f",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cf37e352_bbb20f03",
        "filename": "av1/av1_cx_iface.c",
        "patchSetId": 1
      },
      "lineNbr": 3457,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-03-08T23:58:30Z",
      "side": 1,
      "message": "I found that `update_extra_cfg()` calls `av1_check_fpmt_config()`, so we should be able to delete this `av1_check_fpmt_config()` call.\n\nBut we need to proceed carefully here. I think we need to pass `\u0026ctx-\u003eoxcf` as the first argument to `av1_set_internal_size()`, The reason is that `update_extra_cfg()` calls\n\n```\n      av1_change_config(ctx-\u003eppi-\u003eparallel_cpi[i], \u0026ctx-\u003eoxcf,\n                        is_sb_size_changed);\n```\n\nAnd that function does:\n\n```\n  cpi-\u003eoxcf \u003d *oxcf;\n```\n\nWe need to single-step in the debugger to verify this.",
      "revId": "4baf0d68cd4dff6b521c816ea5ffe0442e9cc61f",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "86852065_7093b410",
        "filename": "av1/av1_cx_iface.c",
        "patchSetId": 1
      },
      "lineNbr": 3459,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-03-08T23:58:30Z",
      "side": 1,
      "message": "Nit: I suggest we write this as follows:\n\n```\n  if (av1_set_internal_size(...) !\u003d 0) {\n    return AOM_CODEC_INVALID_PARAM;\n  }\n  return update_extra_cfg(ctx, \u0026ctx-\u003eextra_cfg);\n```",
      "revId": "4baf0d68cd4dff6b521c816ea5ffe0442e9cc61f",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8b08b7c8_dc300957",
        "filename": "av1/av1_cx_iface.c",
        "patchSetId": 1
      },
      "lineNbr": 3480,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-03-08T23:58:30Z",
      "side": 1,
      "message": "I verified that `update_extra_cfg()` calls `av1_change_config_seq()`, which uses `ctx-\u003eppi-\u003enumber_spatial_layers`.",
      "revId": "4baf0d68cd4dff6b521c816ea5ffe0442e9cc61f",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "db3a717d_86ea7d13",
        "filename": "test/avif_progressive_test.cc",
        "patchSetId": 1
      },
      "lineNbr": 233,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-03-08T23:58:30Z",
      "side": 1,
      "message": "Is this change necessary?",
      "revId": "4baf0d68cd4dff6b521c816ea5ffe0442e9cc61f",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}