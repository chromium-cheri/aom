{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "91d38f6d_614830ec",
        "filename": "aom/aomcx.h",
        "patchSetId": 15
      },
      "lineNbr": 1557,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-07-11T19:06:10Z",
      "side": 1,
      "message": "Nit: add \"frame\" before \"drop\"",
      "revId": "5bdbe89e5b828400d93a134f5d685e3ba6695de8",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "57294703_d35120f2",
        "filename": "aom/aomcx.h",
        "patchSetId": 15
      },
      "lineNbr": 1557,
      "author": {
        "id": 5190
      },
      "writtenOn": "2024-07-11T23:06:55Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "91d38f6d_614830ec",
      "revId": "5bdbe89e5b828400d93a134f5d685e3ba6695de8",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "472ce31f_72f400ba",
        "filename": "aom/aomcx.h",
        "patchSetId": 15
      },
      "lineNbr": 1560,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-07-11T19:06:10Z",
      "side": 1,
      "message": "`rc_dropframe_thresh` may be a typo. Please see my comment in encoder.h:4116.",
      "revId": "5bdbe89e5b828400d93a134f5d685e3ba6695de8",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e441db53_2a4d053d",
        "filename": "aom/aomcx.h",
        "patchSetId": 15
      },
      "lineNbr": 1560,
      "author": {
        "id": 5190
      },
      "writtenOn": "2024-07-11T23:06:55Z",
      "side": 1,
      "message": "rc_dropframe_thresh is in the aom_codec_enc_cfg, so it\u0027s what the application sets to enable frame dropping.",
      "parentUuid": "472ce31f_72f400ba",
      "revId": "5bdbe89e5b828400d93a134f5d685e3ba6695de8",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "12c1e3b2_4ec69130",
        "filename": "aom/aomcx.h",
        "patchSetId": 15
      },
      "lineNbr": 1560,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-07-12T00:24:57Z",
      "side": 1,
      "message": "Thanks.",
      "parentUuid": "e441db53_2a4d053d",
      "revId": "5bdbe89e5b828400d93a134f5d685e3ba6695de8",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5ac68123_a6b39ef3",
        "filename": "av1/encoder/encoder.h",
        "patchSetId": 15
      },
      "lineNbr": 4116,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-07-11T19:06:10Z",
      "side": 1,
      "message": "The comment in aomcx.h says:\n\n```\n                                  ... Postencode drop is only allowed\n   * when frame dropping is enabled (rc_dropframe_thresh \u003e 0).\n```\n\nBut `rc_dropframe_thresh` is not check here. Did you mean `drop_frames_water_mark`?",
      "revId": "5bdbe89e5b828400d93a134f5d685e3ba6695de8",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "587e6dc2_4e6ab737",
        "filename": "av1/encoder/encoder.h",
        "patchSetId": 15
      },
      "lineNbr": 4116,
      "author": {
        "id": 5190
      },
      "writtenOn": "2024-07-11T23:06:55Z",
      "side": 1,
      "message": "rc_dropframe_thresh is the config parameter the application/user sets. This is passed to drop_frames_water_mark in set_encoder_config(), which is then used internally.",
      "parentUuid": "5ac68123_a6b39ef3",
      "revId": "5bdbe89e5b828400d93a134f5d685e3ba6695de8",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fc117507_2c02e22c",
        "filename": "av1/encoder/encoder.h",
        "patchSetId": 15
      },
      "lineNbr": 4116,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-07-12T00:24:57Z",
      "side": 1,
      "message": "Thanks.",
      "parentUuid": "587e6dc2_4e6ab737",
      "revId": "5bdbe89e5b828400d93a134f5d685e3ba6695de8",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5d6ddc57_3d84c00f",
        "filename": "av1/encoder/ratectrl.c",
        "patchSetId": 15
      },
      "lineNbr": 3834,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-07-11T19:06:10Z",
      "side": 1,
      "message": "It seems that this should not be necessary. (I don\u0027t really understand this code, so I could be wrong.)\n\nIf this is necessary, shouldn\u0027t we also set all `lrc-\u003eforce_max_q` to 0? See line 3823 above.",
      "revId": "5bdbe89e5b828400d93a134f5d685e3ba6695de8",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0261c701_15ca2cce",
        "filename": "av1/encoder/ratectrl.c",
        "patchSetId": 15
      },
      "lineNbr": 3834,
      "author": {
        "id": 5190
      },
      "writtenOn": "2024-07-11T23:06:55Z",
      "side": 1,
      "message": "shouldn\u0027t be needed here since it gets unset once it\u0027s used (in av1_set_size_dependent_vars), so removed it.",
      "parentUuid": "5d6ddc57_3d84c00f",
      "revId": "5bdbe89e5b828400d93a134f5d685e3ba6695de8",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "25929c90_8397624d",
        "filename": "av1/encoder/ratectrl.c",
        "patchSetId": 15
      },
      "lineNbr": 3834,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-07-12T00:24:57Z",
      "side": 1,
      "message": "I now have a new question. Please see my comment at line 3823.",
      "parentUuid": "0261c701_15ca2cce",
      "revId": "5bdbe89e5b828400d93a134f5d685e3ba6695de8",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "39966b44_bfe5c3fa",
        "filename": "av1/encoder/ratectrl.h",
        "patchSetId": 15
      },
      "lineNbr": 832,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-07-11T19:06:10Z",
      "side": 1,
      "message": "`size` is an in/out parameter. Below we should document that `*size` is cleared to 0 when this function returns 1 (the frame is dropped).",
      "revId": "5bdbe89e5b828400d93a134f5d685e3ba6695de8",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d474ff6c_ec96223e",
        "filename": "av1/encoder/ratectrl.h",
        "patchSetId": 15
      },
      "lineNbr": 832,
      "author": {
        "id": 5190
      },
      "writtenOn": "2024-07-11T23:06:55Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "39966b44_bfe5c3fa",
      "revId": "5bdbe89e5b828400d93a134f5d685e3ba6695de8",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b102336b_727d978a",
        "filename": "test/svc_datarate_test.cc",
        "patchSetId": 15
      },
      "lineNbr": 132,
      "author": {
        "id": 9545
      },
      "writtenOn": "2024-07-11T19:06:10Z",
      "side": 1,
      "message": "I am surprised that the tests don\u0027t need to be updated when we enable postencode frame drop. Is there a way to detect that it is working?",
      "revId": "5bdbe89e5b828400d93a134f5d685e3ba6695de8",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "38cd7b3d_bea0d21c",
        "filename": "test/svc_datarate_test.cc",
        "patchSetId": 15
      },
      "lineNbr": 132,
      "author": {
        "id": 5190
      },
      "writtenOn": "2024-07-11T23:06:55Z",
      "side": 1,
      "message": "Don\u0027t think there is way to detect if it gets triggered, but I did verify it is triggered in one of the svc screen tests.",
      "parentUuid": "b102336b_727d978a",
      "revId": "5bdbe89e5b828400d93a134f5d685e3ba6695de8",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}