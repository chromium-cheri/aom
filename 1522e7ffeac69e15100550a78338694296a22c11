{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "ecce3392_f349f73c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-10-11T20:39:37Z",
      "side": 1,
      "message": "Satheesh, Rachel: Please review. Thanks.\n\nMarco: You are welcome to take a look.",
      "revId": "1522e7ffeac69e15100550a78338694296a22c11",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f7a9d37d_dddd357d",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 33002
      },
      "writtenOn": "2023-10-12T12:53:54Z",
      "side": 1,
      "message": "Change in this CL looks good.",
      "revId": "1522e7ffeac69e15100550a78338694296a22c11",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f4126f1c_f5d72d5d",
        "filename": "aom_dsp/flow_estimation/corner_detect.c",
        "patchSetId": 2
      },
      "lineNbr": 56,
      "author": {
        "id": 29052
      },
      "writtenOn": "2023-10-12T14:03:11Z",
      "side": 1,
      "message": "After this change, a return value of 0 always means \"nothing went wrong, but we didn\u0027t find any corners\". So this \"if\" branch can be safely removed, as the following branch (if num_corners \u003c\u003d MAX_CORNERS) can handle 0 corners just fine.",
      "range": {
        "startLine": 54,
        "startChar": 0,
        "endLine": 56,
        "endChar": 29
      },
      "revId": "1522e7ffeac69e15100550a78338694296a22c11",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "942cb860_4ef05ddc",
        "filename": "aom_dsp/flow_estimation/corner_detect.c",
        "patchSetId": 2
      },
      "lineNbr": 56,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-10-12T15:12:59Z",
      "side": 1,
      "message": "Done. If nothing went wrong but we didn\u0027t find any corners, we get a null `frame_corners_xy` and a zero `num_corners`. Since it is undefined behavior to pass a null pointer to `memcpy()` (even when the number of bytes is 0), I am guarding the `memcpy()` call with `if (num_corners !\u003d 0)`.\n\nhttps://en.cppreference.com/w/c/string/byte/memcpy",
      "parentUuid": "f4126f1c_f5d72d5d",
      "range": {
        "startLine": 54,
        "startChar": 0,
        "endLine": 56,
        "endChar": 29
      },
      "revId": "1522e7ffeac69e15100550a78338694296a22c11",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7c42d966_4008d942",
        "filename": "aom_dsp/flow_estimation/corner_detect.c",
        "patchSetId": 2
      },
      "lineNbr": 56,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-10-12T15:20:27Z",
      "side": 1,
      "message": "I converted your description of the meaning of a `num_corners` of 0 to a comment in fast.h.",
      "parentUuid": "942cb860_4ef05ddc",
      "range": {
        "startLine": 54,
        "startChar": 0,
        "endLine": 56,
        "endChar": 29
      },
      "revId": "1522e7ffeac69e15100550a78338694296a22c11",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6f99ac76_2df29f5b",
        "filename": "aom_dsp/flow_estimation/corner_detect.c",
        "patchSetId": 2
      },
      "lineNbr": 56,
      "author": {
        "id": 29052
      },
      "writtenOn": "2023-10-12T15:32:18Z",
      "side": 1,
      "message": "Oh, that\u0027s a good point about memcpy(). Thanks for sorting that out!",
      "parentUuid": "7c42d966_4008d942",
      "range": {
        "startLine": 54,
        "startChar": 0,
        "endLine": 56,
        "endChar": 29
      },
      "revId": "1522e7ffeac69e15100550a78338694296a22c11",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "960d63c4_3b9ce9c3",
        "filename": "third_party/fastfeat/nonmax.c",
        "patchSetId": 2
      },
      "lineNbr": 60,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-10-12T15:12:59Z",
      "side": 1,
      "message": "Note that if `num_corners` is 0, this function returns NULL (0) and sets `*ret_num_nonmax` to 0. This is why we need to guard the `memcpy()` call with `if (num_corners !\u003d 0)` in aom_dsp/flow_estimation/corner_detect.c.",
      "revId": "1522e7ffeac69e15100550a78338694296a22c11",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}