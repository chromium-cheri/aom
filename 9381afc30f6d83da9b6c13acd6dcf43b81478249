{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "bdb1fa00_d7bc62bf",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 26,
      "author": {
        "id": 5190
      },
      "writtenOn": "2022-09-08T06:23:21Z",
      "side": 1,
      "message": "For rtc_derf and rtc sets: can you also add the results for say speed 7 and 9 (since 7-10 will/are being used).",
      "revId": "9381afc30f6d83da9b6c13acd6dcf43b81478249",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a73eddc7_3fec3b98",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 26,
      "author": {
        "id": 5190
      },
      "writtenOn": "2022-09-08T06:39:55Z",
      "side": 1,
      "message": "For screen it\u0027s fine to only show speed 10. Good gains on screen.",
      "parentUuid": "bdb1fa00_d7bc62bf",
      "revId": "9381afc30f6d83da9b6c13acd6dcf43b81478249",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "67c90928_d5a0bbaa",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 26,
      "author": {
        "id": 5610
      },
      "writtenOn": "2022-09-08T16:17:10Z",
      "side": 1,
      "message": "I will run the other speeds yes.\n\nIt is possible that at lower rates it will tend to make metrics a bit worse but as a trade off for reducing sudden changes in q and rate spikes",
      "parentUuid": "a73eddc7_3fec3b98",
      "revId": "9381afc30f6d83da9b6c13acd6dcf43b81478249",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "50f77fb8_2f1771e8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5610
      },
      "writtenOn": "2022-09-07T14:21:38Z",
      "side": 1,
      "message": "Small change but quite a big impact. I tried various changes to the UP limit as well but they did not give consistent benefits.",
      "revId": "9381afc30f6d83da9b6c13acd6dcf43b81478249",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "46a0bebf_f73f2d68",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5610
      },
      "writtenOn": "2022-09-08T18:41:39Z",
      "side": 1,
      "message": "Except part of the reason for this change was to reduce rate spikes in non screen content such as the one you identified in tacomanvga. This change cuts the worst case rate spike on that clip by about half.",
      "tag": "mailMessageId\u003d\u003cCALRks\u003dTog-C8wh6Tc+ZvV9DU3CXZYr\u003dANNVLe3aDXMo0Ux2b1w@mail.gmail.com\u003e",
      "revId": "9381afc30f6d83da9b6c13acd6dcf43b81478249",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "36ed68d0_a7dee023",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5610
      },
      "writtenOn": "2022-09-08T18:45:32Z",
      "side": 1,
      "message": "I have just been looking again and on the slide change clip I think there are fewer spikes in general. However, the specific case after the hardest scene changes can be further improved by limiting the maximum level to 8 at high Q for screen content, though this does reduce the metrics gain.",
      "tag": "mailMessageId\u003d\u003cCALRks\u003dT2czU6i+LS_THbNr1MCHpjzWdYeqUyvSsF7B35xwuDMg@mail.gmail.com\u003e",
      "revId": "9381afc30f6d83da9b6c13acd6dcf43b81478249",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fd189097_dd2605d7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 5190
      },
      "writtenOn": "2022-09-08T19:23:53Z",
      "side": 1,
      "message": "Agree there were fewer spikes after the easy slide change, but more spikes after the hard slide change. So the lower Q behavior looks good (except for the undershoot in some cases), but I would prefer to limit the maximum level to 8 or 10 for high Q, even if it hurts metrics somewhat.",
      "parentUuid": "36ed68d0_a7dee023",
      "revId": "9381afc30f6d83da9b6c13acd6dcf43b81478249",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "80d4f19e_2fb9cb67",
        "filename": "av1/encoder/ratectrl.c",
        "patchSetId": 1
      },
      "lineNbr": 450,
      "author": {
        "id": 5190
      },
      "writtenOn": "2022-09-08T16:26:10Z",
      "side": 1,
      "message": "I did have some concern about the 1 and 16 threshold. I do see worse rate-targeting on rtc_screen (undershoot in some clips), and more spikes after hard scene change (in slidechanges). Wondering if we should adjust these nunbers.",
      "revId": "9381afc30f6d83da9b6c13acd6dcf43b81478249",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1531b64f_f9050dfb",
        "filename": "av1/encoder/ratectrl.c",
        "patchSetId": 1
      },
      "lineNbr": 450,
      "author": {
        "id": 5190
      },
      "writtenOn": "2022-09-08T17:12:40Z",
      "side": 1,
      "message": "also we can make them dependent on screen vs video mode?",
      "parentUuid": "80d4f19e_2fb9cb67",
      "revId": "9381afc30f6d83da9b6c13acd6dcf43b81478249",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9a1358d6_5e287938",
        "filename": "av1/encoder/ratectrl.c",
        "patchSetId": 1
      },
      "lineNbr": 450,
      "author": {
        "id": 5610
      },
      "writtenOn": "2022-09-12T13:03:08Z",
      "side": 1,
      "message": "It is debatable whether on truly static screen content undershoot matters all that much. For example the clip where the rate is half but the psnr actually better. Spending more bits for a worse metrics outcome on static content seems silly. Re the non screen content part of the reason for this change was a non screen clip where there was a large spike (which this cuts by half) and the non screen content which is not static does not suffer the undershoot in the same way. Here it is just a trade off of fewer big spikes for a small metrics hit.",
      "parentUuid": "1531b64f_f9050dfb",
      "revId": "9381afc30f6d83da9b6c13acd6dcf43b81478249",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "137367d1_499649fe",
        "filename": "av1/encoder/ratectrl.c",
        "patchSetId": 1
      },
      "lineNbr": 450,
      "author": {
        "id": 5190
      },
      "writtenOn": "2022-09-12T19:42:18Z",
      "side": 1,
      "message": "I\u0027m fine with keeping this for non-screen; was only wondering if there is some bdrate regression we want to avoid for rtc/rtc_derf (for speeds 7-10) then we can condition the thresholds on screen/non-screen.",
      "parentUuid": "9a1358d6_5e287938",
      "revId": "9381afc30f6d83da9b6c13acd6dcf43b81478249",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}