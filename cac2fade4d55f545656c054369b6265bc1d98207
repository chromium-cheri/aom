{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "ce6e1f2f_62db6b1e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5185
      },
      "writtenOn": "2021-03-24T16:18:09Z",
      "side": 1,
      "message": "Sorry I missed this CL. Could you verify that speed feature setting functions are called before first pass starts? Looks like this CL shouldn\u0027t cause any stats change?",
      "revId": "cac2fade4d55f545656c054369b6265bc1d98207",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2bee4c21_325f3ac3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 9823
      },
      "writtenOn": "2021-03-24T18:26:56Z",
      "side": 1,
      "message": "I think firstpass does set the speed features correctly, but it\u0027s indirect.\n\nWhen the function encoder_encode under av1/av1_cx_iface.c is called, it will call av1_check_initial_width to verify that the dimensions are set. But the first time it\u0027s called, cpi-\u003einitial_dimensions has not been set yet, so it will update it and call av1_set_speed_features_framesize_independent and av1_set_speed_features_framesize_dependent to update the speed feature settings. \n\nThis is quite confusing, so we could have an explicit call to set the speed features in av1_first_pass if you want.\n\nI do not expect any STATS_CHANGED and did not observe in from the testclips.",
      "parentUuid": "ce6e1f2f_62db6b1e",
      "revId": "cac2fade4d55f545656c054369b6265bc1d98207",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}