{
  "comments": [
    {
      "key": {
        "uuid": "2963c635_b5ad7892",
        "filename": "av1/encoder/pass2_strategy.c",
        "patchSetId": 6
      },
      "lineNbr": 311,
      "author": {
        "id": 5290
      },
      "writtenOn": "2020-03-20T18:42:03Z",
      "side": 1,
      "message": "Don\u0027t use const for pass-by-value args.\n(Only use it for pass by pointer args)\n\nHere and throughout the patch",
      "range": {
        "startLine": 311,
        "startChar": 38,
        "endLine": 311,
        "endChar": 43
      },
      "revId": "5da40829b2438d2d535aa18c84581f61d8e05b40",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "20e580a7_101101e0",
        "filename": "av1/encoder/pass2_strategy.c",
        "patchSetId": 6
      },
      "lineNbr": 311,
      "author": {
        "id": 6585
      },
      "writtenOn": "2020-03-20T19:01:56Z",
      "side": 1,
      "message": "I think it\u0027s OK (and I prefer const) since we know it is not changed in this function.\nAnd it will benefit us in many ways.\nAnd that\u0027s what we do for libgav1.",
      "parentUuid": "2963c635_b5ad7892",
      "range": {
        "startLine": 311,
        "startChar": 38,
        "endLine": 311,
        "endChar": 43
      },
      "revId": "5da40829b2438d2d535aa18c84581f61d8e05b40",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "64f99422_cf216b9e",
        "filename": "av1/encoder/pass2_strategy.c",
        "patchSetId": 6
      },
      "lineNbr": 311,
      "author": {
        "id": 5290
      },
      "writtenOn": "2020-03-20T20:43:20Z",
      "side": 1,
      "message": "This comes from: https://google.github.io/styleguide/cppguide.html#Use_of_const\n\"For a function parameter passed by value, const has no effect on the caller, thus is not recommended in function declarations\"\n\nSee also:\nThe doc we put together during AV1 development based on discussions with team:\nhttps://docs.google.com/document/d/1yXWM-LtZ2BEHjFK6U-c0sQFY_U3QgqevSUGhIwa9Iv0/edit#heading\u003dh.d4ssq5p1os7d\n\nHowever, if this is really useful, I\u0027m not against this, but then we should change the recommendation in our doc, and be consistent about the same.",
      "parentUuid": "20e580a7_101101e0",
      "range": {
        "startLine": 311,
        "startChar": 38,
        "endLine": 311,
        "endChar": 43
      },
      "revId": "5da40829b2438d2d535aa18c84581f61d8e05b40",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a42d66d9_ac2a4520",
        "filename": "av1/encoder/pass2_strategy.c",
        "patchSetId": 6
      },
      "lineNbr": 311,
      "author": {
        "id": 6585
      },
      "writtenOn": "2020-03-20T21:32:30Z",
      "side": 1,
      "message": "const is not recommended in declaration, but can be used in definitions (here).\nI think you\u0027re right, if we already have the guideline doc, we should follow it. Thanks.",
      "parentUuid": "64f99422_cf216b9e",
      "range": {
        "startLine": 311,
        "startChar": 38,
        "endLine": 311,
        "endChar": 43
      },
      "revId": "5da40829b2438d2d535aa18c84581f61d8e05b40",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "37885ead_94c3da94",
        "filename": "av1/encoder/pass2_strategy.c",
        "patchSetId": 6
      },
      "lineNbr": 311,
      "author": {
        "id": 7525
      },
      "writtenOn": "2020-03-20T21:44:23Z",
      "side": 1,
      "message": "Note this is not a function declaration, but a function definition. In function declarations const would have no use at all since compilers will just ignore it, but in function definition it does constrain that the parameter cannot change its value, which I also think overall helps with readability. \n\nThis does not go on contradictory to our guide as well. Although it is not required, it does help with the rationale that it is \"easier for a reader to understand if a variable is being modified by the function / in current scope etc.\" \n\nWith that being said, though, I do notice mixed usage of this (but more cases without const for sure) in our codebase. IMO I think it would be OK to have those const there, but I am very open to removing this (doesn\u0027t cause that much of a difference). Please do let me know your thoughts on this.",
      "parentUuid": "64f99422_cf216b9e",
      "range": {
        "startLine": 311,
        "startChar": 38,
        "endLine": 311,
        "endChar": 43
      },
      "revId": "5da40829b2438d2d535aa18c84581f61d8e05b40",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    }
  ]
}