{
  "comments": [
    {
      "key": {
        "uuid": "bb4fd426_b8fd48c4",
        "filename": "av1/decoder/decodemv.c",
        "patchSetId": 26
      },
      "lineNbr": 2769,
      "author": {
        "id": 5035
      },
      "writtenOn": "2017-10-27T22:23:59Z",
      "side": 1,
      "message": "Can you help me understand why it decode segment id twice?\nOne for mbmi-\u003esegment_id  and another below with  mbmi-\u003eq_segment_id \u003d read_q_segment_id(..)?\n\nI think those two segmemt_id have the same value for the current partition?",
      "revId": "716d10b0d3c01f47cf0701357a9c391a52f0f971",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a9087b11_c84eafd7",
        "filename": "av1/encoder/bitstream.c",
        "patchSetId": 26
      },
      "lineNbr": 1574,
      "author": {
        "id": 5035
      },
      "writtenOn": "2017-10-27T22:23:59Z",
      "side": 1,
      "message": "Similar question as in decodemv.c.\nWondering why write_segment_id() is still called here and below?\nIf q_segmentation is turned on, can we just simply disble the block of code in line 1564-1578?\nWas it not possible because of skip flag?",
      "revId": "716d10b0d3c01f47cf0701357a9c391a52f0f971",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ece8f066_6f28a41f",
        "filename": "av1/encoder/bitstream.c",
        "patchSetId": 26
      },
      "lineNbr": 1574,
      "author": {
        "id": 6510
      },
      "writtenOn": "2017-10-27T22:32:04Z",
      "side": 1,
      "message": "No, q segmentation is completely separate from segmentation, they only share a name and a structure. We can\u0027t really avoid it, because we\u0027d like to avoid signalling segments on skips and if we do, we miss out on most other features segments provide.\nq segmentation is also disabled if any regular segmentation index has the ALT_Q feature enabled.",
      "parentUuid": "a9087b11_c84eafd7",
      "revId": "716d10b0d3c01f47cf0701357a9c391a52f0f971",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0aef5370_1aecee7a",
        "filename": "av1/encoder/encodeframe.c",
        "patchSetId": 26
      },
      "lineNbr": 301,
      "author": {
        "id": 5035
      },
      "writtenOn": "2017-10-27T23:40:11Z",
      "side": 1,
      "message": "Not sure setting q_segment_id is only done here, also this scope is for aq_mode !\u003d 1 ?\nI believe better place would be the end of rd_pick_sb_modes(), where seg_id is determined based on aq_mode?",
      "revId": "716d10b0d3c01f47cf0701357a9c391a52f0f971",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "81ccd294_963e02c0",
        "filename": "av1/encoder/encodeframe.c",
        "patchSetId": 26
      },
      "lineNbr": 301,
      "author": {
        "id": 6510
      },
      "writtenOn": "2017-10-28T00:20:13Z",
      "side": 1,
      "message": "Fixed, mbmi-\u003eq_segment_id is only set now in case seg-\u003eq_lvls are more than 0.\nAlso, av1_init_plane_quantizers is only called in case segmentation is enabled or q_segmentation is enabled.",
      "parentUuid": "0aef5370_1aecee7a",
      "revId": "716d10b0d3c01f47cf0701357a9c391a52f0f971",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    }
  ]
}