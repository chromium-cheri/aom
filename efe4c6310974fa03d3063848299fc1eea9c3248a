{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "b71bc011_7c7e5b29",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 25857
      },
      "writtenOn": "2022-04-13T17:59:58Z",
      "side": 1,
      "message": "Hi Wan-Teh, Frank,\n\nAs per our study, the global tables related to wedge mask and min_q in rate control are not required for allintra, AOM_Q encode. In this CL we have avoided the initialization of these tables for the above use-case.\n\nWe have verified the CL with multiple instances of encoder. For example in case of allintra encoding mode followed by good encoding mode, we observed that only those lookup tables that are not initialized during the first encoder instance were getting initialized during the second encoder instance. \n\nFor AVIF still-image encode speed\u003d9 and threads\u003d4,\n\n Resolution     Encode time\n                reduction(%)\n 640x360           3.18\n 768x512           2.31\n 832x480           1.83\n 1280x720          3.89\n 4032x3024         1.06\n\nFor libaom AV1 video encode, bit-match is verified (w.r.t. parent commit) for \u0027GOOD\u0027, \u0027RT\u0027 and \u0027ALLINTRA\u0027 encoding modes for a few contents with different encoding configurations. It was also verified that the output of AVIF encode is bit-exact w.r.t. parent version for a typical image dataset.\n\nPlease review.\n\nRegards,\nMudassir.\n",
      "revId": "efe4c6310974fa03d3063848299fc1eea9c3248a",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "af854075_c43a4072",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-04-13T20:33:05Z",
      "side": 1,
      "message": "Mudassir: Thank you for the CL.",
      "revId": "efe4c6310974fa03d3063848299fc1eea9c3248a",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ccbec201_76bf8865",
        "filename": "av1/av1_cx_iface.c",
        "patchSetId": 3
      },
      "lineNbr": 2546,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-04-13T20:33:05Z",
      "side": 1,
      "message": "Nit: I suggest we pass priv-\u003ecfg.g_usage and priv-\u003ecfg.rc_end_usage as parameters to av1_initialize_enc(). I think the code will be more readable.",
      "revId": "efe4c6310974fa03d3063848299fc1eea9c3248a",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5a7e1e64_5dce8f21",
        "filename": "av1/av1_cx_iface.c",
        "patchSetId": 3
      },
      "lineNbr": 2546,
      "author": {
        "id": 25857
      },
      "writtenOn": "2022-04-18T15:41:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ccbec201_76bf8865",
      "revId": "efe4c6310974fa03d3063848299fc1eea9c3248a",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d1e82de8_87831689",
        "filename": "av1/encoder/encoder.c",
        "patchSetId": 3
      },
      "lineNbr": 202,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-04-13T20:37:52Z",
      "side": 1,
      "message": "Optional: An alternative approach is to move the av1_rc_init_minq_luts() and av1_init_wedge_masks() calls to the functions that use these two lookup tables. If the number of such functions is small, this could be easier to understand.",
      "revId": "efe4c6310974fa03d3063848299fc1eea9c3248a",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3def6875_7451dc7a",
        "filename": "av1/encoder/encoder.c",
        "patchSetId": 3
      },
      "lineNbr": 202,
      "author": {
        "id": 25857
      },
      "writtenOn": "2022-04-18T15:41:47Z",
      "side": 1,
      "message": "These look-up table initializations required specific handling for different encoder configurations and are being accessed from many functions. Hence, we felt it would be cleaner to keep these initializations inside av1_initialize_enc() itself.",
      "parentUuid": "d1e82de8_87831689",
      "revId": "efe4c6310974fa03d3063848299fc1eea9c3248a",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}