{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "776faee4_1520888b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 11
      },
      "lineNbr": 0,
      "author": {
        "id": 13265
      },
      "writtenOn": "2020-12-30T11:50:52Z",
      "side": 1,
      "message": "Hi Yunqing,\n\nIn this patch, we have modified the multi-thread allocations for different modules so as to facilitate the independent derivation of number of workers for each MT module. Specifically, the following key changes are done.\n1. An array num_mod_workers[] is created inside MultiThreadInfo to store the number of workers needed for each MT module.\n2. The thread data specific to each MT module is allocated based on the workers needed for that module.\n3. The number of threads created for MT encode is based on the maximum value of num_mod_workers[] array (i.e., based on the module that will need the highest no. of threads).\n4. The relevant changes are done to the thread creation functions and associated initializations.\n\nPlease note that this is a facilitation patch and does not change the actual number of workers created for a module, hence it is a bit-exact change with no speed impact (verified locally).\n\nPlease review the patch.\n\nRegards,\nNithya",
      "revId": "1ee83becfe4f8f2809ee6f31c68cee7ddc7e9259",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}