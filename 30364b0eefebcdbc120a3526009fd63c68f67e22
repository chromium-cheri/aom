{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "2b09eebe_10fa071a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 11,
      "author": {
        "id": 9545
      },
      "writtenOn": "2021-03-23T22:25:40Z",
      "side": 1,
      "message": "Hi Mufaddal,\n\nJingning told me this CL is the first of a series of CL. I suggest we file a bug and link all the related CLs to that bug.",
      "revId": "30364b0eefebcdbc120a3526009fd63c68f67e22",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "366153ce_a0f75133",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 11,
      "author": {
        "id": 5185
      },
      "writtenOn": "2021-03-24T05:29:39Z",
      "side": 1,
      "message": "Actually this isn\u0027t the first CL. Several CLs were already merged in. The refactoring work has been well planned (please see my email). Not sure how filing a bug would be helpful?",
      "parentUuid": "2b09eebe_10fa071a",
      "revId": "30364b0eefebcdbc120a3526009fd63c68f67e22",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "40083056_9a660de1",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 11,
      "author": {
        "id": 5020
      },
      "writtenOn": "2021-03-25T02:45:10Z",
      "side": 1,
      "message": "\u003e Actually this isn\u0027t the first CL. Several CLs were already merged in. The refactoring work has been well planned (please see my email). Not sure how filing a bug would be helpful?\n\nIt\u0027s a matter of preference, but I think it can be useful to be able to aggregate the work, track the progression and sum up the goals for others watching the repository.",
      "parentUuid": "366153ce_a0f75133",
      "revId": "30364b0eefebcdbc120a3526009fd63c68f67e22",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "684346ab_b4077b8b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 11,
      "author": {
        "id": 5185
      },
      "writtenOn": "2021-03-25T05:43:09Z",
      "side": 1,
      "message": "Yes, I agree that this can be done if the developer prefers. Kind of feel that using the issue tracker to keep track of development is not using it for the right purpose. Just my thoughts. Anyway, this is beyond the scope of this CL.",
      "parentUuid": "40083056_9a660de1",
      "revId": "30364b0eefebcdbc120a3526009fd63c68f67e22",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7514104f_e1d86d62",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 15075
      },
      "writtenOn": "2021-03-22T09:26:20Z",
      "side": 1,
      "message": "Hi Yunqing,\nThis patch moves the element gf_group-\u003eindex from GF_GROUP to AV1_COMP(cpi). This is because while the frames in a sub-gop will share the gf_group structure, each of them will have a unique index inside the gf_group. Thus, this element stays in the frame context(cpi).\n\nThis change is bit-exact and has been locally verified with bitstream match tests over a combination of various configuration values for --threads, --tile-rows, --tile-columns, --cpu-used, --end-usage, --row-mt, etc. \n\nPlease review.",
      "revId": "30364b0eefebcdbc120a3526009fd63c68f67e22",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3bd9954d_9ef14923",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 9545
      },
      "writtenOn": "2021-03-23T19:00:08Z",
      "side": 1,
      "message": "Jingning: I am not sure why you asked me to review this CL. I am not familiar with the GF_GROUP struct.\n\nMufaddal: I read the entire CL carefully and believe it is correct. But I am afraid that I don\u0027t understand why this change is needed. Please see my comment at av1/encoder/encoder.h:2357.",
      "revId": "30364b0eefebcdbc120a3526009fd63c68f67e22",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cd202529_e839ecb3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 9545
      },
      "writtenOn": "2021-03-23T19:00:08Z",
      "side": 1,
      "message": "Hi Mufaddal,\n\nYour comment contains important information about this CL. I suggest moving at least the first paragraph to the commit message because it explains why this struct member should be moved.\n\nI have to admit I don\u0027t understand the explanation, but I am still new to the encoder code in libaom.",
      "parentUuid": "7514104f_e1d86d62",
      "revId": "30364b0eefebcdbc120a3526009fd63c68f67e22",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f6eb7022_be6765f2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 5185
      },
      "writtenOn": "2021-03-23T23:42:34Z",
      "side": 1,
      "message": "Hi Wan-Teh, I sent out an email this morning to explain the purpose of the refactoring and the plan. Hope that could help you understand why this change is needed.",
      "parentUuid": "cd202529_e839ecb3",
      "revId": "30364b0eefebcdbc120a3526009fd63c68f67e22",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "22da3d2f_96831a4a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 15075
      },
      "writtenOn": "2021-03-24T17:51:59Z",
      "side": 1,
      "message": "Wan-Teh,\nI have addressed this at av1/encoder/encoder.h:2357. Please check.",
      "parentUuid": "3bd9954d_9ef14923",
      "revId": "30364b0eefebcdbc120a3526009fd63c68f67e22",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "be16c463_41c8f4c1",
        "filename": "av1/encoder/encode_strategy.c",
        "patchSetId": 3
      },
      "lineNbr": 170,
      "author": {
        "id": 9545
      },
      "writtenOn": "2021-03-23T19:00:08Z",
      "side": 1,
      "message": "Nit: The function name and the comment mention \"the gf group index\", which refers to the old name \"gf_group.index\". The function name and comment probably should be updated to reflect the new name \"cur_gf_index\".\n\nAlternatively, we can rename the field \"cur_gf_group_index\" or \"gf_group_index\". I don\u0027t really understand this code, so the names I suggested may be incorrect.",
      "range": {
        "startLine": 169,
        "startChar": 0,
        "endLine": 170,
        "endChar": 59
      },
      "revId": "30364b0eefebcdbc120a3526009fd63c68f67e22",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f25a4da7_6b46bf49",
        "filename": "av1/encoder/encode_strategy.c",
        "patchSetId": 3
      },
      "lineNbr": 170,
      "author": {
        "id": 15075
      },
      "writtenOn": "2021-03-24T17:51:59Z",
      "side": 1,
      "message": "We have changed the variable name to gf_frame_index for clarity.",
      "parentUuid": "be16c463_41c8f4c1",
      "range": {
        "startLine": 169,
        "startChar": 0,
        "endLine": 170,
        "endChar": 59
      },
      "revId": "30364b0eefebcdbc120a3526009fd63c68f67e22",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bd17a112_fea5f3c3",
        "filename": "av1/encoder/encoder.h",
        "patchSetId": 3
      },
      "lineNbr": 2357,
      "author": {
        "id": 9545
      },
      "writtenOn": "2021-03-23T19:00:08Z",
      "side": 1,
      "message": "Mufaddal: Code Search shows that this field is the only place where the GF_GROUP struct is allocated. If so, then changing cpi-\u003egf_group.index to cpi-\u003ecur_gf_index is merely a syntactic change and does not really change anything.\n\nAre you planning to allocate the GF_GROUP struct in other places after this CL?",
      "revId": "30364b0eefebcdbc120a3526009fd63c68f67e22",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e86a2fb1_0bdd4dae",
        "filename": "av1/encoder/encoder.h",
        "patchSetId": 3
      },
      "lineNbr": 2357,
      "author": {
        "id": 15075
      },
      "writtenOn": "2021-03-24T17:51:59Z",
      "side": 1,
      "message": "Yes, we are planning to move the variable gf_group to the primary context(ppi), while retaining cur_gf_index(now gf_frame_index) in the frame level context(cpi). This is because the index of each frame will be unique in the gf_group and thus must be saved in the frame context. However, the values in gf_group are decided for the sub-gop and hence can be stored in the primary context, thus making it common to all frame level contexts.",
      "parentUuid": "bd17a112_fea5f3c3",
      "revId": "30364b0eefebcdbc120a3526009fd63c68f67e22",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "14e8a659_a823b6b4",
        "filename": "av1/encoder/encoder.h",
        "patchSetId": 3
      },
      "lineNbr": 3241,
      "author": {
        "id": 9545
      },
      "writtenOn": "2021-03-23T19:00:08Z",
      "side": 1,
      "message": "Are you planning to pass an \u0027index\u0027 argument that is not cpi-\u003ecur_gf_index in the future?",
      "revId": "30364b0eefebcdbc120a3526009fd63c68f67e22",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2eaabf78_b0e207c1",
        "filename": "av1/encoder/encoder.h",
        "patchSetId": 3
      },
      "lineNbr": 3241,
      "author": {
        "id": 15075
      },
      "writtenOn": "2021-03-24T17:51:59Z",
      "side": 1,
      "message": "No, we are not planning to pass a value other than cur_gf_index(now gf_frame_index) in the future. We have renamed this variable to gf_frame_index for clarity.",
      "parentUuid": "14e8a659_a823b6b4",
      "revId": "30364b0eefebcdbc120a3526009fd63c68f67e22",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}