{
  "comments": [
    {
      "key": {
        "uuid": "4f44e0bf_18b6555c",
        "filename": "av1/common/cnn.c",
        "patchSetId": 4
      },
      "lineNbr": 82,
      "author": {
        "id": 5290
      },
      "writtenOn": "2019-03-08T17:13:29Z",
      "side": 1,
      "message": "aom_malloc?",
      "range": {
        "startLine": 82,
        "startChar": 27,
        "endLine": 82,
        "endChar": 33
      },
      "revId": "3f977b640a57760a4502e69f0cec903f251f216b",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "89f04701_59748dd6",
        "filename": "av1/common/cnn.c",
        "patchSetId": 4
      },
      "lineNbr": 82,
      "author": {
        "id": 5189
      },
      "writtenOn": "2019-03-08T18:28:14Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4f44e0bf_18b6555c",
      "range": {
        "startLine": 82,
        "startChar": 27,
        "endLine": 82,
        "endChar": 33
      },
      "revId": "3f977b640a57760a4502e69f0cec903f251f216b",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "180bcb23_3dea1547",
        "filename": "av1/common/cnn.c",
        "patchSetId": 4
      },
      "lineNbr": 85,
      "author": {
        "id": 5290
      },
      "writtenOn": "2019-03-08T17:13:29Z",
      "side": 1,
      "message": "It was a bit confusing to me that:\n- buf2[0] is being allocated the full size of \u0027buf2\u0027, the 2D array, and the rest of the indices are just pointers inside it.\n- And also, at the end buf1[0] is freed (and not buf2[0]) -- because the pointers are swapped by then I believe?\n\nIn any case, it may be much easier to read and also safe from potential bugs if:\n- We have a separate pointer that\u0027s allocated \"float* mem \u003d aom_malloc(....\"\n- Then buf2 indices are all pointers into it,\n- And finally, the same \u0027mem\u0027 is freed",
      "range": {
        "startLine": 85,
        "startChar": 0,
        "endLine": 85,
        "endChar": 53
      },
      "revId": "3f977b640a57760a4502e69f0cec903f251f216b",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "db106b2f_9c6630c2",
        "filename": "av1/common/cnn.c",
        "patchSetId": 4
      },
      "lineNbr": 85,
      "author": {
        "id": 5189
      },
      "writtenOn": "2019-03-08T18:28:14Z",
      "side": 1,
      "message": "We need to have two buffers - mem1 and mem2. So in the end I do not think it will be any easier to read. I have added some comments to make it easier.",
      "parentUuid": "180bcb23_3dea1547",
      "range": {
        "startLine": 85,
        "startChar": 0,
        "endLine": 85,
        "endChar": 53
      },
      "revId": "3f977b640a57760a4502e69f0cec903f251f216b",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9fb71255_8df774ed",
        "filename": "av1/common/cnn.c",
        "patchSetId": 4
      },
      "lineNbr": 106,
      "author": {
        "id": 5290
      },
      "writtenOn": "2019-03-08T17:13:29Z",
      "side": 1,
      "message": "aom_realloc?",
      "range": {
        "startLine": 106,
        "startChar": 27,
        "endLine": 106,
        "endChar": 34
      },
      "revId": "3f977b640a57760a4502e69f0cec903f251f216b",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5cec0af5_78fef5bb",
        "filename": "av1/common/cnn.c",
        "patchSetId": 4
      },
      "lineNbr": 106,
      "author": {
        "id": 5189
      },
      "writtenOn": "2019-03-08T18:28:14Z",
      "side": 1,
      "message": "There is no aom_realloc(). So I am managing the allocations myself in the latest patch.",
      "parentUuid": "9fb71255_8df774ed",
      "range": {
        "startLine": 106,
        "startChar": 27,
        "endLine": 106,
        "endChar": 34
      },
      "revId": "3f977b640a57760a4502e69f0cec903f251f216b",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    }
  ]
}