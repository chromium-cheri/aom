{
  "comments": [
    {
      "key": {
        "uuid": "713a851b_475e5ea8",
        "filename": "av1/encoder/rdopt.c",
        "patchSetId": 2
      },
      "lineNbr": 2249,
      "author": {
        "id": 5185
      },
      "writtenOn": "2020-05-05T22:07:56Z",
      "side": 1,
      "message": "Can this( best_mbmi-\u003emv[0].as_int \u003d\u003d ref_mv.as_int) also happen when skip\u003d1?",
      "range": {
        "startLine": 2249,
        "startChar": 10,
        "endLine": 2249,
        "endChar": 19
      },
      "revId": "5946c76270823e5a4a0e2675829f4beceaff63c2",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "989b9daa_a4b56567",
        "filename": "av1/encoder/rdopt.c",
        "patchSetId": 2
      },
      "lineNbr": 2249,
      "author": {
        "id": 9823
      },
      "writtenOn": "2020-05-06T00:04:03Z",
      "side": 1,
      "message": "When skip \u003d\u003d 1, we are not modifying best_mbmi, so we won\u0027t have best_mbmi-\u003emv[0].as_int \u003d\u003d ref_mv.as_int.",
      "parentUuid": "713a851b_475e5ea8",
      "range": {
        "startLine": 2249,
        "startChar": 10,
        "endLine": 2249,
        "endChar": 19
      },
      "revId": "5946c76270823e5a4a0e2675829f4beceaff63c2",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d21609b3_7b9fdda5",
        "filename": "av1/encoder/rdopt.c",
        "patchSetId": 2
      },
      "lineNbr": 2264,
      "author": {
        "id": 5185
      },
      "writtenOn": "2020-05-05T22:07:56Z",
      "side": 1,
      "message": "Not sure I understand this change well. if (best_mbmi-\u003emv[0].as_int \u003d\u003d ref_mv.as_int) and (mode_info[i].mv.as_int !\u003d ref_mv.as_int),use mode_info[i].mv as best_mbmi-\u003emv[0] should be fine, right?",
      "range": {
        "startLine": 2264,
        "startChar": 14,
        "endLine": 2264,
        "endChar": 54
      },
      "revId": "5946c76270823e5a4a0e2675829f4beceaff63c2",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a834b92d_a6145391",
        "filename": "av1/encoder/rdopt.c",
        "patchSetId": 2
      },
      "lineNbr": 2264,
      "author": {
        "id": 9823
      },
      "writtenOn": "2020-05-06T00:04:03Z",
      "side": 1,
      "message": "You meant if (best_mbmi-\u003emv[0].as_int !\u003d ref_mv.as_int) not (best_mbmi-\u003emv[0].as_int \u003d\u003d ref_mv.as_int) right?\n\nRight now the mv stored in mode_info[i].mv is generally worse than best_mbmi-\u003emv[0]. The reason is that we can update both ref_best_rd and best_mbmi here. Later in the search done by handle_intermode, we will not be able to find the same mode-mv combination because the new rd will be the same as ref_best_mv, and we only update the mv in mode_info if new_rd \u003c ref_best_mv.\n\nI\u0027m trying a couple changes to keep best_mbmi-\u003emv[0] and mode_info[i].mv the same, but so far I\u0027m seeing a slight loss instead of neutral coding performance like this CL.",
      "parentUuid": "d21609b3_7b9fdda5",
      "range": {
        "startLine": 2264,
        "startChar": 14,
        "endLine": 2264,
        "endChar": 54
      },
      "revId": "5946c76270823e5a4a0e2675829f4beceaff63c2",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    }
  ]
}