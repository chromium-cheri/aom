{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "bbe9ba90_2e3c00bd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 29295
      },
      "writtenOn": "2022-10-13T14:03:19Z",
      "side": 1,
      "message": "Hi Yunqing, Marco,\n\nWe have been doing some study on interpolation filter search and it turns out that the sf cb_pred_filter_search is not performing well for RT cpu 8-10. A basic study indicates that this logic may not be effective for smaller blocks since they are likely to have a higher variation and the need to accurately pick regular vs smooth subpel filter. It may also depend on properties such as the source variance and block SAD. \n\nBased on this and the below results, we have disabled the sf for now. We plan to study this further. Please let me know if this approach sounds good to you.\n\nOut of 28 rtc clips,\n```\ncpu 8,  27 clips gaining quality, 1 losing\ncpu 9,  26 clips gaining quality, 2 losing\ncpu 10, 26 clips gaining quality, 2 losing.\n```\n\nThe worst/best cases are:\n```\ncpu     Case    Content            BD-Rate Drop (%)             Instr. Count  \n                               avg. psnr    ovr.psnr     ssim   Reduction(%)\n -----\t\t\t\t\t\t\t   \n 8    Worst    mmstionaryvga      0.5475     0.5212     0.7792    -2.00\n 9    Worst     gipsrestat720p    0.3035     0.3101     0.0011    -2.72\n 10   Worst     jimredvga_25fps   0.3149     0.3237    -0.0923    -1.76\n -----\n 8    Best     street360p        -1.4731    -1.4732    -1.1496    -3.57\n 9    Best     kirlandvga        -2.2318    -1.9905    -4.5588    -1.19\n 10   Best     street360p        -1.9529    -1.9164    -1.7295    -3.84\n```\n\nThe instruction count reduction specified has been measured using command:\n```\n$ perf stat -e instructions:u ./aomenc â€¦\n```\n\nRegards,\nNeeraj",
      "revId": "40fff43f42419a9f041c99bb8c3405fdafecf7a4",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "173e9e7c_25cf9dff",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5185
      },
      "writtenOn": "2022-10-14T16:17:25Z",
      "side": 1,
      "message": "This CL disabled the using of this feature in RTC. Though it caused slight BDrate drop for screen content, probably it is still good to handle this altogether.",
      "parentUuid": "bbe9ba90_2e3c00bd",
      "revId": "40fff43f42419a9f041c99bb8c3405fdafecf7a4",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "00392799_5d331b86",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5190
      },
      "writtenOn": "2022-10-14T16:29:00Z",
      "side": 1,
      "message": "I would prefer to keep this on for speed 10, since rather not to lose ~2% speed there, unless this has visual improvement from it.",
      "parentUuid": "173e9e7c_25cf9dff",
      "revId": "40fff43f42419a9f041c99bb8c3405fdafecf7a4",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b89069d8_78676ddf",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5190
      },
      "writtenOn": "2022-10-14T19:12:35Z",
      "side": 1,
      "message": "I\u0027m fine with keeping it disabled for now on speed 10, but try to look into getting some speed/fps back for the speed 10 case (maybe by conditioning selection on bsize or content,...).",
      "parentUuid": "00392799_5d331b86",
      "revId": "40fff43f42419a9f041c99bb8c3405fdafecf7a4",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ],
  "submitRequirementResults": [
    {
      "submitRequirement": {
        "name": "Code-Review",
        "description": {
          "value": "At least one maximum vote for label \u0027Code-Review\u0027 is required"
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Code-Review\u003dMAX,user\u003dnon_uploader AND -label:Code-Review\u003dMIN"
        },
        "overrideExpression": {
          "value": {
            "expressionString": "label:Bot-Commit\u003d+1"
          }
        },
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Code-Review=MAX,user=non_uploader AND -label:Code-Review=MIN"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["label:Code-Review=MAX,user=non_uploader"],"failingAtoms":["label:Code-Review=MIN"]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"label:Bot-Commit=+1"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Bot-Commit=+1"]}
      },
      "patchSetCommitId": "40fff43f42419a9f041c99bb8c3405fdafecf7a4",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Review-Enforcement",
        "description": {
          "value": "Two Google employees must approve the change. Uploading the change or voting positively on Code-Review count as approval."
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "is:review-enforced_gerrit"
          }
        },
        "submittabilityExpression": {
          "expressionString": "is:review-enforcement-satisfied_gerrit"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforced_gerrit"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["is:review-enforced_gerrit"],"failingAtoms":[]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforcement-satisfied_gerrit"},"status":"NOT_EVALUATED","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":[]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforced_gerrit"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["is:review-enforcement-satisfied_gerrit"]}
      },
      "patchSetCommitId": "40fff43f42419a9f041c99bb8c3405fdafecf7a4",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {
        "value": true
      }
    },
    {
      "submitRequirement": {
        "name": "Verified",
        "description": {
          "value": "CI or human verified the change"
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Verified\u003dMAX AND -label:Verified\u003dMIN"
        },
        "overrideExpression": {
          "value": {
            "expressionString": "label:Bot-Commit\u003d+1"
          }
        },
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Verified=MAX AND -label:Verified=MIN"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["label:Verified=MAX"],"failingAtoms":["label:Verified=MIN"]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"label:Bot-Commit=+1"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Bot-Commit=+1"]}
      },
      "patchSetCommitId": "40fff43f42419a9f041c99bb8c3405fdafecf7a4",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    }
  ]
}