{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "ac2aa6a2_5be400da",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 9616
      },
      "writtenOn": "2021-11-25T18:43:19Z",
      "side": 1,
      "message": "Hi Yunqing,\n\nThis patch optmizes the computation of \u0027num_fp_contexts\u0027 for resolutions larger than 480p, if superblock size is 64x64, such that a parallel frame encode has 1/8th the theoretical limit of max_enc_workers. This limit was derived from empirical analysis.\n\nSo for a 1080p content, with SB size 128x128, max_num_enc_workers is 8 and hence the limit of \u00271/4th the max_num_enc_workers\u0027, enables fpmt when minimum 2 threads per frame are available. If the SB size is 64x64, max_num_enc_workers would be 15 and the limit of \u00271/8th the max_num_enc_workers\u0027 still enables fpmt when minimum 2 threads per frame are available thereby yielding the optimal performance.\n\nPlease review.\n\nRegards,\nRemya",
      "revId": "3b0fe00e7913a1aa531c781287972ac4c6643ad7",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b4076b68_18bdafb4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 5185
      },
      "writtenOn": "2021-11-29T18:54:18Z",
      "side": 1,
      "message": "Thanks for having this done. Do we have a flag to enable/disable FPMT similar to row-mt flag? So, if the user disable FPMT, the thread usage and MT performance would be exactly the same as MT prior to the introduction of FPMT. We want to ensure that.",
      "parentUuid": "ac2aa6a2_5be400da",
      "revId": "3b0fe00e7913a1aa531c781287972ac4c6643ad7",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ee20e76c_53b7f5aa",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 9616
      },
      "writtenOn": "2021-12-01T11:53:27Z",
      "side": 1,
      "message": "Sure, we shall add a flag similar to row-mt to enable/disable FPMT and submit a separate CL. Thanks.",
      "parentUuid": "b4076b68_18bdafb4",
      "revId": "3b0fe00e7913a1aa531c781287972ac4c6643ad7",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}