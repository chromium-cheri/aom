{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "48af7b18_de8a5d0f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 11
      },
      "lineNbr": 17,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-01-05T00:40:54Z",
      "side": 1,
      "message": "I suggest filing a libaom issue at https://bugs.chromium.org/p/aomedia/issues/entry, with Type-Enhancement, for this feature. Then add the following line to the commit message:\n\nBUG\u003daomedia:dddd\n\nThis will make it easier to look up the commits related to this feature.",
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "25b488f0_8d352068",
        "filename": "/COMMIT_MSG",
        "patchSetId": 11
      },
      "lineNbr": 17,
      "author": {
        "id": 26338
      },
      "writtenOn": "2022-01-06T11:26:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "48af7b18_de8a5d0f",
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a8952c21_ae6edcd6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 11
      },
      "lineNbr": 0,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-01-05T00:40:54Z",
      "side": 1,
      "message": "Luca: I suggest some changes. I am also wondering how we can test this.",
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "eb5afca1_61a65d60",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 11
      },
      "lineNbr": 0,
      "author": {
        "id": 26338
      },
      "writtenOn": "2022-01-06T11:26:28Z",
      "side": 1,
      "message": "For testing, at the moment the best thing I can think of is to test that it doesn\u0027t horribly break when the qm-psnr distortion metric is used. I\u0027m not entirely sure how to add tests in the AOM codebase though...",
      "parentUuid": "a8952c21_ae6edcd6",
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ad340efe_2071c798",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 11
      },
      "lineNbr": 0,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-01-10T22:18:23Z",
      "side": 1,
      "message": "I suggest adding a new test file in the test/ directory. We can model it after test/end_to_end_ssim_test.cc.\n\nNote: If we model the new test file after test/end_to_end_ssim_test.cc, we will need to add a new method, say SetOption(), to the libaom_test::Encoder class in test/encode_test_driver.h that calls the aom_codec_set_option() function, similar to how the Control() methods of the libaom_test::Encoder class call the aom_codec_control() function. This will allow the new test file to call encoder-\u003eSetOption(\"dist-metric\", \"qm-psnr\").",
      "parentUuid": "eb5afca1_61a65d60",
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "838daf4f_0eb87635",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 11
      },
      "lineNbr": 0,
      "author": {
        "id": 26338
      },
      "writtenOn": "2022-01-11T13:21:30Z",
      "side": 1,
      "message": "I added a test.\nThanks for the pointers!",
      "parentUuid": "ad340efe_2071c798",
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c587f796_b1075c9b",
        "filename": "aom/aomcx.h",
        "patchSetId": 11
      },
      "lineNbr": 1539,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-01-05T00:40:54Z",
      "side": 1,
      "message": "Nit: rd \u003d\u003e RD ?",
      "range": {
        "startLine": 1539,
        "startChar": 11,
        "endLine": 1539,
        "endChar": 13
      },
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4041baea_232696ab",
        "filename": "aom/aomcx.h",
        "patchSetId": 11
      },
      "lineNbr": 1539,
      "author": {
        "id": 26338
      },
      "writtenOn": "2022-01-06T11:26:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c587f796_b1075c9b",
      "range": {
        "startLine": 1539,
        "startChar": 11,
        "endLine": 1539,
        "endChar": 13
      },
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9fed15ad_89da90ab",
        "filename": "aom/aomcx.h",
        "patchSetId": 11
      },
      "lineNbr": 1544,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-01-05T00:40:54Z",
      "side": 1,
      "message": "Please document these two enum values.",
      "range": {
        "startLine": 1543,
        "startChar": 0,
        "endLine": 1544,
        "endChar": 26
      },
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c6595f3a_c720895c",
        "filename": "aom/aomcx.h",
        "patchSetId": 11
      },
      "lineNbr": 1544,
      "author": {
        "id": 26338
      },
      "writtenOn": "2022-01-06T11:26:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9fed15ad_89da90ab",
      "range": {
        "startLine": 1543,
        "startChar": 0,
        "endLine": 1544,
        "endChar": 26
      },
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5eef3009_4744a3df",
        "filename": "apps/aomenc.c",
        "patchSetId": 11
      },
      "lineNbr": 447,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-01-05T00:40:54Z",
      "side": 1,
      "message": "IMPORTANT: This entry should be added to the av1_key_val_args[] array at line 451 below. The current array is av1_ctrl_args[], which is for flags that have a codec control id.\n\nNote: The av1_ctrl_args[] and av1_arg_ctrl_map[] array must be kept in sync. This is why when this entry was added in the middle of the av1_ctrl_args[] array, some tests failed.\n\nSince this entry is added to the wrong array, I believe aomenc will silently ignore --distortion-metric\u003dqm-psnr. Is this what you observed?",
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "16021d26_d72ed6a1",
        "filename": "apps/aomenc.c",
        "patchSetId": 11
      },
      "lineNbr": 447,
      "author": {
        "id": 26338
      },
      "writtenOn": "2022-01-06T11:26:28Z",
      "side": 1,
      "message": "It did work before, FWIW... Anyway, moved it, as that place is more appropriate.",
      "parentUuid": "5eef3009_4744a3df",
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ee01e28d_6670b0ea",
        "filename": "apps/aomenc.c",
        "patchSetId": 11
      },
      "lineNbr": 447,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-01-10T19:10:51Z",
      "side": 1,
      "message": "I think I know why you said it worked before. I believe you tested avifenc, not aomenc.\n\nIf I test patchset 11 with the following aomenc command line, I get an error:\n\n$ ./aomenc --enable-qm\u003d1 --distortion-metric\u003dqm-psnr niklas_1280_720_30.y4m -o output.ivf\nError: Tried to set control 0 \u003d 1\nFailed to control codec: Invalid parameter",
      "parentUuid": "16021d26_d72ed6a1",
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "71f0e9bb_ca1e7c19",
        "filename": "apps/aomenc.c",
        "patchSetId": 11
      },
      "lineNbr": 447,
      "author": {
        "id": 26338
      },
      "writtenOn": "2022-01-11T13:21:30Z",
      "side": 1,
      "message": "That sounds about right.",
      "parentUuid": "ee01e28d_6670b0ea",
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "03b0fe63_6c1fc8e2",
        "filename": "av1/arg_defs.c",
        "patchSetId": 11
      },
      "lineNbr": 294,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-01-05T00:40:54Z",
      "side": 1,
      "message": "Nit/optional: Since the corresponding enum is named \"aom_dist_metric\" and \"AOM_DIST_METRIC_FOO\":\n\n  typedef enum {\n    AOM_DIST_METRIC_PSNR,\n    AOM_DIST_METRIC_QM_PSNR,\n  } aom_dist_metric;\n\nI suggest this flag be named \"dist-metric\" for consistency. Alternatively we can rename the corresponding enum.",
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ffe0d21b_9733fd38",
        "filename": "av1/arg_defs.c",
        "patchSetId": 11
      },
      "lineNbr": 294,
      "author": {
        "id": 26338
      },
      "writtenOn": "2022-01-06T11:26:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "03b0fe63_6c1fc8e2",
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "17bdcef7_263d1cf7",
        "filename": "av1/arg_defs.c",
        "patchSetId": 11
      },
      "lineNbr": 295,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-01-05T00:40:54Z",
      "side": 1,
      "message": "Did you mean \"inter-block\" or \"intra-block\"?\n\nMight be clearer to say \"RD optimization inside a block\"?\n\nUPDATE: You use \"in-block\" in the comment in av1/encoder/encoder.h.",
      "range": {
        "startLine": 295,
        "startChar": 49,
        "endLine": 295,
        "endChar": 54
      },
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c865e390_68ed13cd",
        "filename": "av1/arg_defs.c",
        "patchSetId": 11
      },
      "lineNbr": 295,
      "author": {
        "id": 26338
      },
      "writtenOn": "2022-01-06T11:26:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "17bdcef7_263d1cf7",
      "range": {
        "startLine": 295,
        "startChar": 49,
        "endLine": 295,
        "endChar": 54
      },
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "966d8939_8ccc20e0",
        "filename": "av1/encoder/rdopt_utils.h",
        "patchSetId": 11
      },
      "lineNbr": 467,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-01-05T00:40:54Z",
      "side": 1,
      "message": "Optional: Would be good to explain why these two fields are set to these values, if the reasons are not obvious.",
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "453b8784_c375221c",
        "filename": "av1/encoder/rdopt_utils.h",
        "patchSetId": 11
      },
      "lineNbr": 467,
      "author": {
        "id": 26338
      },
      "writtenOn": "2022-01-06T11:26:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "966d8939_8ccc20e0",
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ff5423ec_7974fc63",
        "filename": "av1/encoder/tx_search.c",
        "patchSetId": 11
      },
      "lineNbr": 1068,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-01-05T00:40:54Z",
      "side": 1,
      "message": "Add a TODO comment for high bit depths?",
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7abf865d_891d3945",
        "filename": "av1/encoder/tx_search.c",
        "patchSetId": 11
      },
      "lineNbr": 1068,
      "author": {
        "id": 26338
      },
      "writtenOn": "2022-01-06T11:26:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ff5423ec_7974fc63",
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d1444a46_57fd3c0c",
        "filename": "av1/encoder/tx_search.c",
        "patchSetId": 11
      },
      "lineNbr": 1077,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-01-05T00:40:54Z",
      "side": 1,
      "message": "Nit: I suggest converting the code in this \u0027else\u0027 block into a new function, similar to av1_block_error_c() in av1/encoder/rdopt.c.",
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "20460619_894a2e82",
        "filename": "av1/encoder/tx_search.c",
        "patchSetId": 11
      },
      "lineNbr": 1077,
      "author": {
        "id": 26338
      },
      "writtenOn": "2022-01-06T11:26:28Z",
      "side": 1,
      "message": "Done, but in the same file - I\u0027m not 100% sure how to add a function to rdopt.c (it looks like rdopt.h is autogenerated, and/or it uses some dynamic dispatch mechanism for SIMD)",
      "parentUuid": "d1444a46_57fd3c0c",
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e774c39c_8800863b",
        "filename": "av1/encoder/tx_search.c",
        "patchSetId": 11
      },
      "lineNbr": 1077,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-01-06T23:36:46Z",
      "side": 1,
      "message": "You are right. av1_block_error_c() is defined in rdopt.c, but it is declared in the autogenerated header av1_rtcd.h (not in rdopt.h).\n\nI don\u0027t have a good solution.",
      "parentUuid": "20460619_894a2e82",
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bbd42f7a_f4198d9d",
        "filename": "av1/encoder/tx_search.c",
        "patchSetId": 11
      },
      "lineNbr": 1079,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-01-05T00:40:54Z",
      "side": 1,
      "message": "Nit: intptr_t \u003d\u003e int\n\n\u0027i\u0027 is compared with buffer_length, which is of the int type.",
      "range": {
        "startLine": 1079,
        "startChar": 11,
        "endLine": 1079,
        "endChar": 19
      },
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b9769b34_95f1fecb",
        "filename": "av1/encoder/tx_search.c",
        "patchSetId": 11
      },
      "lineNbr": 1079,
      "author": {
        "id": 26338
      },
      "writtenOn": "2022-01-06T11:26:28Z",
      "side": 1,
      "message": "After creating the function, this is back to intptr_t",
      "parentUuid": "bbd42f7a_f4198d9d",
      "range": {
        "startLine": 1079,
        "startChar": 11,
        "endLine": 1079,
        "endChar": 19
      },
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0962155c_dbef8b28",
        "filename": "av1/encoder/tx_search.c",
        "patchSetId": 11
      },
      "lineNbr": 1083,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-01-05T00:40:54Z",
      "side": 1,
      "message": "Should we add 1 \u003c\u003c (AOM_QM_BITS - 1) before dividing to get the rounding behavior?",
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a3880561_6f615e99",
        "filename": "av1/encoder/tx_search.c",
        "patchSetId": 11
      },
      "lineNbr": 1083,
      "author": {
        "id": 26338
      },
      "writtenOn": "2022-01-06T11:26:28Z",
      "side": 1,
      "message": "I changed the formula here to first square dd, then shift right with rounding. I believe this should be fine because coeff and dqcoeff cannot be more than 24 or so bits, and AOM_QM_BITS is 5, but please correct me if I\u0027m wrong.",
      "parentUuid": "0962155c_dbef8b28",
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fb539507_5bf0548b",
        "filename": "av1/encoder/tx_search.c",
        "patchSetId": 11
      },
      "lineNbr": 1083,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-01-08T00:02:21Z",
      "side": 1,
      "message": "I asked Angie about this. (Angie is an expert on the ranges of transform outputs and intermediate values in AV1.) She sent me the following:\n\n  The ranges of coeff and dqcoeff are\n    bd8 : 18 bits (including sign)\n    bd10: 20 bits (including sign)\n    bd12: 22 bits (including sign)\n  (They both should share the same range.)\n\nFor future reference, could you add this info to the av1_block_error_qm() function as a comment? Thanks.",
      "parentUuid": "a3880561_6f615e99",
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a53750d9_9316baf7",
        "filename": "av1/encoder/tx_search.c",
        "patchSetId": 11
      },
      "lineNbr": 1083,
      "author": {
        "id": 26338
      },
      "writtenOn": "2022-01-10T09:30:32Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fb539507_5bf0548b",
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c3ab2b2d_d17283c1",
        "filename": "av1/encoder/tx_search.c",
        "patchSetId": 11
      },
      "lineNbr": 1086,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-01-05T00:40:54Z",
      "side": 1,
      "message": "Nit: if dd and cc cannot be negative, then we can replace these divisions with a right shift.",
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d42102cd_1f3bf5de",
        "filename": "av1/encoder/tx_search.c",
        "patchSetId": 11
      },
      "lineNbr": 1086,
      "author": {
        "id": 26338
      },
      "writtenOn": "2022-01-06T11:26:28Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "c3ab2b2d_d17283c1",
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "764dd328_e3f18fef",
        "filename": "av1/encoder/tx_search.c",
        "patchSetId": 11
      },
      "lineNbr": 1148,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-01-05T18:15:02Z",
      "side": 1,
      "message": "Nit: Move this declaration right before the dist_block_tx_domain() call at line 1156.",
      "range": {
        "startLine": 1147,
        "startChar": 0,
        "endLine": 1148,
        "endChar": 57
      },
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5ba45746_fe607e3d",
        "filename": "av1/encoder/tx_search.c",
        "patchSetId": 11
      },
      "lineNbr": 1148,
      "author": {
        "id": 26338
      },
      "writtenOn": "2022-01-06T11:26:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "764dd328_e3f18fef",
      "range": {
        "startLine": 1147,
        "startChar": 0,
        "endLine": 1148,
        "endChar": 57
      },
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fc016c16_0bfda011",
        "filename": "av1/encoder/tx_search.c",
        "patchSetId": 11
      },
      "lineNbr": 2095,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-01-05T00:40:54Z",
      "side": 1,
      "message": "Nit: Did you intend to add this blank line?",
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ab6b748b_93c27124",
        "filename": "av1/encoder/tx_search.c",
        "patchSetId": 11
      },
      "lineNbr": 2095,
      "author": {
        "id": 26338
      },
      "writtenOn": "2022-01-06T11:26:28Z",
      "side": 1,
      "message": "No :)",
      "parentUuid": "fc016c16_0bfda011",
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5a4dc0b0_8c4af368",
        "filename": "av1/encoder/tx_search.c",
        "patchSetId": 11
      },
      "lineNbr": 2145,
      "author": {
        "id": 9823
      },
      "writtenOn": "2022-01-05T19:29:55Z",
      "side": 1,
      "message": "Q: Is trellis optimization turned on for avif? If so, do we need to weight the distortion by q matrix during it as well?",
      "range": {
        "startLine": 2145,
        "startChar": 6,
        "endLine": 2145,
        "endChar": 20
      },
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8a980fec_5fb726b5",
        "filename": "av1/encoder/tx_search.c",
        "patchSetId": 11
      },
      "lineNbr": 2145,
      "author": {
        "id": 26338
      },
      "writtenOn": "2022-01-06T11:26:28Z",
      "side": 1,
      "message": "I don\u0027t know if it is turned on, but if so, we probably should, yes.",
      "parentUuid": "5a4dc0b0_8c4af368",
      "range": {
        "startLine": 2145,
        "startChar": 6,
        "endLine": 2145,
        "endChar": 20
      },
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8809584d_68c528df",
        "filename": "av1/encoder/tx_search.c",
        "patchSetId": 11
      },
      "lineNbr": 2145,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-01-13T19:25:22Z",
      "side": 1,
      "message": "Trellis optimization is used in AVIF still image encoding unless it is disabled by a speed preset or explicitly turned off. We can verify this by adding a debugger breakpoint or a printf statement right here to verify this av1_optimize_b() call is reached during avifenc. Trellis is handled by av1_optimize_b(), so we just need to check av1_optimize_b() is called.\n\nIf we demonstrate that this CL can make promising improvements without modifying trellis optimization, then we can check in this CL as an initial step and update trellis optimization later.",
      "parentUuid": "8a980fec_5fb726b5",
      "range": {
        "startLine": 2145,
        "startChar": 6,
        "endLine": 2145,
        "endChar": 20
      },
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3abb03d6_aa96c36a",
        "filename": "av1/encoder/tx_search.c",
        "patchSetId": 11
      },
      "lineNbr": 2145,
      "author": {
        "id": 26338
      },
      "writtenOn": "2022-01-17T11:43:43Z",
      "side": 1,
      "message": "I can confirm av1_optimize_b is indeed called.",
      "parentUuid": "8809584d_68c528df",
      "range": {
        "startLine": 2145,
        "startChar": 6,
        "endLine": 2145,
        "endChar": 20
      },
      "revId": "f31c31dec1964ec67753a588c12d14d57e0622af",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}