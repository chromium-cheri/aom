{
  "comments": [
    {
      "key": {
        "uuid": "70c782ad_d405dcd9",
        "filename": "av1/common/mv.h",
        "patchSetId": 2
      },
      "lineNbr": 73,
      "author": {
        "id": 5975
      },
      "writtenOn": "2017-05-04T10:03:37Z",
      "side": 1,
      "message": "Note: We\u0027re likely to need more precision than these calculations suggest, to reduce the impact of rounding error (*). My guess is 2 extra bits will do, but it will need testing to determine the best value.\n\n(*): If we calculate sx4, alpha*4 and beta*4 all rounded to 1/64 pel precision, then the worst-case rounding error in their sum is 3/128 pel. With more precision this can be reduced to about 1/128 pel.\n\nConversely, if WARPEDPIXEL_PREC_BITS \u003d\u003d 5 then we only need 1/32 pel precision, so the parameters can be reduced by one extra bit in that case.",
      "range": {
        "startLine": 61,
        "startChar": 0,
        "endLine": 73,
        "endChar": 0
      },
      "revId": "b8cb5032e9000c828f92d18a785a92032057fc9d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8d7f7ddf_141f5fe5",
        "filename": "av1/common/mv.h",
        "patchSetId": 2
      },
      "lineNbr": 73,
      "author": {
        "id": 6675
      },
      "writtenOn": "2017-05-04T23:29:19Z",
      "side": 1,
      "message": "Let\u0027s chat more about this in realtime. I sent you a hangouts invite.",
      "parentUuid": "70c782ad_d405dcd9",
      "range": {
        "startLine": 61,
        "startChar": 0,
        "endLine": 73,
        "endChar": 0
      },
      "revId": "b8cb5032e9000c828f92d18a785a92032057fc9d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ed5b4bff_313d4dd4",
        "filename": "av1/common/warped_motion.c",
        "patchSetId": 2
      },
      "lineNbr": 984,
      "author": {
        "id": 5975
      },
      "writtenOn": "2017-05-04T10:03:37Z",
      "side": 1,
      "message": "Could this be done once inside get_shear_params, rather than inside each filter?",
      "range": {
        "startLine": 976,
        "startChar": 0,
        "endLine": 984,
        "endChar": 0
      },
      "revId": "b8cb5032e9000c828f92d18a785a92032057fc9d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9912cff0_0524dbf1",
        "filename": "av1/common/warped_motion.c",
        "patchSetId": 2
      },
      "lineNbr": 984,
      "author": {
        "id": 6675
      },
      "writtenOn": "2017-05-04T23:29:19Z",
      "side": 1,
      "message": "That could be a good idea, since it would also avoid a lot of duplication of code. The only issue I can see is if these parameters might be used somewhere else? Maybe Deb or Sarah could weigh in.",
      "parentUuid": "ed5b4bff_313d4dd4",
      "range": {
        "startLine": 976,
        "startChar": 0,
        "endLine": 984,
        "endChar": 0
      },
      "revId": "b8cb5032e9000c828f92d18a785a92032057fc9d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "05d789c1_2314f7c5",
        "filename": "av1/common/warped_motion.c",
        "patchSetId": 2
      },
      "lineNbr": 1012,
      "author": {
        "id": 5975
      },
      "writtenOn": "2017-05-04T10:03:37Z",
      "side": 1,
      "message": "I\u0027d prefer if this rounding were applied to x4 and y4 as soon as they\u0027re calculated - in particular, so that we can avoid double-rounding when warping the chroma planes",
      "range": {
        "startLine": 1009,
        "startChar": 0,
        "endLine": 1012,
        "endChar": 41
      },
      "revId": "b8cb5032e9000c828f92d18a785a92032057fc9d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "22f747e9_c5dab4b6",
        "filename": "av1/common/warped_motion.c",
        "patchSetId": 2
      },
      "lineNbr": 1012,
      "author": {
        "id": 6675
      },
      "writtenOn": "2017-05-04T23:29:19Z",
      "side": 1,
      "message": "I\u0027ve changed this in the latest revision. I added more precision (less rounding), so I try to do more calculation before rounding (round later). Please review again.",
      "parentUuid": "05d789c1_2314f7c5",
      "range": {
        "startLine": 1009,
        "startChar": 0,
        "endLine": 1012,
        "endChar": 41
      },
      "revId": "b8cb5032e9000c828f92d18a785a92032057fc9d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    }
  ]
}