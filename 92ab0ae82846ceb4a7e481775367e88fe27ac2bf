{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "3c2efa4f_5c42e4a8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 25819
      },
      "writtenOn": "2021-05-21T13:36:57Z",
      "side": 1,
      "message": "Hi Wan-Teh,\n\nAs per your suggestions, we have renamed the existing file end_to_end_test.cc with end_to_end_psnr_test.cc and also removed the file end_to_end_test.h to make both ssim and psnr unit-tests independent. We have not pursued the cleanup which is possible in the existing end_to_end_psnr_test.cc (related to kWidth/kHeight/kFramerate used in YUVVideoSource), as it is not related to this patch.\n\nPlease review the patch.\n\nRegards,\nJayashri.",
      "revId": "92ab0ae82846ceb4a7e481775367e88fe27ac2bf",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "154b2eb6_980a2c37",
        "filename": "aom_dsp/ssim.h",
        "patchSetId": 6
      },
      "lineNbr": 15,
      "author": {
        "id": 9545
      },
      "writtenOn": "2021-05-21T21:31:38Z",
      "side": 1,
      "message": "I found that this macro is only used in aom/aom_dsp/fastssim.c, so we could move this macro definition to that file.",
      "revId": "92ab0ae82846ceb4a7e481775367e88fe27ac2bf",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6e34ad25_e86dcaa4",
        "filename": "aom_dsp/ssim.h",
        "patchSetId": 6
      },
      "lineNbr": 15,
      "author": {
        "id": 25819
      },
      "writtenOn": "2021-05-24T14:44:03Z",
      "side": 1,
      "message": "As per your suggestion, moved the macro to fastssim.c (as it is used only in this file) and submitted the below patch for review, https://aomedia-review.googlesource.com/c/aom/+/138024.",
      "parentUuid": "154b2eb6_980a2c37",
      "revId": "92ab0ae82846ceb4a7e481775367e88fe27ac2bf",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "788f46cf_75275eac",
        "filename": "test/encode_test_driver.cc",
        "patchSetId": 6
      },
      "lineNbr": 274,
      "author": {
        "id": 9545
      },
      "writtenOn": "2021-05-21T21:31:38Z",
      "side": 1,
      "message": "The \"if (img_enc \u0026\u0026 img_dec)\" test at line 278 seems to imply img_enc may be null. So I added an \"if (img_enc)\" test around the CalculateFrameLevelSSIM() call. Please let me know if img_enc cannot possibly be null.",
      "revId": "92ab0ae82846ceb4a7e481775367e88fe27ac2bf",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "01d8da03_3f4aabbc",
        "filename": "test/encode_test_driver.cc",
        "patchSetId": 6
      },
      "lineNbr": 274,
      "author": {
        "id": 25819
      },
      "writtenOn": "2021-05-24T14:44:03Z",
      "side": 1,
      "message": "As per our understanding, setting has_cxdata to true, assures that img_enc cannot be NULL. However, we feel that the call of CalculateFrameLevelSSIM() should be moved out of CONFIG_AV1_DECODER macro (as this function is encoder dependent). We have taken care of this clean-up and submitted the below patch for review, https://aomedia-review.googlesource.com/c/aom/+/138024.",
      "parentUuid": "788f46cf_75275eac",
      "revId": "92ab0ae82846ceb4a7e481775367e88fe27ac2bf",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "72833609_28192464",
        "filename": "test/encode_test_driver.cc",
        "patchSetId": 6
      },
      "lineNbr": 274,
      "author": {
        "id": 9545
      },
      "writtenOn": "2021-05-24T15:52:58Z",
      "side": 1,
      "message": "I already reviewed your new patch before I saw this comment.\n\nIf you believe that setting has_cxdata to true assures that img_enc cannot be NULL, we can remove the img_enc tests. Does this mean setting has_dxdata to true assures that img_dec cannot be NULL?\n\nIn any case, let\u0027s keep https://aomedia-review.googlesource.com/c/aom/+/138024 as purely code transformations. We can remove the img_enc and img_dec tests in yet another CL, so that it can be reverted independently if we missed something in our analysis.",
      "parentUuid": "01d8da03_3f4aabbc",
      "revId": "92ab0ae82846ceb4a7e481775367e88fe27ac2bf",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}