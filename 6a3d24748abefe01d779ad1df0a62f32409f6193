{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "891fac6c_3fc1d759",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-10-18T03:50:34Z",
      "side": 1,
      "message": "I determined the valid range by code analysis only. You may know what the valid range should be based on your knowledge of the AV1 encoder. Please see if it is the same as what I found. Thanks.",
      "revId": "6a3d24748abefe01d779ad1df0a62f32409f6193",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7007fccd_07682bbc",
        "filename": "av1/encoder/partition_search.c",
        "patchSetId": 1
      },
      "lineNbr": 4020,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-10-18T03:50:34Z",
      "side": 1,
      "message": "This condition ensures that `bsize` is `BLOCK_16X16` or higher.",
      "revId": "6a3d24748abefe01d779ad1df0a62f32409f6193",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "395758d3_0ffee9f4",
        "filename": "av1/encoder/partition_search.c",
        "patchSetId": 1
      },
      "lineNbr": 4023,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-10-18T03:50:34Z",
      "side": 1,
      "message": "Note that the conditional `bsize \u003e part4_min_bsize_allowed` looks off by one, because \"minimum bsize allowed\" implies we should be checking `bsize \u003e\u003d part4_min_bsize_allowed`.\n\nI am ignoring this minor issue.",
      "revId": "6a3d24748abefe01d779ad1df0a62f32409f6193",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fe18d0c6_8db7b90d",
        "filename": "av1/encoder/speed_features.h",
        "patchSetId": 1
      },
      "lineNbr": 688,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-10-18T03:50:34Z",
      "side": 1,
      "message": "For `get_partition_subsize(bsize, PARTITION_HORZ_4)` to return a valid block size, `bsize` must be `BLOCK_16X16`, `BLOCK_32X32`, or `BLOCK_64X64`. Because of the check at partition_search.c:4023, `ext_partition_eval_thresh` must be `BLOCK_8X8` or higher.",
      "revId": "6a3d24748abefe01d779ad1df0a62f32409f6193",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e255ed6d_9aa18c2c",
        "filename": "av1/encoder/speed_features.h",
        "patchSetId": 1
      },
      "lineNbr": 688,
      "author": {
        "id": 5020
      },
      "writtenOn": "2023-10-18T22:31:35Z",
      "side": 1,
      "message": "\u003e For `get_partition_subsize(bsize, PARTITION_HORZ_4)` to return a valid block size, `bsize` must be `BLOCK_16X16`, `BLOCK_32X32`, or `BLOCK_64X64`. Because of the check at partition_search.c:4023, `ext_partition_eval_thresh` must be `BLOCK_8X8` or higher.\n\nThat check alone doesn\u0027t mean it isn\u0027t `BLOCK_8X16` or another of the values in that range.",
      "parentUuid": "fe18d0c6_8db7b90d",
      "revId": "6a3d24748abefe01d779ad1df0a62f32409f6193",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2bfc5da4_a3ddf2f6",
        "filename": "av1/encoder/speed_features.h",
        "patchSetId": 1
      },
      "lineNbr": 688,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-10-19T01:00:56Z",
      "side": 1,
      "message": "Thanks for the review.\n\nDid you mean that check (in `prune_4_way_partition_search()`) should also check that `bsize` is a square block size?\n\nIn AV1, only square blocks can be partitioned. Therefore in `prune_4_way_partition_search()`, `bsize` must be a square block size.\n\nNote: The purpose of this CL is not to fix the Coverity defect but rather to prevent bugs in `prune_4_way_partition_search()`,",
      "parentUuid": "e255ed6d_9aa18c2c",
      "revId": "6a3d24748abefe01d779ad1df0a62f32409f6193",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "29e267bd_7c94778e",
        "filename": "av1/encoder/speed_features.h",
        "patchSetId": 1
      },
      "lineNbr": 688,
      "author": {
        "id": 5020
      },
      "writtenOn": "2023-10-19T05:12:12Z",
      "side": 1,
      "message": "\u003e Thanks for the review.\n\u003e \n\u003e Did you mean that check (in `prune_4_way_partition_search()`) should also check that `bsize` is a square block size?\n\u003e\n\nYes, that\u0027s what I was referring to.\n \n\u003e In AV1, only square blocks can be partitioned. Therefore in `prune_4_way_partition_search()`, `bsize` must be a square block size.\n\u003e \n\nTrue, though with asserts sometimes it can help to document the expectation. This is fine as it is, though.\n\n\u003e Note: The purpose of this CL is not to fix the Coverity defect but rather to prevent bugs in `prune_4_way_partition_search()`,",
      "parentUuid": "2bfc5da4_a3ddf2f6",
      "revId": "6a3d24748abefe01d779ad1df0a62f32409f6193",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d5baa6ec_c4c0b70e",
        "filename": "av1/encoder/speed_features.h",
        "patchSetId": 1
      },
      "lineNbr": 688,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-10-19T14:31:07Z",
      "side": 1,
      "message": "I also thought I should add a comment to explain the assertion. Thanks for the suggestion.",
      "parentUuid": "29e267bd_7c94778e",
      "revId": "6a3d24748abefe01d779ad1df0a62f32409f6193",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ],
  "submitRequirementResults": [
    {
      "submitRequirement": {
        "name": "Code-Review",
        "description": {
          "value": "At least one maximum vote for label \u0027Code-Review\u0027 is required"
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Code-Review\u003dMAX,user\u003dnon_uploader AND -label:Code-Review\u003dMIN"
        },
        "overrideExpression": {
          "value": {
            "expressionString": "label:Bot-Commit\u003d+1 AND -label:Code-Review\u003dMIN"
          }
        },
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Code-Review=MAX,user=non_uploader AND -label:Code-Review=MIN"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["label:Code-Review=MAX,user=non_uploader"],"failingAtoms":["label:Code-Review=MIN"]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"label:Bot-Commit=+1 AND -label:Code-Review=MIN"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Bot-Commit=+1","label:Code-Review=MIN"]}
      },
      "patchSetCommitId": "6a3d24748abefe01d779ad1df0a62f32409f6193",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Review-Enforcement",
        "description": {
          "value": "Two Google employees must approve the change. Uploading the change or voting positively on Code-Review count as approval."
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "is:review-enforced_gerrit"
          }
        },
        "submittabilityExpression": {
          "expressionString": "is:review-enforcement-satisfied_gerrit"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforced_gerrit"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["is:review-enforced_gerrit"],"failingAtoms":[]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforced_gerrit"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["is:review-enforcement-satisfied_gerrit"]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "6a3d24748abefe01d779ad1df0a62f32409f6193",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {
        "value": true
      }
    },
    {
      "submitRequirement": {
        "name": "Verified",
        "description": {
          "value": "CI or human verified the change"
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Verified\u003dMAX AND -label:Verified\u003dMIN"
        },
        "overrideExpression": {
          "value": {
            "expressionString": "label:Bot-Commit\u003d+1"
          }
        },
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Verified=MAX AND -label:Verified=MIN"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["label:Verified=MAX"],"failingAtoms":["label:Verified=MIN"]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"label:Bot-Commit=+1"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Bot-Commit=+1"]}
      },
      "patchSetCommitId": "6a3d24748abefe01d779ad1df0a62f32409f6193",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    }
  ]
}