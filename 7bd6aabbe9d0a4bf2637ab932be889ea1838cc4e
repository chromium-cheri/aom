{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "96b0667b_135a9c40",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 8893
      },
      "writtenOn": "2021-06-01T13:55:58Z",
      "side": 1,
      "message": "Hi Yunqing, \n\nIn this patch we have fixed the population of \u0027mb_av_energy\u0027, \u0027frame_avg_haar_energy\u0027 and\n\u0027fr_content_type\u0027 in the TWO_PASS structure for frames of type \u0027ARF_UPDATE\u0027. Earlier these variables were not populated correctly for arfs. As these variables are not used in the default encoder configuration (used in Borg test suite), there is no speed, BD-Rate impact for the same. \n\nThe variable \u0027mb_av_energy\u0027 is used whenever aq-mode is either variance, complexity. The variable \u0027frame_avg_haar_energy\u0027 is used whenever deltaq-mode is set as deltaq perceptual. \n\nThere is no change in the speed, BD-Rate with aq-mode\u003d2 (complexity). The performance results with aq-mode\u003d1 (variance) are as follows:\n\n cpu-used   Resolution   Instruction Count        BD-Rate Loss (%)\n                          Reduction (%)    avg.psnr   ovr.psnr    ssim        \n    6         LOWRES        0.005            0.0111    0.0161    0.0218 \n    6         MIDRES        0.015           -0.0303   -0.0498   -0.0461\n    6         HDRES        -0.001            0.0076    0.0022    0.0131 \n    6         Average       0.006           -0.0021   -0.0074   -0.0007 \n\nThe performance results with deltaq-mode\u003d2 (deltaq perceptual) are as follows:\n\n cpu-used   Resolution   Instruction Count        BD-Rate Loss (%)\n                          Reduction (%)    avg.psnr   ovr.psnr    ssim    \n    6        LOWRES        0.002            0.0018     0.0155   -0.0002\n    6        MIDRES       -0.069           -0.0388    -0.1168   -0.0488 \n    6        HDRES        -0.039           -0.0200    -0.0371    0.0644 \n    6        Average      -0.026           -0.0167    -0.0392    0.0053 \n[+] sign is for BD-Rate loss\n[-] sign is for BD-Rate improvement\nThe instruction count reduction specified has been measured using command:\n$ perf stat -e instructions:u ./aomenc â€¦  \n\nPlease review this patch.\n\nThanks",
      "revId": "7bd6aabbe9d0a4bf2637ab932be889ea1838cc4e",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e55a5870_3c927f53",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 5185
      },
      "writtenOn": "2021-06-01T17:41:10Z",
      "side": 1,
      "message": "Thanks for the fix.",
      "revId": "7bd6aabbe9d0a4bf2637ab932be889ea1838cc4e",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}