{
  "comments": [
    {
      "key": {
        "uuid": "0cf8b6a3_c3ecd842",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 15075
      },
      "writtenOn": "2020-07-09T12:58:52Z",
      "side": 1,
      "message": "Hi Debargha,\nThis patch corrects bit allocation to gf_groups. Previously, while allocating bits to gf_groups in case of LAP, we were not accounting for the bits already allocated to the key_frame. Instead, the gf_group must be allocated bits from kf_group_bits, which stores the bits remaining to be allocated in the kf_group.\n\nWith this change we are seeing following improvement in bit-rate deviation:\nTarget bit-rate       limit           kf-max-dist         deviation before change        deviation after change\n\n      1000      40          30                28.6%                  12.386%\n      1000      40         9999               70.022%                68.459%\n\nBorg test speed-preset 1 BD-rate gain: +0.33% improvement in BD-rate for lowres and midres.\nBorg test speed-preset 5 BD-rate gain: +0.3% improvement in BD-rate for lowres and midres.\n\nPlease review.",
      "revId": "844a585c5bc640d09b4d276d14bf416b501f65ed",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    }
  ]
}