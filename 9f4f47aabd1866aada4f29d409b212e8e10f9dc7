{
  "comments": [
    {
      "key": {
        "uuid": "de73e039_573aa02e",
        "filename": "aom_dsp/aom_convolve.c",
        "patchSetId": 9
      },
      "lineNbr": 48,
      "author": {
        "id": 5290
      },
      "writtenOn": "2017-06-28T17:44:35Z",
      "side": 1,
      "message": "I think the only difference between the unscaled function above and this one is the \u0027x_filter_idx\u0027, correct?\nIf so, should be easy to refactor into a common helper function, by passing a \u0027scale\u0027 (0 or 1) parameter.\n\nOutside loop:\nconst int mask \u003d scale ? SCALE_SUBPEL_MASK : SUBPEL_MASK;\nconst int extra_bits \u003d scale ? SCALE_EXTRA_BITS : 0;\n\nThen inside loop:\nconst int x_filter_idx \u003d (x_q4 \u0026 mask) \u003e\u003e extra_bits;\n\n\n(Same refactoring can be done for every pair of scaled / unscaled functions).",
      "revId": "9f4f47aabd1866aada4f29d409b212e8e10f9dc7",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    }
  ]
}