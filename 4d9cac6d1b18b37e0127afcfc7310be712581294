{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "e568dc98_a91ed95a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 10
      },
      "lineNbr": 0,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-02-03T17:42:39Z",
      "side": 1,
      "message": "Hi Jerome,\n\nI haven\u0027t reviewed the new patchset. Let me answer a question first.",
      "revId": "4d9cac6d1b18b37e0127afcfc7310be712581294",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dd7ddbba_0d13e4cb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 10
      },
      "lineNbr": 0,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-02-06T18:22:57Z",
      "side": 1,
      "message": "Jerome: Setting Code-Review +1 for now because I think libaom should follow the common convention of representing NV12 as two planes.",
      "revId": "4d9cac6d1b18b37e0127afcfc7310be712581294",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3f2e605d_515b5e71",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 10
      },
      "lineNbr": 0,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-02-07T19:21:49Z",
      "side": 1,
      "message": "Hi Jerome,\n\nDon\u0027t abandon this CL. The CL I created (https://aomedia-review.googlesource.com/c/aom/+/153281) is only used for code review. It is not intended to be submitted. Sorry about the confusion. I have just added \"DO NOT SUBMIT\" to that CL and marked it as Abandoned to avoid confusion.\n\nTo reduce the number of review comments you need to address, I have gone through my suggested changes and marked the less important ones as optional.",
      "revId": "4d9cac6d1b18b37e0127afcfc7310be712581294",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "10134404_e07e7e67",
        "filename": "aom/aom_image.h",
        "patchSetId": 10
      },
      "lineNbr": 204,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-02-06T18:22:57Z",
      "side": 1,
      "message": "After studying how NV12 is represented in ffmpeg and in Chrome\u0027s media::VideoFrame class, I think libaom should follow the more common convention and represent NV12 as two planes. This means planes[2] should be set to NULL and stride[2] should be set to 0.\n\nI will create a CL (based on this CL) to show how to do this.",
      "revId": "4d9cac6d1b18b37e0127afcfc7310be712581294",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cadc668c_da5a8638",
        "filename": "aom/aom_image.h",
        "patchSetId": 10
      },
      "lineNbr": 204,
      "author": {
        "id": 5960
      },
      "writtenOn": "2022-02-06T19:22:38Z",
      "side": 1,
      "message": "You don\u0027t need to create another CL just to show me how to do that. You can take this over and modify as needed, or create a whole new one and abandon this one if you prefer your own CL, which saves a ton of time for both of us.\n\nAnd you can also backport the changes to libvpx as the original CL was largely copied from there.\n\nThe libvpx CL:\nhttps://chromium-review.googlesource.com/c/webm/libvpx/+/2218862",
      "parentUuid": "10134404_e07e7e67",
      "revId": "4d9cac6d1b18b37e0127afcfc7310be712581294",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "107751c6_07c99d12",
        "filename": "aom/aom_image.h",
        "patchSetId": 10
      },
      "lineNbr": 204,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-02-06T21:07:01Z",
      "side": 1,
      "message": "Hi Jerome,\n\nPlease see https://aomedia-review.googlesource.com/c/aom/+/153281/1..2 for the changes to represent NV12 as two planes.\n\n(The aom_image_t struct is part of libaom\u0027s public API. We should scrutinize nontrivial changes to the public API.)",
      "parentUuid": "cadc668c_da5a8638",
      "revId": "4d9cac6d1b18b37e0127afcfc7310be712581294",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d2bb2feb_6204858c",
        "filename": "aom/src/aom_image.c",
        "patchSetId": 10
      },
      "lineNbr": 82,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-02-06T18:22:57Z",
      "side": 1,
      "message": "Delete this comment.",
      "range": {
        "startLine": 81,
        "startChar": 0,
        "endLine": 82,
        "endChar": 14
      },
      "revId": "4d9cac6d1b18b37e0127afcfc7310be712581294",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0888e762_02dbf504",
        "filename": "aom/src/aom_image.c",
        "patchSetId": 10
      },
      "lineNbr": 164,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-02-06T18:22:57Z",
      "side": 1,
      "message": "Nit: Add \"of the chroma plane\" or \"of the UV plane\" after \"Each row\".",
      "revId": "4d9cac6d1b18b37e0127afcfc7310be712581294",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "17a5bed7_5d1550a1",
        "filename": "aom/src/aom_image.c",
        "patchSetId": 10
      },
      "lineNbr": 164,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-02-07T19:21:49Z",
      "side": 1,
      "message": "Marked this suggested change as optional.",
      "parentUuid": "0888e762_02dbf504",
      "revId": "4d9cac6d1b18b37e0127afcfc7310be712581294",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b7e43897_4309b0cc",
        "filename": "aom/src/aom_image.c",
        "patchSetId": 10
      },
      "lineNbr": 242,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-02-06T21:07:01Z",
      "side": 1,
      "message": "I think we need to multiply bytes_per_sample by 2 here.\n\nNote: At line 172, we call aom_img_set_rect() with x \u003d 0. When x \u003d 0 (which implies uv_x \u003d 0), uv_x * bytes_per_sample is 0, so this issue is not detected by the test.",
      "revId": "4d9cac6d1b18b37e0127afcfc7310be712581294",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1465a1b9_821ba13f",
        "filename": "apps/aomenc.c",
        "patchSetId": 10
      },
      "lineNbr": 2213,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-02-06T18:22:57Z",
      "side": 1,
      "message": "If we add AOM_IMG_FMT_NV12 at line 2187, it seems that we should also add AOM_IMG_FMT_NV12 here.",
      "revId": "4d9cac6d1b18b37e0127afcfc7310be712581294",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2c0c67e9_a2db9f3b",
        "filename": "apps/aomenc.c",
        "patchSetId": 10
      },
      "lineNbr": 2225,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-02-06T18:22:57Z",
      "side": 1,
      "message": "It seems that we should also add AOM_IMG_FMT_NV12 here.",
      "revId": "4d9cac6d1b18b37e0127afcfc7310be712581294",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "58531418_319a1d83",
        "filename": "av1/av1_cx_iface.c",
        "patchSetId": 10
      },
      "lineNbr": 865,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-02-06T18:22:57Z",
      "side": 1,
      "message": "Add NV12 to this error message.",
      "revId": "4d9cac6d1b18b37e0127afcfc7310be712581294",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "09148283_a9ad5b30",
        "filename": "common/tools_common.c",
        "patchSetId": 10
      },
      "lineNbr": 91,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-02-06T18:22:57Z",
      "side": 1,
      "message": "Nit: at one time \u003d\u003e \"at once\" or \"at the same time\"",
      "range": {
        "startLine": 91,
        "startChar": 54,
        "endLine": 91,
        "endChar": 65
      },
      "revId": "4d9cac6d1b18b37e0127afcfc7310be712581294",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "28cd9705_ddc51436",
        "filename": "common/tools_common.c",
        "patchSetId": 10
      },
      "lineNbr": 91,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-02-07T19:21:49Z",
      "side": 1,
      "message": "Marked this suggested change as optional.",
      "parentUuid": "09148283_a9ad5b30",
      "range": {
        "startLine": 91,
        "startChar": 54,
        "endLine": 91,
        "endChar": 65
      },
      "revId": "4d9cac6d1b18b37e0127afcfc7310be712581294",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5f285151_4adc52a0",
        "filename": "examples/lightfield_decoder.c",
        "patchSetId": 10
      },
      "lineNbr": 54,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-02-06T18:22:57Z",
      "side": 1,
      "message": "The original code has a comment:\n\n  NV12,   // Tile output in NV12 format.\n\nDid you intend to delete the comment?",
      "revId": "4d9cac6d1b18b37e0127afcfc7310be712581294",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6da7a1b7_5af1b662",
        "filename": "examples/lightfield_decoder.c",
        "patchSetId": 10
      },
      "lineNbr": 55,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-02-06T18:22:57Z",
      "side": 1,
      "message": "Nit: Move the enum definition before line 49.",
      "revId": "4d9cac6d1b18b37e0127afcfc7310be712581294",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3b46c845_5364a95c",
        "filename": "examples/lightfield_decoder.c",
        "patchSetId": 10
      },
      "lineNbr": 55,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-02-07T19:21:49Z",
      "side": 1,
      "message": "Marked this suggested change as optional.",
      "parentUuid": "6da7a1b7_5af1b662",
      "revId": "4d9cac6d1b18b37e0127afcfc7310be712581294",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "08b8bb82_f85bdda4",
        "filename": "examples/lightfield_tile_list_decoder.c",
        "patchSetId": 10
      },
      "lineNbr": 45,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-02-06T18:22:57Z",
      "side": 1,
      "message": "The original code has a comment:\n\n  NV12,   // Tile output in NV12 format.\n\nDid you intend to delete the comment?",
      "revId": "4d9cac6d1b18b37e0127afcfc7310be712581294",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b86fea03_a8e968bc",
        "filename": "examples/lightfield_tile_list_decoder.c",
        "patchSetId": 10
      },
      "lineNbr": 46,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-02-06T18:22:57Z",
      "side": 1,
      "message": "Nit: Move the enum definition before line 40.",
      "revId": "4d9cac6d1b18b37e0127afcfc7310be712581294",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dd87d723_87f69041",
        "filename": "examples/lightfield_tile_list_decoder.c",
        "patchSetId": 10
      },
      "lineNbr": 46,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-02-07T19:21:49Z",
      "side": 1,
      "message": "Marked this suggested change as optiional.",
      "parentUuid": "b86fea03_a8e968bc",
      "revId": "4d9cac6d1b18b37e0127afcfc7310be712581294",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d8f5441a_b742de5c",
        "filename": "test/aom_image_test.cc",
        "patchSetId": 10
      },
      "lineNbr": 48,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-02-06T18:22:57Z",
      "side": 1,
      "message": "Nit: Set \u003d\u003e Alloc\n\nbecause this test calls the aom_img_alloc() function.",
      "range": {
        "startLine": 48,
        "startChar": 25,
        "endLine": 48,
        "endChar": 28
      },
      "revId": "4d9cac6d1b18b37e0127afcfc7310be712581294",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9bbad590_f7d663a3",
        "filename": "test/aom_image_test.cc",
        "patchSetId": 10
      },
      "lineNbr": 57,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-02-06T18:22:57Z",
      "side": 1,
      "message": "Nit: It would be a stronger test to compare with constants:\n\n  EXPECT_EQ(img.stride[AOM_PLANE_Y], kWidth);\n  EXPECT_EQ(img.stride[AOM_PLANE_U], kWidth);\n  EXPECT_EQ(img.stride[AOM_PLANE_V], kWidth);",
      "range": {
        "startLine": 56,
        "startChar": 0,
        "endLine": 57,
        "endChar": 62
      },
      "revId": "4d9cac6d1b18b37e0127afcfc7310be712581294",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e07ddc26_76de7bfb",
        "filename": "test/aom_image_test.cc",
        "patchSetId": 10
      },
      "lineNbr": 57,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-02-07T19:21:49Z",
      "side": 1,
      "message": "Marked this suggested change as optional.",
      "parentUuid": "9bbad590_f7d663a3",
      "range": {
        "startLine": 56,
        "startChar": 0,
        "endLine": 57,
        "endChar": 62
      },
      "revId": "4d9cac6d1b18b37e0127afcfc7310be712581294",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cd702bb6_c5a4ca87",
        "filename": "test/rt_end_to_end_test.cc",
        "patchSetId": 10
      },
      "lineNbr": 168,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-02-06T18:22:57Z",
      "side": 1,
      "message": "The width\u003d352, height\u003d288, rate_numerator\u003d30, rate_denominator\u003d1 values are specific to the test file hantro_collage_w352h288_nv12.yuv. So I suggest we rewrite this if-else statement as follows:\n\n  if (!strcmp(test_video_param_.filename, \"\"hantro_collage_w352h288_nv12.yuv\")\n    video.reset(new libaom_test::YUVVideoSource(...));\n  else\n    video.reset(new libaom_test::Y4mVideoSource(...));",
      "revId": "4d9cac6d1b18b37e0127afcfc7310be712581294",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ea522d8c_99d6f2ff",
        "filename": "test/rt_end_to_end_test.cc",
        "patchSetId": 10
      },
      "lineNbr": 168,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-02-07T19:27:17Z",
      "side": 1,
      "message": "Marked this suggested change as optional, because this pattern is used in libvpx/test/vp9_end_to_end_test.cc.",
      "parentUuid": "cd702bb6_c5a4ca87",
      "revId": "4d9cac6d1b18b37e0127afcfc7310be712581294",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d1261c1f_1554f0e0",
        "filename": "test/test_data_util.cmake",
        "patchSetId": 10
      },
      "lineNbr": 16,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-02-06T21:07:01Z",
      "side": 1,
      "message": "Please upload hantro_collage_w352h288_nv12.yuv before submitting this CL.",
      "revId": "4d9cac6d1b18b37e0127afcfc7310be712581294",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}