{
  "comments": [
    {
      "key": {
        "uuid": "ed173a7f_6a5c5307",
        "filename": "aom_ports/mem.h",
        "patchSetId": 13
      },
      "lineNbr": 66,
      "author": {
        "id": 5075
      },
      "writtenOn": "2017-06-19T18:28:29Z",
      "side": 1,
      "message": "I don\u0027t think this is a good name. The code currently uses ROUND_POWER_OF_TWO() to mean doing actual division, and rounding the result, whereas this is not doing division (i.e., you\u0027re shifting the result back up). So it seems like it could really easily cause confusion.\n\nBut I think this functionality is already covered by the existing ALIGN_POWER_OF_TWO() macro?",
      "revId": "97b12eed9b310b496a19777456a3b0b9de875c2d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "86ac9966_e1eff0b5",
        "filename": "aom_ports/mem.h",
        "patchSetId": 13
      },
      "lineNbr": 66,
      "author": {
        "id": 7105
      },
      "writtenOn": "2017-06-19T19:18:22Z",
      "side": 1,
      "message": "Yes ALIGN_POWER_OF_TWO() does the same.",
      "parentUuid": "ed173a7f_6a5c5307",
      "revId": "97b12eed9b310b496a19777456a3b0b9de875c2d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c1256dce_c89e7274",
        "filename": "av1/common/cfl.c",
        "patchSetId": 13
      },
      "lineNbr": 87,
      "author": {
        "id": 5075
      },
      "writtenOn": "2017-06-19T18:28:29Z",
      "side": 1,
      "message": "As an aside, it seems like these divisions really might not be powers of two after this patch, since you can have a non-power-of-two number of transform blocks near the edge. This could be solved with a small lookup table. The worst case divisor is a power of 2 times two small factors, each 7 or less (which we can implement with multiplies using OD_DIVU). It\u0027s just a matter of plumbing the data through correctly so that that is easy to do. That\u0027s probably something we need to address before talking to the HW subgroup again.",
      "revId": "97b12eed9b310b496a19777456a3b0b9de875c2d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9bd1750e_9f02ce31",
        "filename": "av1/common/cfl.c",
        "patchSetId": 13
      },
      "lineNbr": 87,
      "author": {
        "id": 7105
      },
      "writtenOn": "2017-06-19T19:18:22Z",
      "side": 1,
      "message": "I don\u0027t think non-power-of-two number of transform is a problem if we move to transform block level averages (see https://aomedia-review.googlesource.com/c/13343/)",
      "parentUuid": "c1256dce_c89e7274",
      "revId": "97b12eed9b310b496a19777456a3b0b9de875c2d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "144e97f7_d626b526",
        "filename": "av1/common/onyxc_int.h",
        "patchSetId": 13
      },
      "lineNbr": 897,
      "author": {
        "id": 5075
      },
      "writtenOn": "2017-06-19T18:28:29Z",
      "side": 1,
      "message": "It also seems like \"intra\" should be in the name here somewhere, since this is highly specific to intra blocks.\n\nIn fact, if you took a \"plane\" argument, I don\u0027t think anything here is specific to chroma or CfL.",
      "revId": "97b12eed9b310b496a19777456a3b0b9de875c2d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "13ce9554_81fa5ec4",
        "filename": "av1/common/onyxc_int.h",
        "patchSetId": 13
      },
      "lineNbr": 897,
      "author": {
        "id": 7105
      },
      "writtenOn": "2017-06-19T19:18:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "144e97f7_d626b526",
      "revId": "97b12eed9b310b496a19777456a3b0b9de875c2d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4f382dec_6f683b65",
        "filename": "av1/common/onyxc_int.h",
        "patchSetId": 13
      },
      "lineNbr": 898,
      "author": {
        "id": 5075
      },
      "writtenOn": "2017-06-19T18:28:29Z",
      "side": 1,
      "message": "bsize here should be plane_bsize, to make it clear that it has already been reduced by the subsampling factors.",
      "revId": "97b12eed9b310b496a19777456a3b0b9de875c2d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b200419a_93179180",
        "filename": "av1/common/onyxc_int.h",
        "patchSetId": 13
      },
      "lineNbr": 898,
      "author": {
        "id": 7105
      },
      "writtenOn": "2017-06-19T19:18:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4f382dec_6f683b65",
      "revId": "97b12eed9b310b496a19777456a3b0b9de875c2d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6f973ca8_92d9b165",
        "filename": "av1/common/onyxc_int.h",
        "patchSetId": 13
      },
      "lineNbr": 903,
      "author": {
        "id": 5075
      },
      "writtenOn": "2017-06-19T18:28:29Z",
      "side": 1,
      "message": "Can you replace all of this code with a simple call to max_block_wide(xd, bsize, 1) \u003c\u003c tx_size_wide_log2[0]? It seems better to centralize as much logic as we can, and also highlights how this differs from the above functions.\n\nIf you want to avoid the useless downshift and upshift by tx_size_wide_log2[0], I still think it would be a good idea to make this code look like the code above (to the extent possible).",
      "revId": "97b12eed9b310b496a19777456a3b0b9de875c2d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4bed1deb_abcd82c1",
        "filename": "av1/common/onyxc_int.h",
        "patchSetId": 13
      },
      "lineNbr": 903,
      "author": {
        "id": 7105
      },
      "writtenOn": "2017-06-19T19:18:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6f973ca8_92d9b165",
      "revId": "97b12eed9b310b496a19777456a3b0b9de875c2d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a4b372c_440a7a16",
        "filename": "av1/common/onyxc_int.h",
        "patchSetId": 13
      },
      "lineNbr": 904,
      "author": {
        "id": 5075
      },
      "writtenOn": "2017-06-19T18:28:29Z",
      "side": 1,
      "message": "It\u0027s really confusing to me to see a variable named \"width\" when it is actually the log of the width. Maybe it\u0027s simpler if you just pass the table index to the macro directly, without storing it in a variable first?",
      "revId": "97b12eed9b310b496a19777456a3b0b9de875c2d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5271b498_932aae54",
        "filename": "av1/common/onyxc_int.h",
        "patchSetId": 13
      },
      "lineNbr": 904,
      "author": {
        "id": 7105
      },
      "writtenOn": "2017-06-19T19:18:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9a4b372c_440a7a16",
      "revId": "97b12eed9b310b496a19777456a3b0b9de875c2d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b6c6e2a9_294e1810",
        "filename": "av1/common/onyxc_int.h",
        "patchSetId": 13
      },
      "lineNbr": 909,
      "author": {
        "id": 5075
      },
      "writtenOn": "2017-06-19T18:28:29Z",
      "side": 1,
      "message": "All the comments above also apply to this function.",
      "revId": "97b12eed9b310b496a19777456a3b0b9de875c2d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bd67a563_658bba8c",
        "filename": "av1/common/onyxc_int.h",
        "patchSetId": 13
      },
      "lineNbr": 909,
      "author": {
        "id": 7105
      },
      "writtenOn": "2017-06-19T19:18:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b6c6e2a9_294e1810",
      "revId": "97b12eed9b310b496a19777456a3b0b9de875c2d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3f2e74b2_d5f57459",
        "filename": "av1/common/reconintra.c",
        "patchSetId": 13
      },
      "lineNbr": 2543,
      "author": {
        "id": 5075
      },
      "writtenOn": "2017-06-19T18:28:29Z",
      "side": 1,
      "message": "You should at least add a TODO comment here about HBD support.",
      "revId": "97b12eed9b310b496a19777456a3b0b9de875c2d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f10e0a06_ec2e1df2",
        "filename": "av1/common/reconintra.c",
        "patchSetId": 13
      },
      "lineNbr": 2543,
      "author": {
        "id": 7105
      },
      "writtenOn": "2017-06-19T19:18:22Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3f2e74b2_d5f57459",
      "revId": "97b12eed9b310b496a19777456a3b0b9de875c2d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    }
  ]
}