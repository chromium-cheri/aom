{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "94ea12ec_2995f1de",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 25857
      },
      "writtenOn": "2022-08-22T07:33:55Z",
      "side": 1,
      "message": "Hi Wan-Teh, Frank, Chi Yo,\n\nAs per the statistics we generated for intra mode evaluation in the nonrd path, we found that the probability of H_PRED mode being the winner is very less when the best mode so far is V_PRED (out of DC_PRED and V_PRED).\n\nIf V_PRED is the winner mode out of DC_PRED and V_PRED, it could imply the presence of a vertically dominant pattern. Hence there may not be any need to evaluate H_PRED. Thus, we have introduced a speed feature ‘prune_h_pred_using_best_mode_so_far’ in this CL to prune H_PRED mode if V_PRED is the best mode so far. This speed feature is enabled for allintra, speed 9.\n\nFor AVIF still-image encode with tune\u003dpsnr,\n\n                 Encode Time      BD-Rate Loss(%)\n    cpu-used     Reduction(%)    psnr      ssim   \n       9           1.034         0.0834    0.0691\n\nFor AVIF still-image encode with tune\u003dssim,\n\n                 Encode Time      BD-Rate Loss(%)\n    cpu-used     Reduction(%)    psnr      ssim   \n       9            0.755        0.0982    0.0943\n\nFollowing are the instruction count reduction results when libaom allintra frame encoding (50 frames) was tested for a borg setup. \n\n               Instruction Count        BD-Rate Loss(%)      \n     cpu-used    Reduction(%)    avg.psnr  ovr.psnr  ssim\n        9           1.097        0.0438    0.0438    0.0377\n\nFor libaom AV1 video encode, bit-match is verified (w.r.t. parent commit) for \u0027GOOD\u0027 and \u0027RT\u0027 encoding modes for a few contents with different encoding configurations. It is verified that the CL is bit-exact for allintra encode, speed\u003d0 to 8 with no speed impact.\n\nIn the commit message, BD rate impact column:\n[+] sign is for BD-Rate drop\n[-] sign is for BD-Rate improvement\nThe instruction count reduction specified has been measured using the command:\n$ perf stat -e instructions:u ./aomenc …\n\nPlease review.\n\nRegards,\nMudassir.\n",
      "revId": "c87a098412b64fe881a7ea49131f9711ae3212df",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ffb23d8f_fc7d2692",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-08-24T22:23:45Z",
      "side": 1,
      "message": "Mudassir: Thank you for the CL. I suggest adding a comment based on your description of this CL.",
      "revId": "c87a098412b64fe881a7ea49131f9711ae3212df",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4fbd8a2b_c42e8ae1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-08-24T22:23:45Z",
      "side": 1,
      "message": "Hi Mudassir,\n\nI think the following two paragraphs contain valuable information for the new speed feature:\n\n\u003e As per the statistics we generated for intra mode evaluation in the nonrd path, we found that the probability of H_PRED mode being the winner is very less when the best mode so far is V_PRED (out of DC_PRED and V_PRED).\n\u003e \n\u003e If V_PRED is the winner mode out of DC_PRED and V_PRED, it could imply the presence of a vertically dominant pattern. Hence there may not be any need to evaluate H_PRED. ...\n\nCould you convert the above to a comment in either av1/encoder/speed_features.h or av1/encoder/nonrd_pickmode.c?",
      "parentUuid": "94ea12ec_2995f1de",
      "revId": "c87a098412b64fe881a7ea49131f9711ae3212df",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3c9153d0_a68deabc",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 25857
      },
      "writtenOn": "2022-08-25T11:38:25Z",
      "side": 1,
      "message": "Ack.",
      "parentUuid": "ffb23d8f_fc7d2692",
      "revId": "c87a098412b64fe881a7ea49131f9711ae3212df",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "59db2554_98a39d45",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 25857
      },
      "writtenOn": "2022-08-25T11:38:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4fbd8a2b_c42e8ae1",
      "revId": "c87a098412b64fe881a7ea49131f9711ae3212df",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3a77095c_af4627b8",
        "filename": "av1/encoder/speed_features.h",
        "patchSetId": 1
      },
      "lineNbr": 1592,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-08-24T22:23:45Z",
      "side": 1,
      "message": "Should we add \"in the nonrd path\" after \"intra mode evaluation\"?",
      "revId": "c87a098412b64fe881a7ea49131f9711ae3212df",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b9cb75dd_99afb26b",
        "filename": "av1/encoder/speed_features.h",
        "patchSetId": 1
      },
      "lineNbr": 1592,
      "author": {
        "id": 25857
      },
      "writtenOn": "2022-08-25T11:38:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3a77095c_af4627b8",
      "revId": "c87a098412b64fe881a7ea49131f9711ae3212df",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}