{
  "comments": [
    {
      "key": {
        "uuid": "e5c3b06d_0a81cb4c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 16052
      },
      "writtenOn": "2020-08-11T22:48:07Z",
      "side": 1,
      "message": "Experiment to clip qindex to 1 for near-lossless/lossy compression. With the proposed change, the qstep associated with qindex value of 0 will only be used for lossless compression.\n\nPlease review.",
      "revId": "a8e84fab57f0afb89985890608b4392a7f90afb1",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3ef5b258_c0dd6713",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 11876
      },
      "writtenOn": "2020-08-12T16:01:09Z",
      "side": 1,
      "message": "some question in general:\n1. do you plan to include this experiment as part of extended quantization proposal or put it in a separated proposal? I suggest to merge it into the the existing proposal.\n2. does this proposal change the decoder normative behavior? since when the final qindex\u003d0, decoder will treat the block as lossless coded. so this change will only impact how encoder choose the minimum qindex, is it correct?",
      "revId": "a8e84fab57f0afb89985890608b4392a7f90afb1",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f9673b91_b82cd420",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 16052
      },
      "writtenOn": "2020-08-12T16:27:34Z",
      "side": 1,
      "message": "Hi Ryan,\n\nThank you for the comments.\n\n1. I am also of the opinion to merge it with the existing proposal. If there is no objection, I can include this experiment as part of the proposal.\n\n2. There is change in the normative behavior. In the AV1 decoder, the determination whether a segment is coded lossless or not is based not on the final qindex but (excerpt from decodeframe.c) :\n\nxd-\u003elossless[i] \u003d qindex \u003d\u003d 0 \u0026\u0026 cm-\u003ey_dc_delta_q \u003d\u003d 0 \u0026\u0026\n                      cm-\u003eu_dc_delta_q \u003d\u003d 0 \u0026\u0026 cm-\u003eu_ac_delta_q \u003d\u003d 0 \u0026\u0026\n                      cm-\u003ev_dc_delta_q \u003d\u003d 0 \u0026\u0026 cm-\u003ev_ac_delta_q \u003d\u003d 0;\n\nThis can cause issues when qindex \u003d\u003d 0 any of the delta\u0027s \u003c 0. Then in AV1, the final qindex is clamped to 0, but the segment is not treated as lossless. The change also fixes that issue.",
      "parentUuid": "3ef5b258_c0dd6713",
      "revId": "a8e84fab57f0afb89985890608b4392a7f90afb1",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    }
  ]
}