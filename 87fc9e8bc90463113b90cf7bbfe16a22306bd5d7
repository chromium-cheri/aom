{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "cd5a3c78_aa8ddc31",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 15298
      },
      "writtenOn": "2021-05-25T18:10:52Z",
      "side": 1,
      "message": "Hi Yunqing,\n\nThis patch creates max_mv_magnitude, which stores the previous frame\u0027s largest MV component in AV1_PRIMARY (under CONFIG_FRAME_PARALLEL_ENCODE macro). Since the last frame\u0027s max_mv_magnitude is used in deciding the MV step for the current frame, in order to ensure that all the frames in a parallel encode set start with the same max_mv_magnitude, this patch disables the end-of-frame store of max_mv_magnitude for the frames, except for the last frame in a parallel encode set.\n\nThis change is tested with integer, undefined, address and thread sanitizer tests locally. The cumulative quality impact of all the CLs in this dependent chain are given at https://aomedia-review.googlesource.com/c/aom/+/138324.\n\nPlease review this patch.\nThanks",
      "revId": "87fc9e8bc90463113b90cf7bbfe16a22306bd5d7",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}