{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "732c0b98_30a058a8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 25857
      },
      "writtenOn": "2023-07-19T15:52:50Z",
      "side": 1,
      "message": "In the parent version, when the encoder encounters an error, the application invokes `ctx_exit_on_error()` to terminate the process. But the codec context was not always destroyed which can result in memory leaks. In this CL, `aom_codec_destroy()` is invoked inside `warn_or_exit_on_errorv()` before exiting.\nThis change has been validated with valgrind by simulating errors at different stages of the encoder (encoder_init, aom_codec_control and encoder_encode).",
      "revId": "7c5b883ebe3598448bed5343e54ee50fa88e872b",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}