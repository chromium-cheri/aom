{
  "comments": [
    {
      "key": {
        "uuid": "5a4d33ab_eebf5f7a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 9545
      },
      "writtenOn": "2020-09-28T22:48:18Z",
      "side": 1,
      "message": "PTAL. I implemented James\u0027s suggestion in his review of https://aomedia-review.googlesource.com/c/aom/+/119503?tab\u003dcomments.",
      "revId": "ac1723a694881a0d846fff24ebe68c06274dcdbd",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "952238df_48c97bbb",
        "filename": "common/args.c",
        "patchSetId": 3
      },
      "lineNbr": 214,
      "author": {
        "id": 9545
      },
      "writtenOn": "2020-09-28T22:48:18Z",
      "side": 1,
      "message": "Sample output when I re-introduced the bug that I fixed in https://aomedia-review.googlesource.com/c/aom/+/119521:\n\n$ ./aomenc --help\nUsage: ./aomenc \u003coptions\u003e -o dst_filename src_filename \n\nOptions:\n            --help                      Show usage options and exit\n  -c \u003carg\u003e, --cfg\u003d\u003carg\u003e                 Config file to use\n  -D,       --debug                     Debug mode (makes output deterministic)\n[...snipped...]\n            --enable-rect-partitions\u003d\u003c  Enable rectangular partitions (0: false, 1: true (default))\n            --enable-ab-partitions\u003d\u003car  Enable ab partitions (0: false, 1: true (default))\n            --enable-1to4-partitions\u003d\u003c  Enable 1:4 and 4:1 partitions (0: false, 1: true (default))\nFatal: Error: option min-partition-size has invalid has_val value 4.",
      "revId": "ac1723a694881a0d846fff24ebe68c06274dcdbd",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ffac67cd_78a0775f",
        "filename": "common/args.c",
        "patchSetId": 3
      },
      "lineNbr": 214,
      "author": {
        "id": 5020
      },
      "writtenOn": "2020-09-28T23:05:19Z",
      "side": 1,
      "message": "\u003e Sample output when I re-introduced the bug that I fixed in https://aomedia-review.googlesource.com/c/aom/+/119521:\n\u003e \n\u003e $ ./aomenc --help\n\u003e Usage: ./aomenc \u003coptions\u003e -o dst_filename src_filename \n\u003e \n\u003e Options:\n\u003e             --help                      Show usage options and exit\n\u003e   -c \u003carg\u003e, --cfg\u003d\u003carg\u003e                 Config file to use\n\u003e   -D,       --debug                     Debug mode (makes output deterministic)\n\u003e [...snipped...]\n\u003e             --enable-rect-partitions\u003d\u003c  Enable rectangular partitions (0: false, 1: true (default))\n\u003e             --enable-ab-partitions\u003d\u003car  Enable ab partitions (0: false, 1: true (default))\n\u003e             --enable-1to4-partitions\u003d\u003c  Enable 1:4 and 4:1 partitions (0: false, 1: true (default))\n\u003e Fatal: Error: option min-partition-size has invalid has_val value 4.\n\nThe only risk is that it requires an invocation with --help, we could add this case to the example tests to make sure it doesn\u0027t regress.",
      "parentUuid": "952238df_48c97bbb",
      "revId": "ac1723a694881a0d846fff24ebe68c06274dcdbd",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90c41fc9_e07c6023",
        "filename": "common/args.c",
        "patchSetId": 3
      },
      "lineNbr": 214,
      "author": {
        "id": 9545
      },
      "writtenOn": "2020-09-29T16:52:19Z",
      "side": 1,
      "message": "\u003e The only risk is that it requires an invocation with --help, we could add this case to the example tests to make sure it doesn\u0027t regress.\n\nThanks for the review and suggestion! I could not quite figure out a good place in one of the shell scripts in aom/test/ to run \"aomenc --help\", so I switched to simply adding an assertion to arg_match(). The error message is less informative:\n\n  aomenc: aom/common/args.c:146: arg_match: Assertion `def-\u003ehas_val \u003d\u003d 0 || def-\u003ehas_val \u003d\u003d 1 || def-\u003ehas_val \u003d\u003d -1\u0027 failed.\n  Aborted\n\ncompared with:\n\n  Fatal: Error: option min-partition-size has invalid has_val value 4.\n\nBut one can easily run the debug build of aomenc in a debugger to figure out which arg_def causes the assertion failure.",
      "parentUuid": "ffac67cd_78a0775f",
      "revId": "ac1723a694881a0d846fff24ebe68c06274dcdbd",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    }
  ]
}