{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "a143a20e_bd06dfef",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 26549
      },
      "writtenOn": "2022-11-15T12:15:06Z",
      "side": 1,
      "message": "Hi, I\u0027m a libavif contributor. This patch fixes some corner cases in libaom\u0027s internal scaler, which is used in progressive AVIF encoding. Please review, thanks.",
      "revId": "147797237aa9a98991b1d25cc101a61f7faf3be4",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d1985d0e_c2bac731",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-11-17T18:47:56Z",
      "side": 1,
      "message": "Yuan: Thank you very much for the CL. Please consider my review as supplemental because I am not familiar with some of the code modified by this CL.",
      "revId": "147797237aa9a98991b1d25cc101a61f7faf3be4",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ace26e17_7fab9d59",
        "filename": "av1/common/resize.c",
        "patchSetId": 1
      },
      "lineNbr": 1205,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-11-17T18:47:56Z",
      "side": 1,
      "message": "Jerome: I don\u0027t understand this function. Please review the changes to this function.",
      "revId": "147797237aa9a98991b1d25cc101a61f7faf3be4",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "030dfdb0_2f5627ad",
        "filename": "av1/common/resize.c",
        "patchSetId": 1
      },
      "lineNbr": 1210,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-11-17T18:47:56Z",
      "side": 1,
      "message": "Nit: There is an extra space after `*`. Please run clang-format on this CL.",
      "revId": "147797237aa9a98991b1d25cc101a61f7faf3be4",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6971cda9_b8376700",
        "filename": "av1/common/resize.c",
        "patchSetId": 1
      },
      "lineNbr": 1394,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-11-17T18:47:56Z",
      "side": 1,
      "message": "Optional: Pass `scaled-\u003ey_crop_width` and `scaled-\u003ey_crop_height` instead of `scaled_width` and `scaled_height` as the last two arguments, because the code below (lines 1403-1418) deals with `unscaled` and `scaled`.",
      "revId": "147797237aa9a98991b1d25cc101a61f7faf3be4",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3cbae4a8_80df62be",
        "filename": "av1/common/resize.h",
        "patchSetId": 1
      },
      "lineNbr": 109,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-11-17T18:47:56Z",
      "side": 1,
      "message": "Nit: Add \"the\" before \"normative scaler\" and \"non-normative scaler\" if there is only one normative scaler and one non-normative scaler.\n\nAlso change \"scale ratio\" to \"scaling ratios\".",
      "revId": "147797237aa9a98991b1d25cc101a61f7faf3be4",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e1cf21e4_532cae8e",
        "filename": "av1/common/x86/resize_ssse3.c",
        "patchSetId": 1
      },
      "lineNbr": 822,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-11-17T18:47:56Z",
      "side": 1,
      "message": "Note: My comments in this file also apply to av1/common/arm/resize_neon.c.\n\nNit/optional: If we use the exact same expressions as lines 860, 892, 927, 956 (except for the different variable names), then we will be able to verify the correctness of this function slightly more easily.",
      "revId": "147797237aa9a98991b1d25cc101a61f7faf3be4",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7cb5ec7a_afd19ca5",
        "filename": "av1/common/x86/resize_ssse3.c",
        "patchSetId": 1
      },
      "lineNbr": 842,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-11-17T18:47:56Z",
      "side": 1,
      "message": "Could you explain why we can\u0027t rely on the following code at lines 973-974?\n\n```\n  if (!scaled) {\n    av1_resize_and_extend_frame_c(src, dst, filter, phase, num_planes);\n  } else {\n```\n\nIt seems that the way we set the `scaled` boolean flag is incorrect. For example, we set `scaled` to 1 when we have scaled any plane, but it seems that we should only set `scaled` to 1 when we have scaled all planes. One way to fix this error is to initialize `scaled` to 1 and then set `scaled` to 0 if we fail to scale any plane.",
      "revId": "147797237aa9a98991b1d25cc101a61f7faf3be4",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "61c2ebba_e09dec50",
        "filename": "av1/common/x86/resize_ssse3.c",
        "patchSetId": 1
      },
      "lineNbr": 971,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-11-17T18:47:56Z",
      "side": 1,
      "message": "It seems that we should add an else branch here to set `scaled` to 0:\n\n```\n    } else if (dst_w \u003d\u003d src_w * 2 \u0026\u0026 dst_h \u003d\u003d src_h * 2) {\n      // 1 to 2\n      ...\n    } else {\n      scaled \u003d 0;\n    }\n```",
      "revId": "147797237aa9a98991b1d25cc101a61f7faf3be4",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e4f68ce0_fde10eac",
        "filename": "av1/encoder/encoder_utils.c",
        "patchSetId": 1
      },
      "lineNbr": 736,
      "author": {
        "id": 9545
      },
      "writtenOn": "2022-11-17T18:47:56Z",
      "side": 1,
      "message": "IMPORTANT: Should we pass `ref-\u003ey_crop_width` and `ref-\u003ey_crop_height` instead of `cm-\u003ewidth` and `cm-\u003eheight` as the first two arguments?\n\nNote that the code (lines 745-760) below deals with `ref` and `\u0026new_fb-\u003ebuf`.\n\nI am not sure if `cm-\u003ewidth \u003d\u003d ref-\u003ey_crop_width` and `cm-\u003eheight \u003d\u003d ref-\u003ey_crop_height` are true.",
      "revId": "147797237aa9a98991b1d25cc101a61f7faf3be4",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}