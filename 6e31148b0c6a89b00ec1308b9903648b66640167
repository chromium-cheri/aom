{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "9183e197_cd1e4b12",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 9611
      },
      "writtenOn": "2021-03-03T16:50:27Z",
      "side": 1,
      "message": "Hi Wan-Teh,\n\nWe have resubmitted the patch \"Optimize bit stream buffer allocation size\" by changing the minimum buffer size required to 2 times the uncompressed frame size in case of all intra encoding.\n\nWe validated the current patch for video and still-image encode. Specifically, we configured libaom in ALLINTRA mode (in libavif) for AVIF encode.\nFor libaom AV1 video encode, bit match is verified (w.r.t parent commit) for few videos with different video encoding configurations. It was verified that output of AVIF encode is bit-exact with parent version for a typical image dataset.\n\nWe have also validated the patch using the unit-test AV1LosslessFrameSizeTests, with/without address sanitizer.\n\nFollowing are the HEAP memory reduction results, when AVIF encode was tested for ‘building.jpg’ (4032x3024) image at cq_level\u003d18.\n   Speed                 HEAP Memory\n   preset                Reduction(%)\n     6          ~22.2 (from 473.7 MB to 368.5 MB)\n\nPlease review the patch.\n\nThanks \u0026 Regards,\nVenkata.",
      "revId": "6e31148b0c6a89b00ec1308b9903648b66640167",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}