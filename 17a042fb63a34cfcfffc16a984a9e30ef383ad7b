{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "8754c217_c14e1e96",
        "filename": "av1/av1_cx_iface.c",
        "patchSetId": 3
      },
      "lineNbr": 2990,
      "author": {
        "id": 9545
      },
      "writtenOn": "2023-03-15T23:10:30Z",
      "side": 0,
      "message": "Note to self:\n\nThis `av1_alloc_layer_context()` call and the other `av1_alloc_layer_context()` call in `ctrl_set_svc_params()` were both added in https://aomedia-review.googlesource.com/c/aom/+/161523.\n\nThe `av1_alloc_layer_context()` calls were later modified in https://aomedia-review.googlesource.com/c/aom/+/167824 and https://aomedia-review.googlesource.com/c/aom/+/167883 to handle memory allocation errors and to make the first call conditional.\n\nThe only way for the condition `num_layers \u003e 1` to become true here is that `ctrl_set_svc_params()` or `AV1RateControlRTC::UpdateRateControl()` has been called. In both cases `av1_alloc_layer_context()` will have been called (by `ctrl_set_svc_params()` or by the caller of `AV1RateControlRTC::UpdateRateControl()`), so this call is redundant.",
      "revId": "17a042fb63a34cfcfffc16a984a9e30ef383ad7b",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}