{
  "comments": [
    {
      "key": {
        "uuid": "9563c235_afa39c54",
        "filename": "av1/av1_cx_iface.c",
        "patchSetId": 1
      },
      "lineNbr": 2160,
      "author": {
        "id": 9545
      },
      "writtenOn": "2020-06-11T18:31:27Z",
      "side": 1,
      "message": "I suspect that the encoder only cares about the fields of |sd| set in the first two lines. So the last three lines are probably more about self consistency of the YV12_BUFFER_CONFIG struct than necessity.",
      "range": {
        "startLine": 2158,
        "startChar": 0,
        "endLine": 2160,
        "endChar": 26
      },
      "revId": "7c44023775b2f3c7e8ba381c1e6a4844c63bfac6",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a102fafc_1288340e",
        "filename": "av1/av1_cx_iface.c",
        "patchSetId": 1
      },
      "lineNbr": 2160,
      "author": {
        "id": 5005
      },
      "writtenOn": "2020-06-11T20:12:54Z",
      "side": 1,
      "message": "Should the last line imply all the above lines?",
      "parentUuid": "9563c235_afa39c54",
      "range": {
        "startLine": 2158,
        "startChar": 0,
        "endLine": 2160,
        "endChar": 26
      },
      "revId": "7c44023775b2f3c7e8ba381c1e6a4844c63bfac6",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b066fdbb_da859646",
        "filename": "av1/av1_cx_iface.c",
        "patchSetId": 1
      },
      "lineNbr": 2160,
      "author": {
        "id": 9545
      },
      "writtenOn": "2020-06-12T17:07:22Z",
      "side": 1,
      "message": "I don\u0027t know of any libaom encoder code that checks the sd.monochrome field. So the most reliable way to ensure a YV12_BUFFER_CONFIG struct is treated as a monochrome image is to set its u_buffer and v_buffer to NULL. The other fields that I set here are really for the self consistency of the YV12_BUFFER_CONFIG struct.\n\nHowever, once we set sd.monochrome to 1 here, the encoder can start to check it. For example, we can simplify your fix for https://crbug.com/aomedia/2639 to check the \u0027monochrome\u0027 field instead of the \u0027u_buffer\u0027 and \u0027v_buffer\u0027 fields. I can write a CL to do that once this CL is submitted.",
      "parentUuid": "a102fafc_1288340e",
      "range": {
        "startLine": 2158,
        "startChar": 0,
        "endLine": 2160,
        "endChar": 26
      },
      "revId": "7c44023775b2f3c7e8ba381c1e6a4844c63bfac6",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    }
  ]
}