{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "f01f254c_fc994630",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 5250
      },
      "writtenOn": "2021-06-18T17:28:00Z",
      "side": 1,
      "message": "spherical\n\nIn AV1, global motion vector has a different meaning.",
      "range": {
        "startLine": 7,
        "startChar": 28,
        "endLine": 7,
        "endChar": 34
      },
      "revId": "1c14f51fa45630d69a5173c05f92a1b11ff9804d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4d845fbd_13649220",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 7525
      },
      "writtenOn": "2021-06-18T17:56:25Z",
      "side": 1,
      "message": "Generally looks good. Please see comments below.",
      "revId": "1c14f51fa45630d69a5173c05f92a1b11ff9804d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2b2e1240_4ccb541e",
        "filename": "av1/common/spherical_pred.c",
        "patchSetId": 1
      },
      "lineNbr": 52,
      "author": {
        "id": 7525
      },
      "writtenOn": "2021-06-18T17:56:25Z",
      "side": 1,
      "message": "On second thought, can we change this to something like:\ny \u003d AOMMAX(y, 0);\ny \u003d AOMMIN(y, height - 0.00001);",
      "range": {
        "startLine": 52,
        "startChar": 2,
        "endLine": 52,
        "endChar": 31
      },
      "revId": "1c14f51fa45630d69a5173c05f92a1b11ff9804d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a6c772ae_57ac5e73",
        "filename": "av1/common/spherical_pred.c",
        "patchSetId": 1
      },
      "lineNbr": 52,
      "author": {
        "id": 26932
      },
      "writtenOn": "2021-06-18T18:28:08Z",
      "side": 1,
      "message": "Should I change it in this CL or the range control CL?",
      "parentUuid": "2b2e1240_4ccb541e",
      "range": {
        "startLine": 52,
        "startChar": 2,
        "endLine": 52,
        "endChar": 31
      },
      "revId": "1c14f51fa45630d69a5173c05f92a1b11ff9804d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "08b37442_a18054a7",
        "filename": "av1/common/spherical_pred.c",
        "patchSetId": 1
      },
      "lineNbr": 52,
      "author": {
        "id": 7525
      },
      "writtenOn": "2021-06-18T20:40:25Z",
      "side": 1,
      "message": "The range control CL is already merged so we cannot change it. Please change this in this CL.",
      "parentUuid": "a6c772ae_57ac5e73",
      "range": {
        "startLine": 52,
        "startChar": 2,
        "endLine": 52,
        "endChar": 31
      },
      "revId": "1c14f51fa45630d69a5173c05f92a1b11ff9804d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ac318a17_2b25b8f3",
        "filename": "av1/common/spherical_pred.c",
        "patchSetId": 1
      },
      "lineNbr": 89,
      "author": {
        "id": 7525
      },
      "writtenOn": "2021-06-18T17:56:25Z",
      "side": 1,
      "message": "Should be width frist.",
      "range": {
        "startLine": 89,
        "startChar": 30,
        "endLine": 89,
        "endChar": 55
      },
      "revId": "1c14f51fa45630d69a5173c05f92a1b11ff9804d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2e9c5a82_e790167d",
        "filename": "av1/common/spherical_pred.c",
        "patchSetId": 1
      },
      "lineNbr": 89,
      "author": {
        "id": 26932
      },
      "writtenOn": "2021-06-18T18:28:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ac318a17_2b25b8f3",
      "range": {
        "startLine": 89,
        "startChar": 30,
        "endLine": 89,
        "endChar": 55
      },
      "revId": "1c14f51fa45630d69a5173c05f92a1b11ff9804d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2c390b04_7aac5649",
        "filename": "av1/common/spherical_pred.c",
        "patchSetId": 1
      },
      "lineNbr": 92,
      "author": {
        "id": 5250
      },
      "writtenOn": "2021-06-18T17:22:39Z",
      "side": 1,
      "message": "round(x_ref) round(y_ref)",
      "range": {
        "startLine": 92,
        "startChar": 21,
        "endLine": 92,
        "endChar": 26
      },
      "revId": "1c14f51fa45630d69a5173c05f92a1b11ff9804d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "61ace7bb_04e1ddf8",
        "filename": "av1/common/spherical_pred.c",
        "patchSetId": 1
      },
      "lineNbr": 92,
      "author": {
        "id": 7525
      },
      "writtenOn": "2021-06-18T17:56:25Z",
      "side": 1,
      "message": "Agree with Angie here. Rounding the coordinates here gives better prediction. After rounding, if x \u003d\u003d width then we set x \u003d 0, and if y \u003d\u003d height we set y \u003d height - 1;",
      "parentUuid": "2c390b04_7aac5649",
      "range": {
        "startLine": 92,
        "startChar": 21,
        "endLine": 92,
        "endChar": 26
      },
      "revId": "1c14f51fa45630d69a5173c05f92a1b11ff9804d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "27d37d98_23dab347",
        "filename": "av1/common/spherical_pred.c",
        "patchSetId": 1
      },
      "lineNbr": 92,
      "author": {
        "id": 26932
      },
      "writtenOn": "2021-06-18T18:28:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "61ace7bb_04e1ddf8",
      "range": {
        "startLine": 92,
        "startChar": 21,
        "endLine": 92,
        "endChar": 26
      },
      "revId": "1c14f51fa45630d69a5173c05f92a1b11ff9804d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2081f10b_884d405e",
        "filename": "av1/common/spherical_pred.c",
        "patchSetId": 1
      },
      "lineNbr": 92,
      "author": {
        "id": 26932
      },
      "writtenOn": "2021-06-18T18:28:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "61ace7bb_04e1ddf8",
      "range": {
        "startLine": 92,
        "startChar": 21,
        "endLine": 92,
        "endChar": 26
      },
      "revId": "1c14f51fa45630d69a5173c05f92a1b11ff9804d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "309cd9e1_bb5cae11",
        "filename": "av1/common/spherical_pred.h",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 7525
      },
      "writtenOn": "2021-06-18T17:56:25Z",
      "side": 1,
      "message": "Is this needed?",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 19,
        "endChar": 19
      },
      "revId": "1c14f51fa45630d69a5173c05f92a1b11ff9804d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0f71f1b3_9c8f65e6",
        "filename": "av1/common/spherical_pred.h",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 26932
      },
      "writtenOn": "2021-06-18T18:28:08Z",
      "side": 1,
      "message": "It is for the uint8_t. Otherwise the compiler will give errors:\n\nIn file included from /usr/local/google/home/yaoyaogoogle/av2/aom/test/spherical_pred_test.cc:14:\n/usr/local/google/home/yaoyaogoogle/av2/aom/av1/common/spherical_pred.h:67:23: error: ‘uint8_t’ has not been declared\n   67 |                       uint8_t *ref_frame, int ref_frame_stride, int frame_width,\n      |                       ^~~~~~~\n/usr/local/google/home/yaoyaogoogle/av2/aom/av1/common/spherical_pred.h:69:23: error: ‘uint8_t’ has not been declared\n   69 |                       uint8_t *pred_block);\n      |                       ^~~~~~~",
      "parentUuid": "309cd9e1_bb5cae11",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 19,
        "endChar": 19
      },
      "revId": "1c14f51fa45630d69a5173c05f92a1b11ff9804d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "717d2889_d266fdf9",
        "filename": "av1/common/spherical_pred.h",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 7525
      },
      "writtenOn": "2021-06-18T20:40:25Z",
      "side": 1,
      "message": "Ack. Thanks!",
      "parentUuid": "0f71f1b3_9c8f65e6",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 19,
        "endChar": 19
      },
      "revId": "1c14f51fa45630d69a5173c05f92a1b11ff9804d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c651790e_0640f01c",
        "filename": "av1/common/spherical_pred.h",
        "patchSetId": 1
      },
      "lineNbr": 47,
      "author": {
        "id": 7525
      },
      "writtenOn": "2021-06-18T17:56:25Z",
      "side": 1,
      "message": "delta_phi, delta_theta",
      "range": {
        "startLine": 47,
        "startChar": 43,
        "endLine": 47,
        "endChar": 54
      },
      "revId": "1c14f51fa45630d69a5173c05f92a1b11ff9804d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bcc906b7_4b163eaa",
        "filename": "av1/common/spherical_pred.h",
        "patchSetId": 1
      },
      "lineNbr": 47,
      "author": {
        "id": 26932
      },
      "writtenOn": "2021-06-18T18:28:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c651790e_0640f01c",
      "range": {
        "startLine": 47,
        "startChar": 43,
        "endLine": 47,
        "endChar": 54
      },
      "revId": "1c14f51fa45630d69a5173c05f92a1b11ff9804d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}