{
  "comments": [
    {
      "key": {
        "uuid": "78ba4777_a4622dd8",
        "filename": "av1/common/blockd.h",
        "patchSetId": 59
      },
      "lineNbr": 175,
      "author": {
        "id": 5975
      },
      "writtenOn": "2017-06-06T16:27:35Z",
      "side": 1,
      "message": "This condition comes up quite often - might be worth making a function for it?\n(eg, replace this block by assert(is_any_comp_pred_mode(mode)) or something like that)",
      "range": {
        "startLine": 171,
        "startChar": 0,
        "endLine": 175,
        "endChar": 36
      },
      "revId": "ffc8c9138a8dae2bc3e71a7f01e1211daa4a3e5e",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b5fba905_bb2a2a46",
        "filename": "av1/common/blockd.h",
        "patchSetId": 59
      },
      "lineNbr": 175,
      "author": {
        "id": 5200
      },
      "writtenOn": "2017-06-06T17:11:28Z",
      "side": 1,
      "message": "Thanks for the good suggestion. Will do.",
      "parentUuid": "78ba4777_a4622dd8",
      "range": {
        "startLine": 171,
        "startChar": 0,
        "endLine": 175,
        "endChar": 36
      },
      "revId": "ffc8c9138a8dae2bc3e71a7f01e1211daa4a3e5e",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cedcb049_0d39eacc",
        "filename": "av1/common/blockd.h",
        "patchSetId": 59
      },
      "lineNbr": 175,
      "author": {
        "id": 5200
      },
      "writtenOn": "2017-06-10T10:25:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "78ba4777_a4622dd8",
      "range": {
        "startLine": 171,
        "startChar": 0,
        "endLine": 175,
        "endChar": 36
      },
      "revId": "ffc8c9138a8dae2bc3e71a7f01e1211daa4a3e5e",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "31dc3361_2c6d10e8",
        "filename": "av1/common/reconinter.c",
        "patchSetId": 59
      },
      "lineNbr": 930,
      "author": {
        "id": 5975
      },
      "writtenOn": "2017-06-06T16:27:35Z",
      "side": 1,
      "message": "I\u0027m unsure what this block (and the corresponding one in rdopt.c) should be doing when compound-singleref is enabled.\n\nCurrently this always sets is_global[0] \u003d is_global[1] \u003d 0, because is_global_mv_block() doesn\u0027t check for SR_ZERO_NEWMV. I think(?) the correct behaviour is that, when the mode is SR_ZERO_NEWMV (and the other checks in is_global_mv_block() pass), is_global[0] should be set to 1 and is_global[0] to 0, to indicate that we should use the global motion model for the first component but not the second. Does that seem reasonable?",
      "range": {
        "startLine": 922,
        "startChar": 0,
        "endLine": 930,
        "endChar": 56
      },
      "revId": "ffc8c9138a8dae2bc3e71a7f01e1211daa4a3e5e",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6467262d_877ccbaa",
        "filename": "av1/common/reconinter.c",
        "patchSetId": 59
      },
      "lineNbr": 930,
      "author": {
        "id": 5200
      },
      "writtenOn": "2017-06-06T17:11:28Z",
      "side": 1,
      "message": "Yes, a good suggestion. Will do.",
      "parentUuid": "31dc3361_2c6d10e8",
      "range": {
        "startLine": 922,
        "startChar": 0,
        "endLine": 930,
        "endChar": 56
      },
      "revId": "ffc8c9138a8dae2bc3e71a7f01e1211daa4a3e5e",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c96aed25_b641fa20",
        "filename": "av1/decoder/decodemv.c",
        "patchSetId": 59
      },
      "lineNbr": 355,
      "author": {
        "id": 5975
      },
      "writtenOn": "2017-06-07T16:53:47Z",
      "side": 1,
      "message": "More of a longer-term suggestion, which might be worth leaving to a separate patch:\n\nCurrently we\u0027re using the compound_mode_context array to determine the \u0027ctx\u0027 argument here. We could instead use the single mode context array, which gives access to the ALL_ZERO flag. If that is set, we know that zero \u003d\u003d nearest \u003d\u003d near, so we only need to choose between SR_ZERO_NEWMV or SR_NEW_NEWMV. Or we could even say that you can *only* use SR_NEW_NEWMV in that case.",
      "range": {
        "startLine": 342,
        "startChar": 0,
        "endLine": 355,
        "endChar": 1
      },
      "revId": "ffc8c9138a8dae2bc3e71a7f01e1211daa4a3e5e",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4b859c25_ad1cbdd2",
        "filename": "av1/decoder/decodemv.c",
        "patchSetId": 59
      },
      "lineNbr": 355,
      "author": {
        "id": 5200
      },
      "writtenOn": "2017-06-10T10:25:24Z",
      "side": 1,
      "message": "Acknowledged. Thanks for the suggestion.",
      "parentUuid": "c96aed25_b641fa20",
      "range": {
        "startLine": 342,
        "startChar": 0,
        "endLine": 355,
        "endChar": 1
      },
      "revId": "ffc8c9138a8dae2bc3e71a7f01e1211daa4a3e5e",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "83d7c947_791cb72e",
        "filename": "av1/decoder/decodemv.c",
        "patchSetId": 59
      },
      "lineNbr": 1647,
      "author": {
        "id": 5975
      },
      "writtenOn": "2017-06-07T16:53:47Z",
      "side": 1,
      "message": "I wonder if it might be worth basing the two NEWMVs on different ref-mvs? Eg, base the first mv on the nearestmv and the second mv on the nearmv. That might help in cases where we have two significantly different motions going on.",
      "range": {
        "startLine": 1647,
        "startChar": 1,
        "endLine": 1647,
        "endChar": 78
      },
      "revId": "ffc8c9138a8dae2bc3e71a7f01e1211daa4a3e5e",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7e6b754e_024996f9",
        "filename": "av1/decoder/decodemv.c",
        "patchSetId": 59
      },
      "lineNbr": 1647,
      "author": {
        "id": 5200
      },
      "writtenOn": "2017-06-10T10:25:24Z",
      "side": 1,
      "message": "A valuable suggestion. Currently, we have problem in getting nearestmv and nearmv used together with the newmv mode though - Neither the use of SR_NEAREST_NEWMV or SR_NEAR_NEWMV seems help on the coding efficiency.",
      "parentUuid": "83d7c947_791cb72e",
      "range": {
        "startLine": 1647,
        "startChar": 1,
        "endLine": 1647,
        "endChar": 78
      },
      "revId": "ffc8c9138a8dae2bc3e71a7f01e1211daa4a3e5e",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0380bdfb_a4c36f37",
        "filename": "av1/encoder/rdopt.c",
        "patchSetId": 59
      },
      "lineNbr": 5623,
      "author": {
        "id": 5975
      },
      "writtenOn": "2017-06-06T16:27:35Z",
      "side": 1,
      "message": "Same comment as in reconinter.c",
      "range": {
        "startLine": 5610,
        "startChar": 0,
        "endLine": 5623,
        "endChar": 56
      },
      "revId": "ffc8c9138a8dae2bc3e71a7f01e1211daa4a3e5e",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1aa1eebf_1b5b3d1a",
        "filename": "av1/encoder/rdopt.c",
        "patchSetId": 59
      },
      "lineNbr": 8456,
      "author": {
        "id": 5975
      },
      "writtenOn": "2017-06-07T16:53:47Z",
      "side": 1,
      "message": "This can be removed, because we\u0027re in a #if !CONFIG_EXT_INTER block here",
      "range": {
        "startLine": 8454,
        "startChar": 0,
        "endLine": 8456,
        "endChar": 56
      },
      "revId": "ffc8c9138a8dae2bc3e71a7f01e1211daa4a3e5e",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4cfe6d4b_2f50a3e8",
        "filename": "av1/encoder/rdopt.c",
        "patchSetId": 59
      },
      "lineNbr": 8456,
      "author": {
        "id": 5200
      },
      "writtenOn": "2017-06-10T10:25:24Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1aa1eebf_1b5b3d1a",
      "range": {
        "startLine": 8454,
        "startChar": 0,
        "endLine": 8456,
        "endChar": 56
      },
      "revId": "ffc8c9138a8dae2bc3e71a7f01e1211daa4a3e5e",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "30895677_2d763d26",
        "filename": "av1/encoder/rdopt.c",
        "patchSetId": 59
      },
      "lineNbr": 11130,
      "author": {
        "id": 5975
      },
      "writtenOn": "2017-06-06T16:27:35Z",
      "side": 1,
      "message": "This and the block below are correct - the idea is to avoid overlapping NEAREST_NEWMV modes (which use ref_mv_idx \u003d 0) and NEAR_NEWMV modes (which therefore need ref_mv_idx \u003e 0, but which still set mbmi-\u003eref_mv_idx\u003d0,1,2 for some reason). It is admittedly a bit of a hack.",
      "range": {
        "startLine": 11129,
        "startChar": 0,
        "endLine": 11130,
        "endChar": 64
      },
      "revId": "ffc8c9138a8dae2bc3e71a7f01e1211daa4a3e5e",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0164a841_12c9829f",
        "filename": "av1/encoder/rdopt.c",
        "patchSetId": 59
      },
      "lineNbr": 11130,
      "author": {
        "id": 5200
      },
      "writtenOn": "2017-06-06T17:11:28Z",
      "side": 1,
      "message": "Thanks for checking. Currently it does not seem SR_NEAREST_NEWMV and SR_NEAR_NEWMV help at all on top of the other three modes.",
      "parentUuid": "30895677_2d763d26",
      "range": {
        "startLine": 11129,
        "startChar": 0,
        "endLine": 11130,
        "endChar": 64
      },
      "revId": "ffc8c9138a8dae2bc3e71a7f01e1211daa4a3e5e",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    }
  ]
}