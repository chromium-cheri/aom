{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "083308f3_42f63486",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 31567
      },
      "writtenOn": "2023-01-10T15:04:54Z",
      "side": 1,
      "message": "Hi Wan-Teh, Frank, \n\nIn this CL, we introduced a speed feature ‘prune_rect_part_using_4x4_var_deviation’ to prune rectangular partitions based on variance of 4x4 sub-blocks in the block. The function should_prune_rect_part_using_var_deviation() checks if the difference between the maximum and minimum sub-block variances within the block is less than a threshold(derived empirically). If true, splitting the block further might not be required and hence rectangular partition evaluations are pruned by setting \u0027part_search_state.do_rectangular_split\u0027 to 0. This change is applicable only for --allintra speed\u003d6.\n\nFor AVIF still-image encode with tune\u003dssim,\n\n```\n               Encode Time           BD-Rate Loss(%)\ncpu-used       Reduction(%)         psnr         ssim\n    6             8.140            0.1537       0.3797\n```\n\nFollowing are the instruction count reduction results when libaom allintra frame encoding (50 frames) was tested for a borg setup.\n\n```\n            Instruction Count         BD-Rate Loss(%)\ncpu-used       Reduction(%)      avg.psnr   ovr.psnr   ssim\n    6             6.452           0.2379     0.2366   0.4512\n``` \n\nFor libaom AV1 video encode, bit-match is verified (w.r.t. parent commit) for \u0027GOOD\u0027 and \u0027RT\u0027 encoding modes for a few contents with different encoding configurations. It is verified that the CL is bit-exact for allintra encode, speed \u003e 6, with no speed impact.\n\nPlease review.\n\nRegards,\nNeha.",
      "revId": "2961f21f095d9a64edb4609b9aebfba641d3e22a",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}