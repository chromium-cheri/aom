{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "6d3243e9_e9014c86",
        "filename": "av1/encoder/sparse_linear_solver.c",
        "patchSetId": 8
      },
      "lineNbr": 156,
      "author": {
        "id": 5250
      },
      "writtenOn": "2021-02-24T00:51:37Z",
      "side": 1,
      "message": "It could be good to have a follow-up patch that adds aom_clear_system_state() when there is a floating point operation.\n\n[opt] It would be good to incrementally add unit tests.",
      "range": {
        "startLine": 156,
        "startChar": 2,
        "endLine": 156,
        "endChar": 20
      },
      "revId": "27f68fe0666df0f757b8560ac552568ecd529f7a",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f6a11180_1dba5cac",
        "filename": "av1/encoder/sparse_linear_solver.c",
        "patchSetId": 8
      },
      "lineNbr": 156,
      "author": {
        "id": 7525
      },
      "writtenOn": "2021-02-24T18:09:57Z",
      "side": 1,
      "message": "Thanks! Could you let me know what aom_clear_system_state() achieves for floating point operations? I\u0027m not very familiar with this function.",
      "parentUuid": "6d3243e9_e9014c86",
      "range": {
        "startLine": 156,
        "startChar": 2,
        "endLine": 156,
        "endChar": 20
      },
      "revId": "27f68fe0666df0f757b8560ac552568ecd529f7a",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6ce05843_805be7c5",
        "filename": "av1/encoder/sparse_linear_solver.c",
        "patchSetId": 8
      },
      "lineNbr": 156,
      "author": {
        "id": 5250
      },
      "writtenOn": "2021-02-25T03:15:42Z",
      "side": 1,
      "message": "We need this because intel has a cpu bug.\nThe rough idea is SIMD and floating point share the same register and they will interfere with each other.\nWhen we switch from SIMD computation to floating point computation, we need to call aom_clear_system_state().\nSo the best practice is to always add aom_clear_system_state() before floating point operation.\nMaybe Yunqing and Jzern will know more about this. You can add them as reviewer for the followup patch.",
      "parentUuid": "f6a11180_1dba5cac",
      "range": {
        "startLine": 156,
        "startChar": 2,
        "endLine": 156,
        "endChar": 20
      },
      "revId": "27f68fe0666df0f757b8560ac552568ecd529f7a",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a931d3ff_52cd44d2",
        "filename": "av1/encoder/sparse_linear_solver.c",
        "patchSetId": 8
      },
      "lineNbr": 156,
      "author": {
        "id": 7525
      },
      "writtenOn": "2021-02-25T19:46:50Z",
      "side": 1,
      "message": "I see. Thanks a lot for the explanation! From today\u0027s weekly meeting I think Chi-yo is working on fixing some related issues. Will see if I should add aom_clear_system_state() afterwards.",
      "parentUuid": "6ce05843_805be7c5",
      "range": {
        "startLine": 156,
        "startChar": 2,
        "endLine": 156,
        "endChar": 20
      },
      "revId": "27f68fe0666df0f757b8560ac552568ecd529f7a",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e40a5942_c3bb94d5",
        "filename": "av1/encoder/sparse_linear_solver.c",
        "patchSetId": 8
      },
      "lineNbr": 156,
      "author": {
        "id": 7525
      },
      "writtenOn": "2021-02-25T19:47:04Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "a931d3ff_52cd44d2",
      "range": {
        "startLine": 156,
        "startChar": 2,
        "endLine": 156,
        "endChar": 20
      },
      "revId": "27f68fe0666df0f757b8560ac552568ecd529f7a",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}